/*
活动名称：频道关注2

运行一次即可

cron: 1 1 1 1 * jd_Channel_Follow2.js

 */
const $ = new Env('频道关注2');
var iｉl='jsjiami.com.v7';const IilIli=iii1II;(function(iiilll,lI11Il,lIII1i,l11i11,IilIl1,lIII1l,l1iIIi){return iiilll=iiilll>>0x1,lIII1l='hs',l1iIIi='hs',function(lilIi,l1l11I,lilIl,IilIlI,iIli11){const Iiili=iii1II;IilIlI='tfi',lIII1l=IilIlI+lIII1l,iIli11='up',l1iIIi+=iIli11,lIII1l=lilIl(lIII1l),l1iIIi=lilIl(l1iIIi),lilIl=0x0;const Iiiil=lilIi();while(!![]&&--l11i11+l1l11I){try{IilIlI=-parseInt(Iiili(0x21c,'v0iz'))/0x1+-parseInt(Iiili(0x225,'niJ8'))/0x2*(-parseInt(Iiili(0x1fc,'%aK['))/0x3)+parseInt(Iiili(0x215,'%aK['))/0x4+parseInt(Iiili(0x1c0,'Y!I@'))/0x5*(-parseInt(Iiili(0x1db,'LUvR'))/0x6)+parseInt(Iiili(0x1df,'7Rf2'))/0x7*(-parseInt(Iiili(0x220,'ni8A'))/0x8)+parseInt(Iiili(0x201,'usm@'))/0x9+-parseInt(Iiili(0x1f8,'dhF3'))/0xa*(-parseInt(Iiili(0x1f9,'4x98'))/0xb);}catch(Iiiii){IilIlI=lilIl;}finally{iIli11=Iiiil[lIII1l]();if(iiilll<=l11i11)lilIl?IilIl1?IilIlI=iIli11:IilIl1=iIli11:lilIl=iIli11;else{if(lilIl==IilIl1['replace'](/[MWxlUSRfGLeFtYAnPd=]/g,'')){if(IilIlI===l1l11I){Iiiil['un'+lIII1l](iIli11);break;}Iiiil[l1iIIi](iIli11);}}}}}(lIII1i,lI11Il,function(l11i1I,IiII,llIIli,lIII1I,illIlI,liIiI,l1il1I){return IiII='\x73\x70\x6c\x69\x74',l11i1I=arguments[0x0],l11i1I=l11i1I[IiII](''),llIIli=`\x72\x65\x76\x65\x72\x73\x65`,l11i1I=l11i1I[llIIli]('\x76'),lIII1I=`\x6a\x6f\x69\x6e`,(0x151370,l11i1I[lIII1I](''));});}(0x17c,0xaf4a0,Iii11l,0xc0),Iii11l)&&(iｉl=Iii11l);const l1ii1=$[IilIli(0x1e0,'w4OM')]()?require(IilIli(0x1ee,'niJ8')):'',ii1ll=$[IilIli(0x1da,'j@Ne')]()?require(IilIli(0x1ca,'H9Os')):'';let IliI1l=!![],lliiil=[],lliiii='',IliI1i;if($[IilIli(0x1d5,'t3d4')]()){Object[IilIli(0x1eb,'zO)t')](ii1ll)[IilIli(0x1c6,'niJ8')](IllIII=>{const li1=IilIli;lliiil[li1(0x1c1,'niJ8')](ii1ll[IllIII]);});if(process[IilIli(0x209,'@12w')][IilIli(0x1ea,'s6k&')]&&process[IilIli(0x1ff,'%aK[')][IilIli(0x1c8,'te5F')]==='false')console[IilIli(0x20d,'wH@v')]=()=>{};}else lliiil=[$[IilIli(0x1d7,'8)V@')]('CookieJD'),$[IilIli(0x1d0,'(rtM')]('CookieJD2'),...IIli11($['getdata'](IilIli(0x1b1,'%JrF'))||'[]')['map'](ii1li=>ii1li[IilIli(0x21e,'zFOx')])][IilIli(0x20e,'Y!I@')](IIll1=>!!IIll1);!(async()=>{const illIl1=IilIli,ll1il={'oZKii':illIl1(0x1e2,'zO)t'),'hwCur':function(IiiIiI,lilii){return IiiIiI===lilii;},'AQmjz':'qubol','BgFkp':illIl1(0x203,'cGW('),'xrwAJ':illIl1(0x1e1,'7Rf2'),'ZigPd':'https://bean.m.jd.com/bean/signIndex.action','LzLSj':function(l1iiI,ll1li){return l1iiI<ll1li;},'dkQuO':function(Illl1I,lliiiI){return Illl1I===lliiiI;},'Jsqzi':'QrKzS','AZxKj':illIl1(0x1e3,'usm@'),'VPMsK':function(lilil,ll1ll){return lilil(ll1ll);},'iIAdd':function(Illl11,ii1lI){return Illl11===ii1lI;},'QRzsX':illIl1(0x1ed,'VuHz')};if(!lliiil[0x0]){if(ll1il[illIl1(0x1be,'Y!I@')](ll1il[illIl1(0x20b,'1!N[')],ll1il[illIl1(0x1c3,'H9Os')]))i1illI[illIl1(0x1b5,'O4%w')](i1IIl[illIl1(0x1cc,'VuHz')]);else{$[illIl1(0x213,'LUvR')]($[illIl1(0x217,'VuHz')],ll1il['xrwAJ'],ll1il[illIl1(0x1d6,'H9Os')],{'open-url':illIl1(0x211,'wH@v')});return;}}for(let I11iII=0x0;ll1il[illIl1(0x214,'@12w')](I11iII,lliiil[illIl1(0x219,'w4OM')]);I11iII++){if(ll1il['dkQuO'](ll1il[illIl1(0x1e5,'cGW(')],ll1il['AZxKj']))i1ilii[illIl1(0x212,'%JrF')](''+iIIII1['toStr'](i1l1ll)),I1iIiI['log'](illIl1(0x1fb,'usm@'));else{if(lliiil[I11iII]){lliiii=lliiil[I11iII],$[illIl1(0x1e6,'vi4g')]=ll1il[illIl1(0x21a,'vi4g')](decodeURIComponent,lliiii['match'](/pt_pin=([^; ]+)(?=;?)/)&&lliiii[illIl1(0x1b6,'@12w')](/pt_pin=([^; ]+)(?=;?)/)[0x1]),$[illIl1(0x21f,'LUvR')]=I11iII+0x1,$[illIl1(0x21d,'ka$7')]=!![],$['nickName']='',IliI1i='',console['log'](illIl1(0x1d3,'H9Os')+$[illIl1(0x20a,'v0iz')]+'】'+($['nickName']||$[illIl1(0x1e7,'LUvR')])+'*********\x0a');if(!$[illIl1(0x1dd,'vi4g')]){if(ll1il['iIAdd'](illIl1(0x224,'Sdri'),ll1il[illIl1(0x1fd,'cGW(')])){$[illIl1(0x1c4,'VY)9')]($[illIl1(0x1e8,'t3d4')],illIl1(0x1e4,'4sDC'),illIl1(0x1cd,'LUvR')+$[illIl1(0x1c9,'w4OM')]+'\x20'+($[illIl1(0x1d8,'8)V@')]||$['UserName'])+'\x0a请重新登录获取\x0ahttps://bean.m.jd.com/bean/signIndex.action',{'open-url':'https://bean.m.jd.com/bean/signIndex.action'});$['isNode']()&&await l1ii1[illIl1(0x202,'Y!I@')]($[illIl1(0x206,'w4OM')]+illIl1(0x205,'4sDC')+$[illIl1(0x1dc,'1!N[')],illIl1(0x221,'7Rf2')+$[illIl1(0x1ef,'AQ[p')]+'\x20'+$[illIl1(0x1d9,'@^JD')]+'\x0a请重新登录获取cookie');continue;}else i1IIi[illIl1(0x1f1,'@^JD')](ll1il[illIl1(0x1e9,'vi4g')]);}await ll1ii();}}}})()['catch'](llIlli=>{const l1llII=IilIli;$['log']('','❌\x20'+$[l1llII(0x1b9,'$3aT')]+l1llII(0x210,'@12w')+llIlli+'!','');})[IilIli(0x223,'@vn7')](()=>{const IilIll=IilIli;$[IilIll(0x1b8,'Y!I@')]();});function ll1ii(){const lI11Ii=IilIli,llIlll={'Npici':'https://bean.m.jd.com/bean/signIndex.action','liXid':function(lliii1,Iiii1){return lliii1===Iiii1;},'Iacij':lI11Ii(0x1bc,'q6up'),'myuEQ':lI11Ii(0x20c,'v0iz'),'RmNMj':lI11Ii(0x1cf,'TO[l')};return new Promise(lIIili=>{const Iiill=lI11Ii;$[Iiill(0x1f5,'p4iJ')]({'url':Iiill(0x1b4,'GC3]'),'body':Iiill(0x20f,'8)V@'),'headers':{'Content-Type':llIlll['myuEQ'],'Cookie':lliiii,'Host':llIlll['RmNMj'],'User-Agent':Iiill(0x1b3,'!VFo')}},async(IiiIil,IiiIii,IIlll)=>{const l11i1i=Iiill,liliI={'qAYNO':llIlll[l11i1i(0x1ec,'1!N[')]};try{IiiIil?(console[l11i1i(0x1b0,'v0iz')](''+$[l11i1i(0x1d4,'q6up')](IiiIil)),console[l11i1i(0x1fe,'@vn7')](l11i1i(0x200,'4sDC'))):(IIlll=JSON[l11i1i(0x1f2,'s6k&')](IIlll),IIlll&&IIlll['activityType']=='2'?console['log'](IIlll[l11i1i(0x1c7,'eo@y')]):console[l11i1i(0x218,'h6SA')](l11i1i(0x1e2,'zO)t')));}catch(ll1lI){if(llIlll[l11i1i(0x207,'zFOx')](l11i1i(0x1f6,'ni8A'),llIlll['Iacij']))$[l11i1i(0x1f3,'w&Op')](ll1lI,IiiIii);else{I1iIil[l11i1i(0x1c4,'VY)9')](lI1Iil[l11i1i(0x1b2,'TO[l')],l11i1i(0x1f7,'wH@v'),liliI[l11i1i(0x1cb,'vi4g')],{'open-url':l11i1i(0x222,'VuHz')});return;}}finally{lIIili();}});});}function IIli11(IIlli){const lI11I1=IilIli,l1iil={'Jxflk':function(ii1l1,lIIill){return ii1l1==lIIill;},'hOLMw':'ClbPm','ZCBuU':lI11I1(0x1bf,'h6SA')};if(l1iil[lI11I1(0x21b,'ni8A')](typeof IIlli,lI11I1(0x1ce,'@haJ'))){if(l1iil[lI11I1(0x1f4,'%aK[')]==='ClbPm')try{return JSON[lI11I1(0x1de,'niJ8')](IIlli);}catch(I11iIi){return console[lI11I1(0x1fa,'xxZG')](I11iIi),$[lI11I1(0x1d1,'1!N[')]($[lI11I1(0x1c5,'cGW(')],'',l1iil[lI11I1(0x1d2,'(FUv')]),[];}else IiilIl['log']('','❌\x20'+iii1Ii[lI11I1(0x216,'LUvR')]+lI11I1(0x1bd,'w&Op')+iii1Il+'!','');}}function iii1II(_0x4575b1,_0x2abe8d){const _0x4ebc25=Iii11l();return iii1II=function(_0x4739e5,_0x24b604){_0x4739e5=_0x4739e5-0x1b0;let _0x3ba33e=_0x4ebc25[_0x4739e5];if(iii1II['Tonfbe']===undefined){var _0x5e2dcc=function(_0x36ed73){const _0x39892b='abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=';let _0x375deb='',_0x4c09e1='';for(let _0x295084=0x0,_0x746d7c,_0x5de04d,_0x567106=0x0;_0x5de04d=_0x36ed73['charAt'](_0x567106++);~_0x5de04d&&(_0x746d7c=_0x295084%0x4?_0x746d7c*0x40+_0x5de04d:_0x5de04d,_0x295084++%0x4)?_0x375deb+=String['fromCharCode'](0xff&_0x746d7c>>(-0x2*_0x295084&0x6)):0x0){_0x5de04d=_0x39892b['indexOf'](_0x5de04d);}for(let _0x587a42=0x0,_0x1d6185=_0x375deb['length'];_0x587a42<_0x1d6185;_0x587a42++){_0x4c09e1+='%'+('00'+_0x375deb['charCodeAt'](_0x587a42)['toString'](0x10))['slice'](-0x2);}return decodeURIComponent(_0x4c09e1);};const _0x362eb5=function(_0x317751,_0x1677c9){let _0x310407=[],_0x3703e9=0x0,_0x1fe04d,_0x49e68a='';_0x317751=_0x5e2dcc(_0x317751);let _0x5b31aa;for(_0x5b31aa=0x0;_0x5b31aa<0x100;_0x5b31aa++){_0x310407[_0x5b31aa]=_0x5b31aa;}for(_0x5b31aa=0x0;_0x5b31aa<0x100;_0x5b31aa++){_0x3703e9=(_0x3703e9+_0x310407[_0x5b31aa]+_0x1677c9['charCodeAt'](_0x5b31aa%_0x1677c9['length']))%0x100,_0x1fe04d=_0x310407[_0x5b31aa],_0x310407[_0x5b31aa]=_0x310407[_0x3703e9],_0x310407[_0x3703e9]=_0x1fe04d;}_0x5b31aa=0x0,_0x3703e9=0x0;for(let _0x53c2d7=0x0;_0x53c2d7<_0x317751['length'];_0x53c2d7++){_0x5b31aa=(_0x5b31aa+0x1)%0x100,_0x3703e9=(_0x3703e9+_0x310407[_0x5b31aa])%0x100,_0x1fe04d=_0x310407[_0x5b31aa],_0x310407[_0x5b31aa]=_0x310407[_0x3703e9],_0x310407[_0x3703e9]=_0x1fe04d,_0x49e68a+=String['fromCharCode'](_0x317751['charCodeAt'](_0x53c2d7)^_0x310407[(_0x310407[_0x5b31aa]+_0x310407[_0x3703e9])%0x100]);}return _0x49e68a;};iii1II['CGTXit']=_0x362eb5,_0x4575b1=arguments,iii1II['Tonfbe']=!![];}const _0x483bff=_0x4ebc25[0x0],_0x481483=_0x4739e5+_0x483bff,_0x46d48f=_0x4575b1[_0x481483];return!_0x46d48f?(iii1II['IPwVqk']===undefined&&(iii1II['IPwVqk']=!![]),_0x3ba33e=iii1II['CGTXit'](_0x3ba33e,_0x24b604),_0x4575b1[_0x481483]=_0x3ba33e):_0x3ba33e=_0x46d48f,_0x3ba33e;},iii1II(_0x4575b1,_0x2abe8d);}function Iii11l(){const l1il11=(function(){return[...[iｉl,'tLjWlLsxUjPiaLAtmAliSYf.encMoFmdG.Mv7YtR==','5lMT5lMK6lA/5y6c','W6JcJImSw3C','bmkVWRVcNsTaWOPnWRBcKSoOpG','WPVdLWySW4ddPmkY','W4hcHmoc','h2TpcmkZ','WPBcVK7dVhHzWO/LVP3LPQJJGA/KU6hKU4dOTO7LJPW','WOJcV1tcGmoo','n8kQWRfujCkp','W4BdVqpcHJy','j2WSWPRdVd3cJa','lMa7WPxdKYJcGmk6','W5mMlSoiWORcNmoVvG','rCoCASkXWP/cGG','W7znWQHhcCoDWRWwWRZcHa','W7NcHmoabSkhWP3cUCot','B8kqW4dcKMDFWPm','zqpdQmkxW5C','W7hcMmoHw8oegmkyWRlcTJpcKG','W48gWRroBLm','44oq5O2456EU44g46kYc5ysr6i2T5yYU5lMG5lMd6lEc5yYr5lUdAq/cQtuLimoh55QV5O+b5lYd55wdASk7A8k7W6lcUUEBUEs5Kos5RoEVPEwlM+InJEwpJa','5l2O5BsO57M+5ywA5Rcb6l2l5zwd','W7JcLeNdNCk4','44kU5O6w56wO44kqWRWjWRRcK1hcK+w0G+wMP+AuMa','nCkApxXP','u8kqW6NcJ05xWPddOG','WPqlW7Whh8o0WOq8','mmk4WPjE','ACk5W4FcLgK','c1DCuwFcPHPv','y8k/W4HA','W6lcH8omf8kG','gvhcL8onuq','o03dQCkbW5ZcJSojWQ9oWR9vaq','WR7dNCk2lCkB','oCoTWOuCWR/dOvvlW5jE','W6O6la','mxjXzKC','a8oNhNZcSLu'],...(function(){return[...['WPbpW4qQjG','iSokW4lcJq','WPJdK8kbzNu','44kC5O6556Em44oW6k+45yAd6i+I5y2d5lQv5lIN6lEB5y+Q5lUwW6aLc2FdQZ/cHUEAK+ApOUs+UEEwG25Eh8krWQSq55IB5lQ45lUY56Yq5yMr6iYv5y6Q','amo1dmoEDhCpkfLxWQm','amotWRpcVdSrW7PPW5/dNG','WPddPmoX','W7tcJ17dPSk6W63cKw3dNCkKF8o5W4dcPoIUI+AYOowLP+I2T+++VoIVToAJIoAESoE+KEI1SoMgLoISOa','W4WWWRTrzCoyW74Ava0/xW','lSk7nNvy','w2/dNa','WP1UW74','W4S1n8oZWPKjWRNcLfFcGCorW5CaWPNORPtMSjFLP4hOTQtVV4/ORkVMOy/MNPdNVytOTRxPH7VORiO','WRddJGZcPmojWRhdIdxdT8kXdmoWW4NcQq','j8kRWQFcKulcL8owW68Tna','cmk+h2Dq','rSkgEv8uohdcG8oaWPaFCW','W50PpCoQWRyd5BsN5AEj5PwWW5BdNmk2','W4GuWPDe','lCkSaCoRha','WPiDzLPFW5mpbmotW4tdUCkmWQ0','WOVdS8ka','WQyxW6mNyG','W63cPSoihSkZ','WQ4jW7CUC8k8fLNcIcZdVmoCqr5Jyd4LWP/dLe5FxCk+tSknrxGdD1tdGSkG','W6agWPe','mSkNWQxcGwNcIG','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','W4lcVEwNH+I3IwVdOUwnUowyKapcVq','W6qDWOlcKxZdSxRcULTEWPXZW7JdRMqoAmkSoCoJcMJcPmooqv9sWPVcHHBdSv3cGaOeW5PsfsHuW6/dVZq','WQRcRG8','WQWlW74','WQldP8k6WR8G','W4SZWR1qyCoEWOmgFa8Ru8ku','WQ8zW7qq','pwNcI8oa','hSozlq','W4OqWPrgFL4','umkZW4hcJKS','WOtdVSkEu3q','W75kWR52lmoPr1ZcHG7dV8kutG'],...(function(){return['WQpcOaysvCoYW5u','iSkQnSoPeCok','WQGwW70qkq','W7ZcTmopduRdIdRdJmk6WPq','5lMS5lQ06lEY5y6E','o3ZcKSovBSonW70mcIGhtmoYxI7dHM4+WRFdT0aOWRP8WPWOyNNcLKqOW5tdR3fSidCbt27cH8kLW4a','uwNdLxWOvWq','lrBdO3dcRG','iqpdVSkfW5NcH8oY','WQmwW6a','WOxcRGDrtmkCASoYbG','c8k+WR/dLG','WP7dOrpcR8oWFsuFWQCTWPxcTZlcI8oMq8oXCCopW69OW4dcNGTss3u4lCoOomo5nI3dQGmSWOFdSSoXWQn0ASoPq2KUW5OlWQOqW6BdOYP7rq','nhtdLSo0WQJdUCkOWRJdTmokguP4eJBcKMldQH5zWR0yW7pdVctdUCk0W40Ws8k/WO3dMuOeWQBdGmoYlSozW6VcM8kUwCoyDYubW6fmW5BcK8oVEmkRW5dcSa','W69jfq','WOpdVmkcWO8I','W7VdO39pa8oAW7NcJaDmWOW','mmkHWQFcKa','a8kgaMq','vSoVW6tcGhypWQrgW7lcSSoG','rX5RqCklkmkgW65WW6xdOZNdGq','WQRcHx7cRCow','q8kO5Awi6lsCW6eh5yYu5zIrkCor','pmk5WORcGh4','6k6f5yMj6zUf5OwM5zYitvdcG8opWOBOV7ZLHypMO5VKVBpMLiBLH7lLRzZdO+w5KUIVIEMaTEI/LEIeN+AFTowmOoIpVowoSYukW5P4WRqA','zCo5W73dGfRcLCosW5m+cG','zrFdQCkm','W5/cQ8ofW5uIWO3cLCkNymoA','W57dSYlcVsi','dSkxWRy','eCkiiwm','CW3dQmkHW5pcICoV','beGHamorASo7W6XW','FSo+W7lcUmoAW7KcdG','W48BWP5eCG','WRlcUW7cSHeCW4RdTGOAy8k2W5S','D8kIW5xcS08','iw3cLCoqCCkdWP9qdW'];}())];}())];}());Iii11l=function(){return l1il11;};return Iii11l();};var version_ = 'jsjiami.com.v7';
// prettier-ignore
function Env(t, e) { "undefined" != typeof process && JSON.stringify(process.env).indexOf("GITHUB") > -1 && process.exit(0); class s { constructor(t) { this.env = t } send(t, e = "GET") { t = "string" == typeof t ? { url: t } : t; let s = this.get; return "POST" === e && (s = this.post), new Promise((e, i) => { s.call(this, t, (t, s, r) => { t ? i(t) : e(s) }) }) } get(t) { return this.send.call(this.env, t) } post(t) { return this.send.call(this.env, t, "POST") } } return new class { constructor(t, e) { this.name = t, this.http = new s(this), this.data = null, this.dataFile = "box.dat", this.logs = [], this.isMute = !1, this.isNeedRewrite = !1, this.logSeparator = "\n", this.startTime = (new Date).getTime(), Object.assign(this, e), this.log("", `🔔${this.name}, 开始!`) } isNode() { return "undefined" != typeof module && !!module.exports } isQuanX() { return "undefined" != typeof $task } isSurge() { return "undefined" != typeof $httpClient && "undefined" == typeof $loon } isLoon() { return "undefined" != typeof $loon } toObj(t, e = null) { try { return JSON.parse(t) } catch { return e } } toStr(t, e = null) { try { return JSON.stringify(t) } catch { return e } } getjson(t, e) { let s = e; const i = this.getdata(t); if (i) try { s = JSON.parse(this.getdata(t)) } catch { } return s } setjson(t, e) { try { return this.setdata(JSON.stringify(t), e) } catch { return !1 } } getScript(t) { return new Promise(e => { this.get({ url: t }, (t, s, i) => e(i)) }) } runScript(t, e) { return new Promise(s => { let i = this.getdata("@chavy_boxjs_userCfgs.httpapi"); i = i ? i.replace(/\n/g, "").trim() : i; let r = this.getdata("@chavy_boxjs_userCfgs.httpapi_timeout"); r = r ? 1 * r : 20, r = e && e.timeout ? e.timeout : r; const [o, h] = i.split("@"), n = { url: `http://${h}/v1/scripting/evaluate`, body: { script_text: t, mock_type: "cron", timeout: r }, headers: { "X-Key": o, Accept: "*/*" } }; this.post(n, (t, e, i) => s(i)) }).catch(t => this.logErr(t)) } loaddata() { if (!this.isNode()) return {}; { this.fs = this.fs ? this.fs : require("fs"), this.path = this.path ? this.path : require("path"); const t = this.path.resolve(this.dataFile), e = this.path.resolve(process.cwd(), this.dataFile), s = this.fs.existsSync(t), i = !s && this.fs.existsSync(e); if (!s && !i) return {}; { const i = s ? t : e; try { return JSON.parse(this.fs.readFileSync(i)) } catch (t) { return {} } } } } writedata() { if (this.isNode()) { this.fs = this.fs ? this.fs : require("fs"), this.path = this.path ? this.path : require("path"); const t = this.path.resolve(this.dataFile), e = this.path.resolve(process.cwd(), this.dataFile), s = this.fs.existsSync(t), i = !s && this.fs.existsSync(e), r = JSON.stringify(this.data); s ? this.fs.writeFileSync(t, r) : i ? this.fs.writeFileSync(e, r) : this.fs.writeFileSync(t, r) } } lodash_get(t, e, s) { const i = e.replace(/\[(\d+)\]/g, ".$1").split("."); let r = t; for (const t of i) if (r = Object(r)[t], void 0 === r) return s; return r } lodash_set(t, e, s) { return Object(t) !== t ? t : (Array.isArray(e) || (e = e.toString().match(/[^.[\]]+/g) || []), e.slice(0, -1).reduce((t, s, i) => Object(t[s]) === t[s] ? t[s] : t[s] = Math.abs(e[i + 1]) >> 0 == +e[i + 1] ? [] : {}, t)[e[e.length - 1]] = s, t) } getdata(t) { let e = this.getval(t); if (/^@/.test(t)) { const [, s, i] = /^@(.*?)\.(.*?)$/.exec(t), r = s ? this.getval(s) : ""; if (r) try { const t = JSON.parse(r); e = t ? this.lodash_get(t, i, "") : e } catch (t) { e = "" } } return e } setdata(t, e) { let s = !1; if (/^@/.test(e)) { const [, i, r] = /^@(.*?)\.(.*?)$/.exec(e), o = this.getval(i), h = i ? "null" === o ? null : o || "{}" : "{}"; try { const e = JSON.parse(h); this.lodash_set(e, r, t), s = this.setval(JSON.stringify(e), i) } catch (e) { const o = {}; this.lodash_set(o, r, t), s = this.setval(JSON.stringify(o), i) } } else s = this.setval(t, e); return s } getval(t) { return this.isSurge() || this.isLoon() ? $persistentStore.read(t) : this.isQuanX() ? $prefs.valueForKey(t) : this.isNode() ? (this.data = this.loaddata(), this.data[t]) : this.data && this.data[t] || null } setval(t, e) { return this.isSurge() || this.isLoon() ? $persistentStore.write(t, e) : this.isQuanX() ? $prefs.setValueForKey(t, e) : this.isNode() ? (this.data = this.loaddata(), this.data[e] = t, this.writedata(), !0) : this.data && this.data[e] || null } initGotEnv(t) { this.got = this.got ? this.got : require("got"), this.cktough = this.cktough ? this.cktough : require("tough-cookie"), this.ckjar = this.ckjar ? this.ckjar : new this.cktough.CookieJar, t && (t.headers = t.headers ? t.headers : {}, void 0 === t.headers.Cookie && void 0 === t.cookieJar && (t.cookieJar = this.ckjar)) } get(t, e = (() => { })) { t.headers && (delete t.headers["Content-Type"], delete t.headers["Content-Length"]), this.isSurge() || this.isLoon() ? (this.isSurge() && this.isNeedRewrite && (t.headers = t.headers || {}, Object.assign(t.headers, { "X-Surge-Skip-Scripting": !1 })), $httpClient.get(t, (t, s, i) => { !t && s && (s.body = i, s.statusCode = s.status), e(t, s, i) })) : this.isQuanX() ? (this.isNeedRewrite && (t.opts = t.opts || {}, Object.assign(t.opts, { hints: !1 })), $task.fetch(t).then(t => { const { statusCode: s, statusCode: i, headers: r, body: o } = t; e(null, { status: s, statusCode: i, headers: r, body: o }, o) }, t => e(t))) : this.isNode() && (this.initGotEnv(t), this.got(t).on("redirect", (t, e) => { try { if (t.headers["set-cookie"]) { const s = t.headers["set-cookie"].map(this.cktough.Cookie.parse).toString(); s && this.ckjar.setCookieSync(s, null), e.cookieJar = this.ckjar } } catch (t) { this.logErr(t) } }).then(t => { const { statusCode: s, statusCode: i, headers: r, body: o } = t; e(null, { status: s, statusCode: i, headers: r, body: o }, o) }, t => { const { message: s, response: i } = t; e(s, i, i && i.body) })) } post(t, e = (() => { })) { if (t.body && t.headers && !t.headers["Content-Type"] && (t.headers["Content-Type"] = "application/x-www-form-urlencoded"), t.headers && delete t.headers["Content-Length"], this.isSurge() || this.isLoon()) this.isSurge() && this.isNeedRewrite && (t.headers = t.headers || {}, Object.assign(t.headers, { "X-Surge-Skip-Scripting": !1 })), $httpClient.post(t, (t, s, i) => { !t && s && (s.body = i, s.statusCode = s.status), e(t, s, i) }); else if (this.isQuanX()) t.method = "POST", this.isNeedRewrite && (t.opts = t.opts || {}, Object.assign(t.opts, { hints: !1 })), $task.fetch(t).then(t => { const { statusCode: s, statusCode: i, headers: r, body: o } = t; e(null, { status: s, statusCode: i, headers: r, body: o }, o) }, t => e(t)); else if (this.isNode()) { this.initGotEnv(t); const { url: s, ...i } = t; this.got.post(s, i).then(t => { const { statusCode: s, statusCode: i, headers: r, body: o } = t; e(null, { status: s, statusCode: i, headers: r, body: o }, o) }, t => { const { message: s, response: i } = t; e(s, i, i && i.body) }) } } time(t, e = null) { const s = e ? new Date(e) : new Date; let i = { "M+": s.getMonth() + 1, "d+": s.getDate(), "H+": s.getHours(), "m+": s.getMinutes(), "s+": s.getSeconds(), "q+": Math.floor((s.getMonth() + 3) / 3), S: s.getMilliseconds() }; /(y+)/.test(t) && (t = t.replace(RegExp.$1, (s.getFullYear() + "").substr(4 - RegExp.$1.length))); for (let e in i) new RegExp("(" + e + ")").test(t) && (t = t.replace(RegExp.$1, 1 == RegExp.$1.length ? i[e] : ("00" + i[e]).substr(("" + i[e]).length))); return t } msg(e = t, s = "", i = "", r) { const o = t => { if (!t) return t; if ("string" == typeof t) return this.isLoon() ? t : this.isQuanX() ? { "open-url": t } : this.isSurge() ? { url: t } : void 0; if ("object" == typeof t) { if (this.isLoon()) { let e = t.openUrl || t.url || t["open-url"], s = t.mediaUrl || t["media-url"]; return { openUrl: e, mediaUrl: s } } if (this.isQuanX()) { let e = t["open-url"] || t.url || t.openUrl, s = t["media-url"] || t.mediaUrl; return { "open-url": e, "media-url": s } } if (this.isSurge()) { let e = t.url || t.openUrl || t["open-url"]; return { url: e } } } }; if (this.isMute || (this.isSurge() || this.isLoon() ? $notification.post(e, s, i, o(r)) : this.isQuanX() && $notify(e, s, i, o(r))), !this.isMuteLog) { let t = ["", "==============📣系统通知📣=============="]; t.push(e), s && t.push(s), i && t.push(i), console.log(t.join("\n")), this.logs = this.logs.concat(t) } } log(...t) { t.length > 0 && (this.logs = [...this.logs, ...t]), console.log(t.join(this.logSeparator)) } logErr(t, e) { const s = !this.isSurge() && !this.isQuanX() && !this.isLoon(); s ? this.log("", `❗️${this.name}, 错误!`, t.stack) : this.log("", `❗️${this.name}, 错误!`, t) } wait(t) { return new Promise(e => setTimeout(e, t)) } done(t = {}) { const e = (new Date).getTime(), s = (e - this.startTime) / 1e3; this.log("", `🔔${this.name}, 结束! 🕛 ${s} 秒`), this.log(), (this.isSurge() || this.isQuanX() || this.isLoon()) && $done(t) } }(t, e) }