/*
京东优惠券

cron:56 9,19 * * *

 */

const $ = new Env('京东优惠券200-20')
var iｉl='jsjiami.com.v7';const iI1liI=iii1II;(function(liIii,II1ll1,IlI1Ii,i11I1I,l1il1i,ll1,iI1llI){return liIii=liIii>>0x9,ll1='hs',iI1llI='hs',function(llliii,IllI11,l1llIi,II1llI,i11I11){const IilIi1=iii1II;II1llI='tfi',ll1=II1llI+ll1,i11I11='up',iI1llI+=i11I11,ll1=l1llIi(ll1),iI1llI=l1llIi(iI1llI),l1llIi=0x0;const l1llIl=llliii();while(!![]&&--i11I1I+IllI11){try{II1llI=parseInt(IilIi1(0x122,'VRc5'))/0x1*(-parseInt(IilIi1(0x13d,'zUGE'))/0x2)+parseInt(IilIi1(0x10f,'EE2G'))/0x3*(parseInt(IilIi1(0x10e,'o)5i'))/0x4)+-parseInt(IilIi1(0xfb,'V98w'))/0x5*(parseInt(IilIi1(0x187,'AhZc'))/0x6)+-parseInt(IilIi1(0x101,'f8jl'))/0x7*(parseInt(IilIi1(0x194,'vz#q'))/0x8)+parseInt(IilIi1(0x171,'tdQr'))/0x9+-parseInt(IilIi1(0x104,'i#z['))/0xa*(parseInt(IilIi1(0x126,'zUGE'))/0xb)+-parseInt(IilIi1(0x11d,'zK)g'))/0xc*(-parseInt(IilIi1(0x13f,'uqWS'))/0xd);}catch(ii1I1l){II1llI=l1llIi;}finally{i11I11=l1llIl[ll1]();if(liIii<=i11I1I)l1llIi?l1il1i?II1llI=i11I11:l1il1i=i11I11:l1llIi=i11I11;else{if(l1llIi==l1il1i['replace'](/[rVdRpuOnSDBtfwUHyY=]/g,'')){if(II1llI===IllI11){l1llIl['un'+ll1](i11I11);break;}l1llIl[iI1llI](i11I11);}}}}}(IlI1Ii,II1ll1,function(ii1I1i,llI,llliI,iI1li1,lllii1,liIli,liIll){return llI='\x73\x70\x6c\x69\x74',ii1I1i=arguments[0x0],ii1I1i=ii1I1i[llI](''),llliI='\x72\x65\x76\x65\x72\x73\x65',ii1I1i=ii1I1i[llliI]('\x76'),iI1li1='\x6a\x6f\x69\x6e',(0x15fb3d,ii1I1i[iI1li1](''));});}(0x17e00,0x8e1b1,Iii11l,0xc1),Iii11l)&&(iｉl=0x7c);const jdCookie=require('./jdCookie'),notify=require(iI1liI(0x11a,'vz#q')),common=require(iI1liI(0x198,'vz#q')),{H5st}=require('./utils/Rebels_H'),isNotify=![],moment=require(iI1liI(0x134,'mTe$')),now=moment(),checkMinute=parseInt(process[iI1liI(0x192,'(5!t')][iI1liI(0x162,'ZSj1')]||'55',0xa),grab_time=process['env'][iI1liI(0x17b,'N9yn')]||iI1liI(0x115,'T&bz'),randomCount=process[iI1liI(0x1a6,'jL&s')][iI1liI(0xfd,'N%dL')]||0xa;function Iii11l(){const IiI11=(function(){return[iｉl,'pDfUjsujDSiwaOmURiwf.dcyomB.DYVvt7UnVBrH==','6kg15OQS5A6Y','WOb+WP9ugZe','W7aTcSkCcbxdLW','WP/dK8onchBdUG','WODBCCkXW5NcGG','gmkHWPxcUmka','Fqz+W6ddLG','W6eOeCkCka','tKdcRSocWO0','56AW5zci5B2W5AsG5OQj5yUZtEAmT+wjISo6','WRqQbCklpHtdIa','BSkrWOJdICoxhwvAixpdI8orfe0KnfqPW7NcIHFdPxq','kt3dSLZdHv5SWRe','WPxdHSk1sNq','a0JcIq','CSktAZNcLmkprq','W57dG8owwSoI','WOe8AKZcR8kAFmo/omkWW7tcHSoWg8kdfmk+WOdcUhm/','WO18W7/cIh8','WO1Bza','CsTFW4pdTW','WPdcQSkKrq','nSkUW4/cOq','vSo8W6pcPKegW51sdq','B8owW6K','wSkuW7JdJ8op','wt3dJZb2','zmoDn8omkCk9seRdMfG','WRCpWQWY','c2GtWODEWQ9ZWPq','B3tdTeZdK2TEWPNcKmkikfBdMa','oSouWPZdKmkq','xCoddmoGhG','sSk+W7RdMSoU','W63dMSoszSo7DCkiWRy','zCoDo8okkmk9','W4GHnmk+aq','WQrntSkEW5m','lmktWRtcSmoKWQDmbmoRBCo4WQZcHmkTW6LnWOVcICknh8oaacW','44ci5O6v56sb44k36k245ysr6i+V5y20WQJcJSk7amobaG','smoHWR7cOsz/WQy','sCouBZa','gJFdHmkr','gmkdW6/cIZa','bYhdUSosmrnfW7/cNdpdPWrnbxhcVbFdLvJdSSkiW5BcVW','d8oCWPfKW6tcJSo+qc8iW6CSW5qKWQ/dLGHfWQGera','ECokpCo8tmo0WOS','h8kUWRlcISkHWO9IqSoIqmk2WPhcUmoY','uCkPwW4','WQVcICkuub4','dSk3W5pcP8ox','WOlcIWZdVfL1','t2hcOSo4WRbvWQj9','i8k4W7BcMq','v8o7hSoDCW','W4uXymkkgG','c8ohWOi','mColWR/dSCoBWRxdRCkYDG','WPtcVSkVCIpcKCkvW7VcSYe','W5j+vCkWWR8','W6m0d8kD','WR3dOmo0bKW','W7juW7fKW5Txbdbkbv7cO8oe'].concat((function(){return['WQxcPSkFqa8','wdddPu8nsCkqpq','WQruatv/WQi','Fe0PWRySmqRdSa','W54fA8kCcq','vwpcLCosW6SWWOZcHGHCyaBdRG','WOlcLSoEkbmGWQZdQNnXc+AUGUwMVmktWOBNG7hJGBSbjUEcUoMHG+wlOG','ycRdRKG3tq','WPOTFvpcSSoe','aSo6WO3dOCkHW4XStI4FWOS','WPvErmkAW74','jrmYWOu','WOmhWQKMWO4','W4VdGSoEzmoNyCkl','8yskUSos','W4BcGSkrxdxcPG3dHvCjlmkg','W50JBSkVmq','wSkjkCoHW6G','oNhcTGPZyCkNkH/dUmoF','W58BySkPdCki','W5ldSsC','W7mkrYj5WR9BWRaj','CSoamSo+qmoH','WRNcGclcLX8','WPRcOZVcGW','5yUH77+h6ls+6l+25QYO5Q+u56655BYZ','WRpcRhzHW5pcSSk7W48','bmkol8oimW','5OE+6lcq5OkD','WOuNEq','la3dJCooCJO','FZ0/WRm3bqRcHCoFW4/cMstcQmkvCGhcQ8kAACkPESkEW4jQW5FcJCkGWRG','WPBdMmov','uEISNEAXSowMTUI3LCko4PY/W47MLjhLKkJLU73MLBBMJ5e','W5ahdttcNCkiW5xcJuhcNaCmW50','WRLrW4lcUhPkW50','5P+D5Pwa5lIX','CSoAj8oGna','W48DqhpdG8ouWPldOfdcKaiyW71UbmkEWRZdGZeRkSomsa','WOhdG8onkMZdTG','aSkpuCoOWP7dIG','D8oJuWjB','ysZdPW','44go5O6O56Az44kA6k+R5ysw6i6/5yYeWPSyWQGNBfO','xdBdUr9ZmG','aK7cGHTHWR7cGmooWQHJEq','sxZcTCoJWO0oW6a3W47dPKmGdYDsn8oueZSa','4P6LAoACToEFMEISQ+AZONm','ESk8nmoW','aoAVMowCQUMJK+wpIuy','mHFdHa','WRFcMN5hW5a','cdJdMW','4P+0WONOHQ3MNlJOVAxOOzJPGQlLI6pKUiZPL4hORznx','ESobo8o6mSk8','tZFdUbDMbCkIiZbRW6q','W58rA8klc8ks','W43dTYNcG0i','5y635yMQ6lYQ','WQdcJSkz','xcZdQx45','D8ogmmoStmo0','tg3cSSoGWP9tWQO','AmoDW787WR4h','dr/dRtfdcSki'].concat((function(){return['dSogWOfXW68','WOJcHfJcICouu8kBW6G','W5VcTZW','DgxdVuG','WR98wCoL','BgxdVfJdGKf7','umkTWR/dHCk7','AuRcLCk8lbDsWQdcIH/cOG','lqZdKCoICJLHWRtcOq','dCktpCkYgSouDvtcImk4W6DoW53dGa','DqldPLuL','z8kFW7/dHSozWQ/dImkFzmkc','WOxcRxzYW6NcTG','wghcIdrzWOhcOa','e8kJWPu','vCkTAtFcKa','l8kDBCk4DSoUhwtdJKBcR8kQka','W5VOT4xLJPRMLA7MLza','amksfSkmfmoDEfxcTSkpW6LpW4BdHW','WO3cUmkavsq','vJBdRa','WO3cTY3cOr3dPYjTnSo/','wmk/uqpdNmkXE8kyvCoznSouW7ldPaX2W6L8uIycW7VdLG','tCk9W47dVGfrWPOe','W5RdJuRcLmoFymklW5TRhmkdneOFrg8VfSk/WQGqcrjFDK8eESonBxlcOmo0','WOVcQIZdQMi','cCk5W4ZdU28OWO7dSxVdO35g','aCkeWPBdICk1guK','vSouzq','yMFcR8oNWPTAWRS1W6RdRvXR','sdJdPrz9kW','umoEW7tcJuu','WQ9shZr3WQvOWP8tx2y','rmoAaG','WO5+WPXfecS3','y8oIwWWYk8ozuJzskCkWFCofs8kwWOpdImkFWPittau','nSkDW6/cNHW','WQXQA8oCha','W48DqhpdG8ouWPldOfdcKaiyW71UbmkhWR3dRJOma8oTsxRcVSkbW7S','ia8G','W4JdNCoOzmoCEG','WOXPWPVdOmoTW75niCkOW54+lmo5','WPtcVN13W7lcVG','W4SKW4BcKCk3WQS','WPxdMCoraMpdPG','AKxdTexdSG','W5/cRZ9IWRFcG8okhGNcMYOV','jCkAmmkXoa','ruNcLCoCWRS','xmoryXTi','WRD9cmkOpsZdVsm','WOzrD8kFW5FcMsRdKrCHWRaCWPRcSa','q8oHW7/cRKmnW40','FmogmSoTxCoJ','sSooCt0','uYHaW4uB','obFdKCoMFsO','WOTMF8oFma','WQHVuSoJlmoaWPS','WP3dK8oulwpdSaFdIgqwc8kaWRZcS1/cSNxcV8k+cL5Aqa','WORcShq','WO3cPZVcOr3dRcXjia','W57ORlxMSi3LP5pOTzFcO+kFMWa'];}()));}()));}());Iii11l=function(){return IiI11;};return Iii11l();};let cookie='';const cookiesArr=Object['keys'](jdCookie)['map'](lliiiI=>jdCookie[lliiiI])[iI1liI(0x1af,'mHHF')](lilil=>lilil);function iii1II(_0x2962c4,_0x4fef07){const _0x4b1a74=Iii11l();return iii1II=function(_0x1ca3ad,_0x531d3){_0x1ca3ad=_0x1ca3ad-0xf1;let _0x2796d4=_0x4b1a74[_0x1ca3ad];if(iii1II['xoBcBQ']===undefined){var _0x144ebc=function(_0x58d18f){const _0x5beff2='abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=';let _0x57551e='',_0x22896c='';for(let _0xf7e04f=0x0,_0x512c37,_0x4f70b2,_0x4f31fe=0x0;_0x4f70b2=_0x58d18f['charAt'](_0x4f31fe++);~_0x4f70b2&&(_0x512c37=_0xf7e04f%0x4?_0x512c37*0x40+_0x4f70b2:_0x4f70b2,_0xf7e04f++%0x4)?_0x57551e+=String['fromCharCode'](0xff&_0x512c37>>(-0x2*_0xf7e04f&0x6)):0x0){_0x4f70b2=_0x5beff2['indexOf'](_0x4f70b2);}for(let _0x16dd6b=0x0,_0x33b703=_0x57551e['length'];_0x16dd6b<_0x33b703;_0x16dd6b++){_0x22896c+='%'+('00'+_0x57551e['charCodeAt'](_0x16dd6b)['toString'](0x10))['slice'](-0x2);}return decodeURIComponent(_0x22896c);};const _0x4019b7=function(_0x162ad5,_0xe35e5d){let _0x1e2bd8=[],_0x1b7c79=0x0,_0x102682,_0x172f22='';_0x162ad5=_0x144ebc(_0x162ad5);let _0x51bc23;for(_0x51bc23=0x0;_0x51bc23<0x100;_0x51bc23++){_0x1e2bd8[_0x51bc23]=_0x51bc23;}for(_0x51bc23=0x0;_0x51bc23<0x100;_0x51bc23++){_0x1b7c79=(_0x1b7c79+_0x1e2bd8[_0x51bc23]+_0xe35e5d['charCodeAt'](_0x51bc23%_0xe35e5d['length']))%0x100,_0x102682=_0x1e2bd8[_0x51bc23],_0x1e2bd8[_0x51bc23]=_0x1e2bd8[_0x1b7c79],_0x1e2bd8[_0x1b7c79]=_0x102682;}_0x51bc23=0x0,_0x1b7c79=0x0;for(let _0x34d6f9=0x0;_0x34d6f9<_0x162ad5['length'];_0x34d6f9++){_0x51bc23=(_0x51bc23+0x1)%0x100,_0x1b7c79=(_0x1b7c79+_0x1e2bd8[_0x51bc23])%0x100,_0x102682=_0x1e2bd8[_0x51bc23],_0x1e2bd8[_0x51bc23]=_0x1e2bd8[_0x1b7c79],_0x1e2bd8[_0x1b7c79]=_0x102682,_0x172f22+=String['fromCharCode'](_0x162ad5['charCodeAt'](_0x34d6f9)^_0x1e2bd8[(_0x1e2bd8[_0x51bc23]+_0x1e2bd8[_0x1b7c79])%0x100]);}return _0x172f22;};iii1II['uZiETP']=_0x4019b7,_0x2962c4=arguments,iii1II['xoBcBQ']=!![];}const _0x52cdae=_0x4b1a74[0x0],_0x183294=_0x1ca3ad+_0x52cdae,_0x2db489=_0x2962c4[_0x183294];return!_0x2db489?(iii1II['WmQkqZ']===undefined&&(iii1II['WmQkqZ']=!![]),_0x2796d4=iii1II['uZiETP'](_0x2796d4,_0x531d3),_0x2962c4[_0x183294]=_0x2796d4):_0x2796d4=_0x2db489,_0x2796d4;},iii1II(_0x2962c4,_0x4fef07);}!cookiesArr[0x0]&&($[iI1liI(0x11b,'nhx(')]($[iI1liI(0x149,'tiPN')],iI1liI(0x19d,'V98w')),process['exit'](0x1));const args_list={'200-20':'key=A360BBA6455C75144F11183B59DF26F7EF34625C9C7D823B4AF9A6CAD931BEFA5D0E60A8A4102C445854F9D4FA941D64_bingo,roleId=433F37B7E558E58B398E99822251348A5B0260FB40168A2A9D9F871C1DBD011B660D24FE4ADC0C5395FFA286384955BB987B3EB5952BFD585C54B9A6A4CB0730E529A6B7BEFC9547BE22EC37737FEF4ECF8F309DFE71636D2B615C42346F8B5B3F9F12AE8C982A17F79E3A49DEA0AF010D2B4FB687023D5D975E2AF18F3D8B4A9C11C08EA66AC5425B77A7D60D7200A25655F4D48B6744DC2002717971251BA58D88D76D9732A3D17AF67B750EB275DC_bingo,strengthenKey=1454429FE549710C72F8C5E8B22404A30DC8340681BF4347F163A760B060C341EAAAD769EC52BC2824225D6617C0434C_bingo'},activityId=iI1liI(0x191,'nhx(');!(async()=>{const l1lIiI=iI1liI,ll1ll={'RJBIw':function(IiiiI){return IiiiI();},'vstTF':l1lIiI(0x15f,'V98w'),'zBFja':function(llIlli,llIlll){return llIlli>=llIlll;},'gdwuE':function(lliii1,Iiii1){return lliii1(Iiii1);},'JkYoX':function(lIIili){return lIIili();},'fjaNW':function(IiiIil,IiiIii){return IiiIil(IiiIii);},'GiCom':l1lIiI(0x17d,'nhx('),'dATOE':function(IIlll,liliI){return IIlll-liliI;},'JcEPV':function(ll1lI,l1iii){return ll1lI>l1iii;},'PJYoU':'等待时间过长，跳过此次等待','jIAdz':function(IIlli,l1iil){return IIlli/l1iil;},'KDBUT':function(ii1l1,lIIill){return ii1l1<lIIill;},'QEmTM':function(I11iIi){return I11iIi();}};console[l1lIiI(0x130,'CJ6Q')]('\x0a['+ll1ll[l1lIiI(0x18d,'TPY$')](moment)[l1lIiI(0xf2,']Icy')](ll1ll['vstTF'])+l1lIiI(0x178,'&yCv'));const Illl11=ll1ll['zBFja'](now[l1lIiI(0x1a8,'i#z[')](),checkMinute),ii1lI=ll1ll[l1lIiI(0x13a,'zUGE')](moment,now)[l1lIiI(0x179,'CIxo')](checkMinute)[l1lIiI(0x19a,'T&bz')](0x0)[l1lIiI(0x19f,'f8jl')](0x0)[l1lIiI(0xf9,'uqWS')]();if(!Illl11){console[l1lIiI(0x19c,'CIxo')]('\x0a['+ll1ll[l1lIiI(0x153,'i#z[')](moment)[l1lIiI(0x137,'wsjS')](l1lIiI(0x10a,'9zHZ'))+']当前时间未到'+checkMinute+'分，跳过此次等待');return;}const I1ilIl=ll1ll[l1lIiI(0x143,'s#ns')](moment,now)[l1lIiI(0x14b,']Icy')](0x1,ll1ll['GiCom'])[l1lIiI(0x129,'mHHF')](0x0)[l1lIiI(0x17a,'ELPT')](0x0)[l1lIiI(0x114,'AhZc')](0x0)[l1lIiI(0x12e,'1j&S')](),I11iII=ll1ll['dATOE'](I1ilIl,grab_time),I1ilIi=ll1ll[l1lIiI(0x124,'n3E3')](I11iII,now[l1lIiI(0x135,'zUGE')]());ll1ll[l1lIiI(0x140,'&yCv')](I1ilIi,0x36ee80)&&console['log'](ll1ll['PJYoU']);console['log']('\x0a['+moment()[l1lIiI(0x174,'AhZc')]('YYYY-MM-DD\x20HH:mm:ss.SSS')+']'+ll1ll[l1lIiI(0x10d,'Sdd[')](I1ilIi,0x3e8)[l1lIiI(0x15b,'o)5i')](0x2)+l1lIiI(0x13c,'P3d4')+grab_time+'\x20毫秒]'),await $[l1lIiI(0x168,'L$R9')](I1ilIi),notify[l1lIiI(0x188,'mHHF')]({'title':$[l1lIiI(0xf7,'uqWS')]});for(let I1ilII=0x0;I1ilII<0x1;++I1ilII)for(let I11iIl=0x0;ll1ll['KDBUT'](I11iIl,cookiesArr[l1lIiI(0x1aa,'5T]L')]);I11iIl++){$[l1lIiI(0xf4,'cc9$')]=I11iIl+0x1,cookie=cookiesArr[I11iIl],common[l1lIiI(0x131,'8XAi')](cookie),$['UserName']=ll1ll[l1lIiI(0x125,'dWg3')](decodeURIComponent,common[l1lIiI(0x127,'wsjS')](cookie,l1lIiI(0x11c,'s#ns'))),$['UA']=common[l1lIiI(0xfa,'EE2G')]($[l1lIiI(0x18c,'CJ6Q')]),$['message']=notify[l1lIiI(0x100,'CJ6Q')]($[l1lIiI(0x147,'HFzw')],$['UserName']),$[l1lIiI(0x167,'n3E3')]='',await ll1ll[l1lIiI(0x1a5,'CJ6Q')](Main),common[l1lIiI(0x1a9,'NX8P')]();if($[l1lIiI(0x156,'i#z[')])break;}isNotify&&notify[l1lIiI(0xff,'2O46')]()&&(notify[l1lIiI(0x151,'uqWS')](notify[l1lIiI(0x116,'mTe$')]+'\x0a'),await notify[l1lIiI(0x12a,'dWg3')]());})()['catch'](l1l11l=>$[iI1liI(0x185,'5T]L')](l1l11l))[iI1liI(0x128,'HyH7')](()=>$['done']());async function Main(){const llliiI=iI1liI,IilIil={'GBmum':'等待时间过长，跳过此次等待','pakLz':'boolean','RJNVC':function(l1l11i){return l1l11i();},'jsMdh':llliiI(0x117,'dWg3'),'JDqQR':function(l1iIl){return l1iIl();},'ZnsDs':function(illIll,iIli1I){return illIll<iIli1I;},'kzSnU':function(Iiil1,iiilli){return Iiil1(iiilli);},'wBVbg':llliiI(0x12f,'(5!t'),'epyVa':function(l1iIIl,iiilll,lI11Il){return l1iIIl(iiilll,lI11Il);},'LZpfH':function(lIII1i,l11i11){return lIII1i*l11i11;},'MgxUS':function(IilIl1,lIII1l){return IilIl1!==lIII1l;},'SaGbd':'YHNCd'},l1iIi=await common[llliiI(0x106,'N%dL')](cookie);if(!l1iIi&&typeof l1iIi===IilIil['pakLz']){console[llliiI(0x146,'wsjS')]('['+IilIil[llliiI(0x152,'N9yn')](moment)[llliiI(0x120,'(5!t')](IilIil['jsMdh'])+']'+$[llliiI(0x155,'s#ns')]+llliiI(0x105,'Sdd['));return;}try{$['skipRun']=![];for(let l1iIIi in args_list){console['log']('['+IilIil[llliiI(0x154,'2O46')](moment)[llliiI(0x19e,'NX8P')](IilIil[llliiI(0x107,'Bm0[')])+']'+$[llliiI(0x18c,'CJ6Q')]+llliiI(0x1a3,'dWg3')+l1iIIi),$['args']=args_list[l1iIIi];for(let lilIi=0x0;IilIil[llliiI(0x14c,'2O46')](lilIi,randomCount);lilIi++){await IilIil['kzSnU'](sendRequest,IilIil['wBVbg']),await $[llliiI(0x15d,'jL&s')](IilIil['epyVa'](parseInt,IilIil[llliiI(0x15e,'L$R9')](Math[llliiI(0x112,'NX8P')](),0x32)+0x32,0xa));if($['skipRun']||$[llliiI(0x190,'V98w')])break;}}if($[llliiI(0x199,'(5!t')])return;}catch(l1l11I){IilIil[llliiI(0x16e,'Ayta')](llliiI(0x145,'wSR!'),IilIil['SaGbd'])?II11Il[llliiI(0x108,'NX8P')](IilIil[llliiI(0x189,'8XAi')]):console[llliiI(0x141,'f8jl')](llliiI(0x1a7,'s#ns')+l1l11I);}}async function handleResponse(IilIlI,iIli11){const IilIiI=iI1liI,Iiiil={'NVWiN':'newBabelAwardCollection','mkxQI':IilIiI(0x133,'1j&S'),'nWkCN':IilIiI(0x196,'s#ns'),'UhAIy':function(Iiiii,l11i1I){return Iiiii===l11i1I;},'eCEFY':'pxuoJ','bDpsd':IilIiI(0x103,'9zHZ'),'MXQWD':'领取成功','Gghqa':'可以领取哟'};try{switch(IilIlI){case Iiiil[IilIiI(0x170,'(5!t')]:iIli11[IilIiI(0x16d,'Bm0[')]?(console['log']('['+moment()[IilIiI(0x12c,'V98w')](IilIiI(0x159,'ZSj1'))+']'+$[IilIiI(0x173,'CIxo')]+':'+iIli11[IilIiI(0x14e,'i#z[')]),['太早','太晚',Iiiil[IilIiI(0x138,'ZSj1')],Iiiil[IilIiI(0x182,'5T]L')]][IilIiI(0x14f,'tdQr')](IiII=>iIli11[IilIiI(0x109,'8XAi')][IilIiI(0x150,'P3d4')](IiII))&&(Iiiil[IilIiI(0x12d,'1j&S')](Iiiil[IilIiI(0x139,'HFzw')],Iiiil[IilIiI(0x118,'L$R9')])?I1iIiI[IilIiI(0x108,'NX8P')]('❓'+li1I1+'\x20'+i1ilil[IilIiI(0xfc,'V98w')](lilIii)):$[IilIiI(0x11f,'zK)g')]=!![]),[Iiiil[IilIiI(0x19b,'dWg3')],IilIiI(0x18e,'vz#q'),IilIiI(0x1ac,'ZSj1'),Iiiil[IilIiI(0x17e,'tdQr')]][IilIiI(0x15c,'dWg3')](lIII1I=>iIli11[IilIiI(0x14e,'i#z[')]['includes'](lIII1I))&&($[IilIiI(0x17f,'s#ns')]=!![])):console[IilIiI(0x18f,'ELPT')]('❓'+IilIlI+'\x20'+JSON[IilIiI(0x14a,'HyH7')](iIli11));break;}}catch(illIlI){console[IilIiI(0x1a4,'V98w')]('❌\x20未能正确处理\x20'+IilIlI+'\x20请求响应\x20'+(illIlI['message']||illIlI));}}async function sendRequest(liIiI){const i1i1I1=iI1liI,l1il1I={'DTips':i1i1I1(0x15a,'HFzw'),'flHxr':function(liI){return liI();},'IPoiZ':i1i1I1(0x13e,'EE2G'),'rdUJU':i1i1I1(0x163,'9zHZ'),'BmRqC':'newBabelAwardCollection','EyMBk':'wh5','FTBEZ':i1i1I1(0x12b,'P3d4'),'QoiCz':i1i1I1(0x186,'CJ6Q'),'VxqcI':i1i1I1(0x144,'ELPT'),'vEefe':i1i1I1(0x1a0,'n3E3'),'NmRWl':i1i1I1(0x160,'cc9$'),'xAfhf':i1i1I1(0x10b,'HyH7'),'oHoQs':function(illIli,l11i1l){return illIli===l11i1l;},'cdDBd':i1i1I1(0x1ad,'Bm0['),'gatMC':'yqDuD','LSbiH':function(lIII11,IiilI){return lIII11>=IiilI;},'pAdhU':'DZAyp'};let Iiili='',IilIli=null,li1=null,illIl1=l1il1I[i1i1I1(0x119,'1j&S')],l1llII={},IilIll={};switch(liIiI){case l1il1I[i1i1I1(0x172,'Bm0[')]:IilIll={'appId':i1i1I1(0x1ab,'8XAi'),'functionId':l1il1I[i1i1I1(0x123,'N%dL')],'appid':l1il1I[i1i1I1(0x158,'wsjS')],'clientVersion':l1il1I[i1i1I1(0x169,'mHHF')],'client':l1il1I['EyMBk'],'body':{'activityId':activityId,'scene':'1','args':$[i1i1I1(0xf8,'1j&S')],'log':i1i1I1(0xf6,'VRc5')},'version':l1il1I[i1i1I1(0x1ae,'CIxo')],'ua':$['UA']},l1llII=await H5st['getH5st'](IilIll),Iiili=l1il1I[i1i1I1(0x165,'tiPN')],IilIli=l1llII['paramsData'];break;default:console[i1i1I1(0x16b,'cc9$')](i1i1I1(0x1a1,'ELPT')+liIiI);return;}const lI11Ii={};IilIli&&(IilIli={...IilIli,...lI11Ii});li1&&(li1={...li1,...lI11Ii});const Iiill={'url':Iiili,'method':illIl1,'headers':{'origin':l1il1I[i1i1I1(0x16a,'5T]L')],'Referer':l1il1I[i1i1I1(0x157,'zUGE')],'User-Agent':$['UA'],'Cookie':cookie,'x-rp-client':l1il1I[i1i1I1(0xfe,'CIxo')],'accept':i1i1I1(0x10c,'7I4w')},'params':li1,'data':IilIli,'timeout':0x3a98};l1il1I[i1i1I1(0x13b,'n3E3')](illIl1,l1il1I[i1i1I1(0x14d,'NX8P')])&&(delete Iiill[i1i1I1(0x1a2,'@Qy5')],delete Iiill[i1i1I1(0x161,'mHHF')][i1i1I1(0x111,'n3E3')]);const l11i1i=0x1;let lI11I1=0x0,l1il11=null,IiI1=![];while(lI11I1<l11i1i){lI11I1>0x0&&await $[i1i1I1(0x148,'Bm0[')](0x3e8);const ii1I11=await common['request'](Iiill);if(!ii1I11[i1i1I1(0x142,'9zHZ')]){if(i1i1I1(0x17c,'wsjS')!==l1il1I['gatMC']){l1il11=i1i1I1(0x180,'mTe$')+liIiI+i1i1I1(0x132,'8XAi')+ii1I11[i1i1I1(0x197,'i#z[')],lI11I1++;continue;}else lilIl1['msg'](i1l1ii['name'],l1il1I[i1i1I1(0x183,'@Qy5')]),i1l1[i1i1I1(0x16f,'zUGE')](0x1);}if(!ii1I11?.['data']){l1il11=i1i1I1(0x180,'mTe$')+liIiI+i1i1I1(0x193,'T&bz'),lI11I1++;continue;}handleResponse(liIiI,ii1I11[i1i1I1(0x18a,'8XAi')]),IiI1=![];break;}if(l1il1I['LSbiH'](lI11I1,l11i1i)){console[i1i1I1(0x110,'dWg3')](l1il11);if(IiI1){if(i1i1I1(0x113,'HyH7')===l1il1I[i1i1I1(0x121,'uqWS')]){i1ili1['log']('\x0a['+l1il1I['flHxr'](i1l1l1)['format'](l1il1I['IPoiZ'])+']当前时间未到'+IlI1I+i1i1I1(0x18b,'Bm0['));return;}else $['outFlag']=!![],$[i1i1I1(0x195,'wSR!')]&&$[i1i1I1(0xf1,'n3E3')][i1i1I1(0x102,'ZSj1')](l1il11);}}}function randomString(l1llI1){const IlII1=iI1liI,llIIll={'LBYaR':function(i11I1l,lil){return i11I1l<lil;},'mqnpv':function(IllI1l,i11I1i){return IllI1l*i11I1i;}};l1llI1=l1llI1||0x20;let IillIi='0123456789',lii=IillIi[IlII1(0x136,'(5!t')],IllI1i='';for(i=0x0;llIIll[IlII1(0x164,'Bm0[')](i,l1llI1);i++)IllI1i+=IillIi[IlII1(0x166,'Sdd[')](Math['floor'](llIIll[IlII1(0x176,'5T]L')](Math[IlII1(0x11e,'CJ6Q')](),lii)));return IllI1i;}var version_ = 'jsjiami.com.v7';
// prettier-ignore
function Env(t, e) { "undefined" != typeof process && JSON.stringify(process.env).indexOf("GITHUB") > -1 && process.exit(0); class s { constructor(t) { this.env = t } send(t, e = "GET") { t = "string" == typeof t ? { url: t } : t; let s = this.get; return "POST" === e && (s = this.post), new Promise((e, i) => { s.call(this, t, (t, s, r) => { t ? i(t) : e(s) }) }) } get(t) { return this.send.call(this.env, t) } post(t) { return this.send.call(this.env, t, "POST") } } return new class { constructor(t, e) { this.name = t, this.http = new s(this), this.data = null, this.dataFile = "box.dat", this.logs = [], this.isMute = !1, this.isNeedRewrite = !1, this.logSeparator = "\n", this.startTime = (new Date).getTime(), Object.assign(this, e), this.log("", `🔔${this.name}, 开始!`) } isNode() { return "undefined" != typeof module && !!module.exports } isQuanX() { return "undefined" != typeof $task } isSurge() { return "undefined" != typeof $httpClient && "undefined" == typeof $loon } isLoon() { return "undefined" != typeof $loon } toObj(t, e = null) { try { return JSON.parse(t) } catch { return e } } toStr(t, e = null) { try { return JSON.stringify(t) } catch { return e } } getjson(t, e) { let s = e; const i = this.getdata(t); if (i) try { s = JSON.parse(this.getdata(t)) } catch { } return s } setjson(t, e) { try { return this.setdata(JSON.stringify(t), e) } catch { return !1 } } getScript(t) { return new Promise(e => { this.get({ url: t }, (t, s, i) => e(i)) }) } runScript(t, e) { return new Promise(s => { let i = this.getdata("@chavy_boxjs_userCfgs.httpapi"); i = i ? i.replace(/\n/g, "").trim() : i; let r = this.getdata("@chavy_boxjs_userCfgs.httpapi_timeout"); r = r ? 1 * r : 20, r = e && e.timeout ? e.timeout : r; const [o, h] = i.split("@"), n = { url: `http://${h}/v1/scripting/evaluate`, body: { script_text: t, mock_type: "cron", timeout: r }, headers: { "X-Key": o, Accept: "*/*" } }; this.post(n, (t, e, i) => s(i)) }).catch(t => this.logErr(t)) } loaddata() { if (!this.isNode()) return {}; { this.fs = this.fs ? this.fs : require("fs"), this.path = this.path ? this.path : require("path"); const t = this.path.resolve(this.dataFile), e = this.path.resolve(process.cwd(), this.dataFile), s = this.fs.existsSync(t), i = !s && this.fs.existsSync(e); if (!s && !i) return {}; { const i = s ? t : e; try { return JSON.parse(this.fs.readFileSync(i)) } catch (t) { return {} } } } } writedata() { if (this.isNode()) { this.fs = this.fs ? this.fs : require("fs"), this.path = this.path ? this.path : require("path"); const t = this.path.resolve(this.dataFile), e = this.path.resolve(process.cwd(), this.dataFile), s = this.fs.existsSync(t), i = !s && this.fs.existsSync(e), r = JSON.stringify(this.data); s ? this.fs.writeFileSync(t, r) : i ? this.fs.writeFileSync(e, r) : this.fs.writeFileSync(t, r) } } lodash_get(t, e, s) { const i = e.replace(/\[(\d+)\]/g, ".$1").split("."); let r = t; for (const t of i) if (r = Object(r)[t], void 0 === r) return s; return r } lodash_set(t, e, s) { return Object(t) !== t ? t : (Array.isArray(e) || (e = e.toString().match(/[^.[\]]+/g) || []), e.slice(0, -1).reduce((t, s, i) => Object(t[s]) === t[s] ? t[s] : t[s] = Math.abs(e[i + 1]) >> 0 == +e[i + 1] ? [] : {}, t)[e[e.length - 1]] = s, t) } getdata(t) { let e = this.getval(t); if (/^@/.test(t)) { const [, s, i] = /^@(.*?)\.(.*?)$/.exec(t), r = s ? this.getval(s) : ""; if (r) try { const t = JSON.parse(r); e = t ? this.lodash_get(t, i, "") : e } catch (t) { e = "" } } return e } setdata(t, e) { let s = !1; if (/^@/.test(e)) { const [, i, r] = /^@(.*?)\.(.*?)$/.exec(e), o = this.getval(i), h = i ? "null" === o ? null : o || "{}" : "{}"; try { const e = JSON.parse(h); this.lodash_set(e, r, t), s = this.setval(JSON.stringify(e), i) } catch (e) { const o = {}; this.lodash_set(o, r, t), s = this.setval(JSON.stringify(o), i) } } else s = this.setval(t, e); return s } getval(t) { return this.isSurge() || this.isLoon() ? $persistentStore.read(t) : this.isQuanX() ? $prefs.valueForKey(t) : this.isNode() ? (this.data = this.loaddata(), this.data[t]) : this.data && this.data[t] || null } setval(t, e) { return this.isSurge() || this.isLoon() ? $persistentStore.write(t, e) : this.isQuanX() ? $prefs.setValueForKey(t, e) : this.isNode() ? (this.data = this.loaddata(), this.data[e] = t, this.writedata(), !0) : this.data && this.data[e] || null } initGotEnv(t) { this.got = this.got ? this.got : require("got"), this.cktough = this.cktough ? this.cktough : require("tough-cookie"), this.ckjar = this.ckjar ? this.ckjar : new this.cktough.CookieJar, t && (t.headers = t.headers ? t.headers : {}, void 0 === t.headers.Cookie && void 0 === t.cookieJar && (t.cookieJar = this.ckjar)) } get(t, e = (() => { })) { t.headers && (delete t.headers["Content-Type"], delete t.headers["Content-Length"]), this.isSurge() || this.isLoon() ? (this.isSurge() && this.isNeedRewrite && (t.headers = t.headers || {}, Object.assign(t.headers, { "X-Surge-Skip-Scripting": !1 })), $httpClient.get(t, (t, s, i) => { !t && s && (s.body = i, s.statusCode = s.status), e(t, s, i) })) : this.isQuanX() ? (this.isNeedRewrite && (t.opts = t.opts || {}, Object.assign(t.opts, { hints: !1 })), $task.fetch(t).then(t => { const { statusCode: s, statusCode: i, headers: r, body: o } = t; e(null, { status: s, statusCode: i, headers: r, body: o }, o) }, t => e(t))) : this.isNode() && (this.initGotEnv(t), this.got(t).on("redirect", (t, e) => { try { if (t.headers["set-cookie"]) { const s = t.headers["set-cookie"].map(this.cktough.Cookie.parse).toString(); s && this.ckjar.setCookieSync(s, null), e.cookieJar = this.ckjar } } catch (t) { this.logErr(t) } }).then(t => { const { statusCode: s, statusCode: i, headers: r, body: o } = t; e(null, { status: s, statusCode: i, headers: r, body: o }, o) }, t => { const { message: s, response: i } = t; e(s, i, i && i.body) })) } post(t, e = (() => { })) { if (t.body && t.headers && !t.headers["Content-Type"] && (t.headers["Content-Type"] = "application/x-www-form-urlencoded"), t.headers && delete t.headers["Content-Length"], this.isSurge() || this.isLoon()) this.isSurge() && this.isNeedRewrite && (t.headers = t.headers || {}, Object.assign(t.headers, { "X-Surge-Skip-Scripting": !1 })), $httpClient.post(t, (t, s, i) => { !t && s && (s.body = i, s.statusCode = s.status), e(t, s, i) }); else if (this.isQuanX()) t.method = "POST", this.isNeedRewrite && (t.opts = t.opts || {}, Object.assign(t.opts, { hints: !1 })), $task.fetch(t).then(t => { const { statusCode: s, statusCode: i, headers: r, body: o } = t; e(null, { status: s, statusCode: i, headers: r, body: o }, o) }, t => e(t)); else if (this.isNode()) { this.initGotEnv(t); const { url: s, ...i } = t; this.got.post(s, i).then(t => { const { statusCode: s, statusCode: i, headers: r, body: o } = t; e(null, { status: s, statusCode: i, headers: r, body: o }, o) }, t => { const { message: s, response: i } = t; e(s, i, i && i.body) }) } } time(t, e = null) { const s = e ? new Date(e) : new Date; let i = { "M+": s.getMonth() + 1, "d+": s.getDate(), "H+": s.getHours(), "m+": s.getMinutes(), "s+": s.getSeconds(), "q+": Math.floor((s.getMonth() + 3) / 3), S: s.getMilliseconds() }; /(y+)/.test(t) && (t = t.replace(RegExp.$1, (s.getFullYear() + "").substr(4 - RegExp.$1.length))); for (let e in i) new RegExp("(" + e + ")").test(t) && (t = t.replace(RegExp.$1, 1 == RegExp.$1.length ? i[e] : ("00" + i[e]).substr(("" + i[e]).length))); return t } msg(e = t, s = "", i = "", r) { const o = t => { if (!t) return t; if ("string" == typeof t) return this.isLoon() ? t : this.isQuanX() ? { "open-url": t } : this.isSurge() ? { url: t } : void 0; if ("object" == typeof t) { if (this.isLoon()) { let e = t.openUrl || t.url || t["open-url"], s = t.mediaUrl || t["media-url"]; return { openUrl: e, mediaUrl: s } } if (this.isQuanX()) { let e = t["open-url"] || t.url || t.openUrl, s = t["media-url"] || t.mediaUrl; return { "open-url": e, "media-url": s } } if (this.isSurge()) { let e = t.url || t.openUrl || t["open-url"]; return { url: e } } } }; if (this.isMute || (this.isSurge() || this.isLoon() ? $notification.post(e, s, i, o(r)) : this.isQuanX() && $notify(e, s, i, o(r))), !this.isMuteLog) { let t = ["", "==============📣系统通知📣=============="]; t.push(e), s && t.push(s), i && t.push(i), console.log(t.join("\n")), this.logs = this.logs.concat(t) } } log(...t) { t.length > 0 && (this.logs = [...this.logs, ...t]), console.log(t.join(this.logSeparator)) } logErr(t, e) { const s = !this.isSurge() && !this.isQuanX() && !this.isLoon(); s ? this.log("", `❗️${this.name}, 错误!`, t.stack) : this.log("", `❗️${this.name}, 错误!`, t) } wait(t) { return new Promise(e => setTimeout(e, t)) } done(t = {}) { const e = (new Date).getTime(), s = (e - this.startTime) / 1e3; this.log("", `🔔${this.name}, 结束! 🕛 ${s} 秒`), this.log(), (this.isSurge() || this.isQuanX() || this.isLoon()) && $done(t) } }(t, e) }
