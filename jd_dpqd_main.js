/*
活动名称：批量店铺签到（活动查询）
活动链接：https://h5.m.jd.com/babelDiy/Zeus/2PAAf74aG3D61qvfKUM5dxUssJQ9/index.html?token=<token>
环境变量：jd_dpqd_tokens // 活动令牌，多个用英文逗号，@，&，换行分割

查询活动信息主脚本，IP限制严重建议使用代理，请勿频繁运行
自动去重并过滤无效活动，默认过滤垃圾奖品活动
运行后会在本地目录生成缓存文件以用于签到脚本使用

cron:1 1 1 1 *

*/

const $ = new Env('批量店铺签到（活动查询）')
var iｉl='jsjiami.com.v7';const llllI=iii1II;(function(iil1l1,lllli,iiili1,ill11i,lllill,ill11l,I1lIiI){return iil1l1=iil1l1>>0x3,ill11l='hs',I1lIiI='hs',function(lllili,IliiiI,Ill11,liiIII,li1i11){const ii1ii1=iii1II;liiIII='tfi',ill11l=liiIII+ill11l,li1i11='up',I1lIiI+=li1i11,ill11l=Ill11(ill11l),I1lIiI=Ill11(I1lIiI),Ill11=0x0;const iI11I1=lllili();while(!![]&&--ill11i+IliiiI){try{liiIII=-parseInt(ii1ii1(0x17d,'BqL('))/0x1+-parseInt(ii1ii1(0xde,'EGLa'))/0x2+parseInt(ii1ii1(0x115,'Q&kw'))/0x3+-parseInt(ii1ii1(0x13d,'qJy7'))/0x4+-parseInt(ii1ii1(0xa3,'44*u'))/0x5+-parseInt(ii1ii1(0xe8,'vrOj'))/0x6*(parseInt(ii1ii1(0x16e,'LF#n'))/0x7)+parseInt(ii1ii1(0x113,'Ni9G'))/0x8*(parseInt(ii1ii1(0xf5,'l4m9'))/0x9);}catch(il1i1l){liiIII=Ill11;}finally{li1i11=iI11I1[ill11l]();if(iil1l1<=ill11i)Ill11?lllill?liiIII=li1i11:lllill=li1i11:Ill11=li1i11;else{if(Ill11==lllill['replace'](/[fQSVFrtgPUnqwBKA=]/g,'')){if(liiIII===IliiiI){iI11I1['un'+ill11l](li1i11);break;}iI11I1[I1lIiI](li1i11);}}}}}(iiili1,lllli,function(IlIlll,IIIl1I,iil1ii,IlIlli,il1i1i,lil111,i11ilI){return IIIl1I='\x73\x70\x6c\x69\x74',IlIlll=arguments[0x0],IlIlll=IlIlll[IIIl1I](''),iil1ii=`\x72\x65\x76\x65\x72\x73\x65`,IlIlll=IlIlll[iil1ii]('\x76'),IlIlli=`\x6a\x6f\x69\x6e`,(0x15bfbb,IlIlll[IlIlli](''));});}(0x5f0,0xbb3e9,Iii11l,0xc0),Iii11l)&&(iｉl=`\xf4a`);const common=require(llllI(0x9d,'w9YS')),{H5st,jsTk}=require('./utils/Rebels_H');console[llllI(0xbf,'oofA')](''),console[llllI(0xfe,'IiPc')](llllI(0x144,'1vzd')+$[llllI(0x167,'[sM6')]+'变量说明=========='),console[llllI(0x173,'b3Da')](llllI(0xc2,'I[up')),console['log']('=========='+$['name']+llllI(0x168,'gRkW')),console[llllI(0x180,'XLQP')]('');let tokensList=(process['env'][llllI(0xc7,'Qx!7')]||'')[llllI(0x9a,'EGLa')](/[,@&|\n]+/g)[llllI(0xb8,'*4bf')](Boolean),TokensMap=null;const CacheFile=__dirname+llllI(0x149,'*4bf');function Iii11l(){const ii1iiI=(function(){return[...[iｉl,'BBgjKVsqFjiBKUagSmtQni.qcowmVrB.vf7PqVAK==','vLFcOSoDhw4','WRFdHmoggq7cSqu','4PUfl+ASUEASNUI8SUIHGos8OEINOEEyN+s5KUwlVoEzJ+E/HowUL+AxPEs5JU+8P+ITM+AXLEAhNUwKRos5O+++Iq','W4/cKmoF','pCovnmomBq','nCkfxs7cSW','W4hdR8oSpMJcV8okjmk/cmkfW7uToSoJWRFcVZtMT6ZLIlO3WQVVVANLP6JKUiRNL7BOIPpML6/PG43LJ73LIiBLIyS','lCoebmoE','W4/cMSowWRpdOfe','WRiHW51YWRhcNG','d8oefcaKlbtcR8ojd1ldQmkSEf0','W5CfWQZcLCkoc8k1WQblo8kllrjl','WOZdU0RcNKvQWOFcQbGdW7mZ','WOqMEKddTW','W5moW57cKSkrcmkI','W4GRW4BdIfJdGW','y8kkvW','W5ZdUCoAlN3cImohf8kUnmkxW74G','5P+l55Y35AAu5zo377+r','WPLMWOzPmmkvimkzuSo0lSo+WQddSG','WRP0k8kuWRG','Bd7dKCkuW5ry','y3dcOSo2aW','WPtdMSozoGy','bmoobW','W4bxWOnlWP0','zZJdVCkhW44','xSkRi1K','vXRcGGC4zqpdJmkPjWm+','W6OGWOPyfG','BCo1W5RdN30','uCogaCkyia','W7BVVPhMTOJLI7lLSj7LN6BcJG','ewlcRmkS','sCkxgSoVtCkAxSoTkCkaxq0','572A5A+95yEK5yEi5A6P5Q2/77Yo5OQN5z+m55Mj5B2+77YV','W79tr8oPm8oNmW','W5ddMSoO','WQ1JWPConmkvW6/dSCobc1e','jSoUWR7cGxS','bYtcNSkNlYSRW69iWOWzdh4myH59','W5eoWPq','mHpcNW','WOOTW79YWRe','W7vZhrRcH1ZcVCofm1OoaG','c+ITM+AZVowrPUw6VmkU','hmoyWPtcGxNcLq','WR5alWtcKW','WRP+oG','W44vWPlcG8kklSk4WPjA','W4RcKCooWRxdUfddMr4aWP8','hqldOhGw','WQVcLsxcIgRcQrFcGcfGWRddLCofWQqh','W75fCmoSoSo8ja','WRddLSoQoGdcOG4p','W5KHW5q5zCoqyG','xoE5S+ADTU+/M+s5S+AUIEAxSoEaKUACU+wtSKy','rGddJtjJWPZdSG','q13cOCor','E8oNamkSiCoC','bZVcG8kwyh8MW7XhWPqbmxvglq','qSoXCHtdSq','kq/dINGJ','uCkVmKJdNL9EW4LVW64','WOnucWq','p8k8W7BcUbJcRJDEWOfeWO7dMhK/la','jCokgG','FCo7j1/dLxrfWRbaW7BdTtTv','wdv1qJFdTtdcJumUW4dcSfxcISodW7imWPea','W4ijWRe','rctcNmklgCkOWQNdMG','qoA1PEwjN+s8TUAbRoIoVowoMEwMU+I0IW','WPhcP8kXxG','jWZcR2RcIG','jCojfJ9C','bCoEWPhcQhldNSk5oq','W4r7iKiuW6vM','wsxcLmkcaG','oJhdNYTN','WRtdMCoKfWNcVq8IDmom','W5hdLmo/','qsxcMa','uoA1JEwjKEw3N+E6SUE5REAFRUs7Pa','5QYO5PEq56Yb5yMv'],...(function(){return[...['Cmo+ttZdH8kApa','zSo2utZdHSkfaCowrxW','fSobWOJdS8oDWRqQW5a2W6pcNSoiW7hcHftdOeXSWOjrW7S','bbBdOmkhsJBdP8kVW4VcLComWPdcUxG','W6xcPSoCWQddGq','sepdIr5iWOJdPs3cOX5Euq','W4FMTi7LI5FLTPFNUj7NUiJMNA7KUPq','W7L+hXZcGvlcUCo+l3OmiG','W6TylNhcHwZcV248i8k5xq','toISJEAZPEwLLEI0RLdINle25PEv5zoy5BMK5Psx5O6j','o8onna','W5OHW4qY','qwVcGaDglhZcL8kfg15kbW','WQ0Ksa','W4vWnuCDW75XW4v5W4m','lE+9GoA2IEwkMow2GUs6KwW','WP5PWOG4mSk/W63dJCopfhNcMLa','aCoTWRtcK3S','d8kKW7JdK8oO','WROLW4PM','5l6L5OgB5yQG','bZVcMCkcqG','8kcyIWK','dmoagri','W43cISovWRBdSuS','WQ/dOWWiWQ8','W5WcWOFcMmkie8kLWOzSimkbpaLl','zYpcKCkVcq','W7KOW5fZBCouWQ8','kHpcK1/cSW','WPGVW7zCWOS','FGdcT8kZqCkiWPZdUmkCDmkO','cwdcKq','h8oTumk0oW','WQrKhmkZWPC','AUw6PoITMEEKRoMzP+EAJ+A1TowiOU+8Ta','kSkLrCorz8kjEJbNW5JdNM8G','tmojW4RdQKVdUHFcKCkcmIaQWPbHWP4','W5qpWOxcKmkse8k1WR5Cia','WRikCY7dHdy','5yAc57UP5yYQ','lCkqW7JcQXi','W482W7ldTM0','W7JdVmoPmgK','WRiRW5q','WPb+WP/cNXNcMCkdiGhcKIrFW5W','iCkjW44Xzq','WR83W4b8WQlcMa','jmkWW5xdPSozvq','WQa4xeBdKWO','lmkFW6ZcKtu','776M5BAM5y2M5A+w','W7C7W55GyCohWQlcGSkDwW','nmk2W6u','WQVdTvdcIW','g8kBW44q','W4KiWP7cLa','W7LJlSkUWRaIdsCscLlcTJFdHqaDEmkYd8om','W6dVVQhMTQpLI7RLSiBLNlvG','d8ksW4hcRIG','W5OvWRDHpa','WOxcS8kWvCkD','rmoYqtJdH8kf','W5P7luiuW6vCW6a','8yAQNL8','WRBdRv3cKW1jWR7cQcGEWQmEtSkKACkb','Fow+QowMI++9IUAzP+EaI+weIoAFHUwsHCkD','WP/cVwK','W7qTWPO','mSownrmp','W4u+W6ZdQxG','WQRcNd7cPNS','CSo6fq','qs/cKCkagmkK','W6fWku0G','WRaRW4q','rX7dQW','W4mRW5ZdRK/dN8osbJJcTYXzW4bGW7u','WOdcGmkOymkb','4P22W6RMNB3OG4xMRPdNOzdLPlBNKQy5','W4VcI8o6WQldMG','5yAKCowmNG','p8kJW5RdH8oh','WQzKlSkz','c8kFW5mLAatdHgbCyCkjlSkjW53dRG','nE++U+A1M+wlIEw2TEE6I+ACOG'],...(function(){return['ssVcHSku','WOLueGa','5O2g56sA57Uc5P+xySkZAI9Va8ojW4xdQ8o2','aapcIKu','W6jpESoTmq','lmoaWQZdLmo8','uI8XEXZcLspcLHO','amkvW4a','xCkxgbSPlb/cRG','W7CiWP3cUCkB','FSoNW7NdRK0','d8ouw8k+fSopCmonjW','W4biWQfpWRS','f2lcOG','uIOrtHe','W61+WO5SWOm','EahcUmkIcq','bmoedGyZma','8kEoSSox5B+x5AEi5P+U6k6TWQO','e3NcSCkYBMVdTMddQ8k6r8oPWO3dRIGLW6pdPKWDWP7dPhpdOW','wGxcJgWNoq','bH7dHYy/WRldVmoagCoFoxNdNMdcRGm','eWJdMq','BCkBDx8oWOFcVCoZW4/cUSo4WQ3dUW','WP/dKmocbt8','WRn/oCkLWR0/gq','ddhcKa','omolBCkvdq','W4GRWPtdLCk4','mmohjW','W4OVWQNcVmkO','awBcHvZcJxLveW','o8owWPtdLmon','WO5BcWdcO8kyvhZdQ8kXWQ7cI8kwBCkzWRb7sv7cIq','WO5/WQ8oeW','iSkdW7hdS8oG','W4eCWQxdLmkG','EoA3OUwiQUs8MoAaLoInREwoIowKMEI3Jq','WOFdPY8','AmkUavxcSq','iCkPrWtcQq','W5KOWOZdSCkM','ecZcNSkTzLK6W6zlWQWrc28','W6RMTl3LIyVKVRZMGlpOJy3LJyNLPO7OTOu','W4C1W48wzCovDmod','D8oKudtdJmky','4PU+xoISJ+wfSUwTH+s4P+w8L+IKV+EBPUEoLowHLEwoK+MeGUwtGowhR+I9J+IHHEIeKUADUo+8Ka','h8obWO/dQq','gmocWOZcJa','b8olWPFdSSorWQKR','g8ouaWiIkW4','d8oqrCk+da','F8onAcRdHW','sZmSzaVcUcNcKtefW4tcSfldLmoaWPbpW5DwaY7cJuSEWPldUqZcMCkjCSo9b8oRWQhdJCkQDmoRWP8E','W7baAd3dMtlcIWCze8k+ESkHW6W6DKRdTmkjnCkzWPH1','W47dJ8o5jNvU','W6ZORiFMMQxMJQTaWO3MIAJKVONNLAdKU7FNK48','WQ5tWPSjmW','W6vPzSohla','l8oCmI9tW5xdRmofW5S','c8o7zq/dHq0cW5DXW4LdW4mB','W4PSleS0W7LHW7zZW5ldJW','aJdcQfu1','WRddLSoI','iCkmW4xcSHG','xSkAoMdcKa','WRPZWPa1','W6edW5GXzG','tmkVovZcLKX7W4q','W7JdNMu','rqNcMuaLpW','aWlcI0qtW5NdMatcRG','WRhdMmo1','fSk4Ea/cVG','W5dcSmoDWQ7dMW','jmk6W5W','4PYuW7NOHPJMN5xOVQVOOPBPGjNLIjJKUA7PLkNORjJcMW','aZVdN1vDCd7cICkkmf0','ESo4ra','W5asWPq','WRBcSCkmBmkB','WRb4mCkfWReG','W6FcR8kbW406','kmkeEZ/cKG','W57dUmowg2JcVSo6f8k4'];}())];}())];}());Iii11l=function(){return ii1iiI;};return Iii11l();};!(async()=>{const lllil1=llllI,IiII={'maUbO':function(llIIli){return llIIli();}};await IiII[lllil1(0x8f,'6V]G')](Main);})()['catch'](lIII1I=>$[llllI(0x17a,'RzmC')](lIII1I))[llllI(0x110,'gslj')](()=>$['done']());function iii1II(_0x4bf294,_0x1c6a0f){const _0xea9ad8=Iii11l();return iii1II=function(_0x29ee11,_0x28ad0a){_0x29ee11=_0x29ee11-0x84;let _0x20dd6d=_0xea9ad8[_0x29ee11];if(iii1II['pGzxGw']===undefined){var _0x3569a2=function(_0x3417a3){const _0x94cb13='abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=';let _0x11c55f='',_0x90f32c='';for(let _0x29edc3=0x0,_0x85ee16,_0x16b177,_0x4549ac=0x0;_0x16b177=_0x3417a3['charAt'](_0x4549ac++);~_0x16b177&&(_0x85ee16=_0x29edc3%0x4?_0x85ee16*0x40+_0x16b177:_0x16b177,_0x29edc3++%0x4)?_0x11c55f+=String['fromCharCode'](0xff&_0x85ee16>>(-0x2*_0x29edc3&0x6)):0x0){_0x16b177=_0x94cb13['indexOf'](_0x16b177);}for(let _0x4c1879=0x0,_0x54ee17=_0x11c55f['length'];_0x4c1879<_0x54ee17;_0x4c1879++){_0x90f32c+='%'+('00'+_0x11c55f['charCodeAt'](_0x4c1879)['toString'](0x10))['slice'](-0x2);}return decodeURIComponent(_0x90f32c);};const _0x264fac=function(_0x4edb72,_0x49df86){let _0x7a80a9=[],_0x1d006b=0x0,_0x29964f,_0x25a6ff='';_0x4edb72=_0x3569a2(_0x4edb72);let _0x2c838d;for(_0x2c838d=0x0;_0x2c838d<0x100;_0x2c838d++){_0x7a80a9[_0x2c838d]=_0x2c838d;}for(_0x2c838d=0x0;_0x2c838d<0x100;_0x2c838d++){_0x1d006b=(_0x1d006b+_0x7a80a9[_0x2c838d]+_0x49df86['charCodeAt'](_0x2c838d%_0x49df86['length']))%0x100,_0x29964f=_0x7a80a9[_0x2c838d],_0x7a80a9[_0x2c838d]=_0x7a80a9[_0x1d006b],_0x7a80a9[_0x1d006b]=_0x29964f;}_0x2c838d=0x0,_0x1d006b=0x0;for(let _0x2708fb=0x0;_0x2708fb<_0x4edb72['length'];_0x2708fb++){_0x2c838d=(_0x2c838d+0x1)%0x100,_0x1d006b=(_0x1d006b+_0x7a80a9[_0x2c838d])%0x100,_0x29964f=_0x7a80a9[_0x2c838d],_0x7a80a9[_0x2c838d]=_0x7a80a9[_0x1d006b],_0x7a80a9[_0x1d006b]=_0x29964f,_0x25a6ff+=String['fromCharCode'](_0x4edb72['charCodeAt'](_0x2708fb)^_0x7a80a9[(_0x7a80a9[_0x2c838d]+_0x7a80a9[_0x1d006b])%0x100]);}return _0x25a6ff;};iii1II['ASHwcN']=_0x264fac,_0x4bf294=arguments,iii1II['pGzxGw']=!![];}const _0x2f9dd2=_0xea9ad8[0x0],_0x86b88b=_0x29ee11+_0x2f9dd2,_0x2f00b4=_0x4bf294[_0x86b88b];return!_0x2f00b4?(iii1II['KCpVFG']===undefined&&(iii1II['KCpVFG']=!![]),_0x20dd6d=iii1II['ASHwcN'](_0x20dd6d,_0x28ad0a),_0x4bf294[_0x86b88b]=_0x20dd6d):_0x20dd6d=_0x2f00b4,_0x20dd6d;},iii1II(_0x4bf294,_0x1c6a0f);}async function Main(){const iil1il=llllI,illIlI={'FYdtU':iil1il(0x95,'l0et'),'uGJCn':'Content-Type','iZKwl':function(liIiI,l1il1I){return liIiI===l1il1I;},'NYAel':iil1il(0xe7,'f)TA'),'YuPaB':function(Iiili,IilIli){return Iiili>IilIli;},'gcBtn':function(li1,illIl1){return li1<=illIl1;},'ZpjiX':iil1il(0xbe,'ffrp'),'tFnhN':iil1il(0x14e,'gslj'),'dPmXc':iil1il(0x12c,'1vzd'),'unrci':function(l1llII,IilIll){return l1llII<IilIll;},'UKGEe':function(lI11Ii,Iiill){return lI11Ii(Iiill);},'ruABC':iil1il(0x164,'kAgu'),'MnjkQ':function(l11i1i,lI11I1){return l11i1i-lI11I1;},'JinHe':function(l1il11,IiI1){return l1il11!==IiI1;},'YbgWB':'NlWBi','NxrSy':'BWrkK','apDFT':iil1il(0x17b,'l4m9'),'RdVmB':function(liI,illIli){return liI===illIli;},'BWJvL':'QafxW','darcD':iil1il(0xaa,'l%1b'),'fMBiH':iil1il(0x124,'U]J2'),'WKCWS':function(l11i1l,lIII11){return l11i1l/lIII11;},'jVJrM':iil1il(0x143,'l%1b'),'fVyBO':function(IiilI,ii1I11){return IiilI||ii1I11;},'yaVya':function(liIi1,lI11II){return liIi1>lI11II;},'rFQxH':iil1il(0x174,'%gj$'),'HpOzV':function(l1llI1,llIIll){return l1llI1!==llIIll;},'sOezO':iil1il(0xc9,'vrOj'),'BqmLT':iil1il(0x17e,'JyrL'),'yMOHU':function(IillIi,lii){return IillIi-lii;},'wvaFj':function(IllI1i,i11I1l){return IllI1i>i11I1l;},'SwZjq':iil1il(0x133,'XLQP'),'YYDFV':iil1il(0xdf,'IiPc'),'gMjkV':function(lil,IllI1l){return lil===IllI1l;},'YnJSH':iil1il(0x10a,'l4m9')};try{if('zhpEz'===illIlI[iil1il(0xe3,'nxlU')])IlI11[iil1il(0x158,'Vh43')]('['+iIIIIl+iil1il(0xdc,'I[up')+II1Il+iil1il(0x152,'BqL(')),lilIlI[iil1il(0x104,'B*^a')](iIIIIi),iii1I1=![];else{if(illIlI['YuPaB'](tokensList[iil1il(0x159,'$*np')],0x0))tokensList=[...new Set(tokensList[iil1il(0xb8,'*4bf')](II1lll=>II1lll!==''))];if(illIlI[iil1il(0xd6,'#x9X')](tokensList[iil1il(0x177,'LF#n')],0x0)){console[iil1il(0x11d,'vrOj')](illIlI[iil1il(0xda,'6OQw')]);return;}TokensMap=new Map(tokensList[iil1il(0xe1,'U]J2')]((II1lli,ii1I1I)=>[II1lli,{'index':ii1I1I+0x1,'venderId':'','shopName':'','activityId':'','startTime':'','endTime':'','isValid':!![],'rules':[],'minLevel':null,'maxLevel':null}])),console[iil1il(0x101,'SVZ0')](illIlI[iil1il(0xb0,'6V]G')]),console[iil1il(0x154,'pqln')](iil1il(0x178,'XLQP')+tokensList[iil1il(0x137,'w9YS')]+'\x20个店铺');const IillIl=[];console[iil1il(0xb5,'gslj')](''),$['UA']=common[iil1il(0x125,'XLQP')](illIlI[iil1il(0x142,'8eYL')]),{jsToken:$[iil1il(0xbd,'JyrL')]}=await jsTk($['UA'],'https://h5.m.jd.com/babelDiy/Zeus/2PAAf74aG3D61qvfKUM5dxUssJQ9/index.html',{'bizId':iil1il(0x12f,'$*np'),'v':illIlI[iil1il(0xa8,'44*u')],'qs':iil1il(0xea,'nxlU')+tokensList[0x0]});for(const IiIl of tokensList){let IiIi=!![];$[iil1il(0x172,'3FuE')]=IiIl;let iI1ll1=0x0;$['getActivityInfo']='',$[iil1il(0x10b,'JyrL')]=![];const IlI1Il=0xa;while(!$[iil1il(0xf0,'!2Sz')]&&illIlI['unrci'](iI1ll1,IlI1Il)&&!$[iil1il(0x136,'Qx!7')]){$[iil1il(0xc6,'LF#n')]='',await illIlI[iil1il(0x170,'6OQw')](sendRequest,illIlI[iil1il(0x132,'*4bf')]),await $['wait'](0x3e8),iI1ll1++;if(iI1ll1>illIlI[iil1il(0x15a,'GLXv')](IlI1Il,0x1)){if(illIlI[iil1il(0x16f,'Qx!7')](illIlI['YbgWB'],illIlI[iil1il(0x87,'8*@y')]))console['log'](''+$['TokenErrorMsg']),$[iil1il(0xf7,'Vh43')]='';else{iIIIII[iil1il(0xe6,'l0et')](illIlI[iil1il(0x114,'oofA')]);return;}}}if(!$['getActivityInfo'])continue;const l1il1l=$[iil1il(0x15d,'qJy7')]['venderId'],liIil=$['getActivityInfo']['id'],IllI1I=$['getActivityInfo'][iil1il(0x12a,'Qx!7')],liIii=$['getActivityInfo'][iil1il(0x112,'8*@y')]||[],II1ll1=$[iil1il(0xfd,'8eYL')][iil1il(0x91,'XLQP')]||[],IlI1Ii=$['getActivityInfo']['startTime'],i11I1I=$['getActivityInfo']['endTime'],l1il1i=$[iil1il(0x148,'Qx!7')](iil1il(0x151,'8XUN'),IlI1Ii),ll1=$['time'](illIlI[iil1il(0x156,'qJy7')],i11I1I),iI1llI=Date[iil1il(0x15b,'f)TA')]();IlI1Ii&&iI1llI<IlI1Ii&&(console[iil1il(0x153,'RyKm')]('['+IiIl+iil1il(0x14a,'U]J2')+l1il1i+'\x20开始，晚点再来吧~'),IillIl[iil1il(0x163,'*4bf')](IiIl),IiIi=![]);if(i11I1I&&illIlI[iil1il(0xeb,'[sM6')](iI1llI,i11I1I))console[iil1il(0x145,'8eYL')]('['+IiIl+iil1il(0x11f,'r%7l')+ll1+iil1il(0xf4,'EGLa')),IillIl['push'](IiIl),IiIi=![];else illIlI[iil1il(0x8e,'44*u')](IllI1I,0x3)&&(illIlI[iil1il(0x14c,'pqln')]!==iil1il(0xa7,'8eYL')?(console[iil1il(0x84,'BqL(')]('['+IiIl+iil1il(0x165,'LF#n')),IillIl[iil1il(0x97,'nxlU')](IiIl),IiIi=![]):(i1l1[iil1il(0x8d,'RJDx')](''+IIII1i['TokenErrorMsg']),IiilI1['errMsg']=''));let llliii=![];const IllI11=[],l1llIi=[...II1ll1,...liIii];for(const ii1I1i of l1llIi){const llI=ii1I1i[iil1il(0xd0,'*4bf')],llliI=ii1I1i[iil1il(0x16c,'%gj$')]||[],iI1li1=[];for(const lllii1 of llliI){if(illIlI[iil1il(0x12b,'$*np')](illIlI[iil1il(0x14d,'B*^a')],illIlI['darcD']))Iliiii[iil1il(0xaf,'JyrL')](i1illI);else{let liIll='';const IilIi1=lllii1[iil1il(0x86,'ffrp')],iI1liI=lllii1[iil1il(0xf6,'Ni9G')],l1lIiI=lllii1[iil1il(0x128,'oofA')],llliiI=lllii1[iil1il(0x9e,'U]J2')],IilIiI=illIlI[iil1il(0x121,'nxlU')](llliiI,0x5);switch(iI1liI){case 0x1:liIll=illIlI[iil1il(0x182,'SVZ0')];break;case 0x4:liIll=IilIi1+'京豆';break;case 0x6:liIll=IilIi1+'店铺积分';break;case 0x9:liIll=''+lllii1?.['interactPrizeSkuList'][0x0]?.['skuName'];break;case 0xa:liIll=IilIi1+iil1il(0x161,'[sM6');break;case 0xe:liIll=illIlI[iil1il(0x14b,'8eYL')](IilIi1,0x64)+iil1il(0x138,'vrOj');break;default:liIll=iil1il(0xce,'B*^a')+iI1liI+'）';}if(![0x1,0x6][iil1il(0x102,'$*np')](iI1liI)&&!IilIiI)llliii=!![];iI1li1[iil1il(0x169,'Q&kw')](liIll+'（共'+l1lIiI+'份'+(IilIiI?illIlI[iil1il(0x8a,'kQLA')]:'')+'）');}}IllI11[iil1il(0x11b,'l%1b')]({'days':llI,'prize':iI1li1,'havePrize':llliii});}const II1llI=await common[iil1il(0xe2,'1vzd')]({'venderId':l1il1l});console[iil1il(0x101,'SVZ0')]('【'+IiIl+'】\x0a店铺名称：#'+illIlI['fVyBO'](II1llI,'未知')+'\x0a开始时间：'+l1il1i+'\x0a结束时间：'+ll1);illIlI[iil1il(0x106,'BqL(')](IllI11[iil1il(0xc5,'f)TA')],0x0)&&('pwIOh'!==illIlI[iil1il(0xa5,'Q&kw')]?i1II1[iil1il(0x10d,'$*np')](iIIl11[iil1il(0x109,'$*np')]+iil1il(0x8c,'8eYL')):console[iil1il(0x130,'ffrp')](IllI11[iil1il(0xa6,'JyrL')](IlII1=>(IlII1['days']===0x0?iil1il(0x10f,'[sM6'):'连续'+(IlII1[iil1il(0x123,'f)TA')]<0xa?'\x20':'')+IlII1['days']+'天')+'：'+IlII1['prize'][iil1il(0x96,'8*@y')]('，'))[iil1il(0xdd,'b3Da')]('\x0a')+'\x0a'));!llliii&&(illIlI[iil1il(0xb9,'5]x6')](illIlI['sOezO'],illIlI[iil1il(0xb1,'oofA')])?(delete IIlil[iil1il(0xd7,'44*u')],delete ilI1lI[iil1il(0xf1,'gRkW')][illIlI['uGJCn']]):(IillIl[iil1il(0xa9,'1vzd')](IiIl),IiIi=![]));const i11I11=TokensMap[iil1il(0x11a,'BqL(')](IiIl);i11I11[iil1il(0xab,'44*u')]=l1il1l,i11I11['shopName']=II1llI,i11I11['activityId']=liIil,i11I11[iil1il(0xed,'Qx!7')]=IlI1Ii,i11I11[iil1il(0x17f,'*4bf')]=i11I1I,i11I11[iil1il(0xe0,'gRkW')]=IiIi,i11I11['rules']=IllI11,IllI11[iil1il(0xcb,'qJy7')]>0x0&&(illIlI[iil1il(0x9b,'gslj')](illIlI['BqmLT'],'pOXiX')?(iillll[iil1il(0x130,'ffrp')]('❓'+lIIilI+'\x20'+II1li1[iil1il(0xae,'Q&kw')](l1lIlI)),IiiIl1['invalidAct']=!![]):(i11I11[iil1il(0x107,'nxlU')]=IllI11[0x0][iil1il(0xc3,'IiPc')],i11I11[iil1il(0xf2,'JyrL')]=IllI11[illIlI[iil1il(0xc1,'6V]G')](IllI11[iil1il(0x140,'kQLA')],0x1)][iil1il(0x166,'$*np')])),TokensMap['set'](IiIl,i11I11);}if(illIlI[iil1il(0x162,'kQLA')](IillIl[iil1il(0xd1,'#x9X')],0x0)){console[iil1il(0x153,'RyKm')](illIlI[iil1il(0x13b,'I[up')]);for(const liIlI of IillIl){console[iil1il(0xe5,'Qx!7')](liIlI);}}const llliil=Object[iil1il(0xa4,'GLXv')](TokensMap),liIl1=illIlI[iil1il(0x176,'$*np')](require,'fs');liIl1[iil1il(0xcd,'I[up')](CacheFile,JSON[iil1il(0x171,'EGLa')](llliil,null,0x2)),console['log'](illIlI[iil1il(0x175,'3FuE')]),console[iil1il(0xd4,'LF#n')](CacheFile);}}catch(lll){illIlI['gMjkV'](illIlI['YnJSH'],illIlI[iil1il(0x16b,'8*@y')])?console[iil1il(0x10c,'U]J2')]('❌\x20脚本运行遇到了错误\x0a'+lll):(illIlI['iZKwl'](IIII11['code'],0x192)?l1i111['log'](iliII1[iil1il(0x12d,'l0et')]+iil1il(0x116,'[sM6')):II11I1[iil1il(0x84,'BqL(')](Iii11I['token']+iil1il(0x103,'XLQP')),lilIll['invalidAct']=!![]);}}async function handleResponse(iIli1i,iI1lii){const ilil1I=llllI,IilIii={'YUxHS':ilil1I(0x135,'6OQw'),'rRGlI':function(iI1lil,l1lIi1){return iI1lil===l1lIi1;},'DkDBu':function(iIli1l,i1i1II){return iIli1l!==i1i1II;},'dLiYt':ilil1I(0xc0,'IiPc'),'GqCRE':function(liiIIl,iil1iI){return liiIIl===iil1iI;},'ZyjwI':ilil1I(0xd2,'Ni9G')};try{switch(iIli1i){case IilIii[ilil1I(0xfa,'r%7l')]:if(IilIii['rRGlI'](iI1lii['code'],0xc8)&&iI1lii[ilil1I(0x99,'LF#n')]===!![]&&iI1lii[ilil1I(0x146,'8XUN')])$[ilil1I(0xf8,'XLQP')]=iI1lii[ilil1I(0xfc,'[sM6')];else iI1lii[ilil1I(0xb6,'Qx!7')]?IilIii[ilil1I(0x181,'EGLa')](ilil1I(0xd5,'3FuE'),IilIii[ilil1I(0xba,'6V]G')])?i1IIi[ilil1I(0x145,'8eYL')](ilil1I(0xb3,'8eYL')+IIII1I):(IilIii[ilil1I(0x122,'kQLA')](iI1lii['code'],0x192)?IilIii[ilil1I(0x129,'RJDx')](ilil1I(0xd3,'JyrL'),IilIii['ZyjwI'])?console[ilil1I(0x13c,'f)TA')]($['token']+ilil1I(0x10e,'Q&kw')):lIIiil[ilil1I(0x94,'gslj')](l1lIii,I11iI1):console[ilil1I(0x17c,'l4m9')]($['token']+ilil1I(0x92,'1vzd')),$[ilil1I(0xee,'oofA')]=!![]):(console[ilil1I(0xb2,'kQLA')]('❓'+iIli1i+'\x20'+JSON[ilil1I(0xa2,'BqL(')](iI1lii)),$[ilil1I(0x11e,'GLXv')]=!![]);break;}}catch(lI1li1){console[ilil1I(0xec,'*4bf')](ilil1I(0x15f,'44*u')+iIli1i+ilil1I(0xe9,'6OQw')+(lI1li1['message']||lI1li1));}}async function sendRequest(iI11II){const i11il1=llllI,iIII1I={'ozshP':function(lI1liI,i1i1Ii){return lI1liI-i1i1Ii;},'wNZMV':i11il1(0x15c,'#x9X'),'FkEIN':i11il1(0x164,'kAgu'),'TfQIZ':'4da33','rbwOf':i11il1(0x9c,'%gj$'),'mXRHf':i11il1(0x88,'[sM6'),'kxZYA':function(lllii,iI11Ii){return lllii(iI11Ii);},'MsiUn':i11il1(0x179,'b3Da'),'bEEyw':'jsonp1003','vIWrQ':function(iIII1l,lllil){return iIII1l/lllil;},'cMycC':function(iI11Il,iIII1i){return iI11Il===iIII1i;},'KvwqL':i11il1(0xa1,'gRkW'),'gjaRX':'Bfkyg','CFPFR':i11il1(0xcc,'IiPc'),'nYrfW':i11il1(0xe4,'XLQP'),'rbocO':i11il1(0x100,'%gj$'),'dUxTo':i11il1(0xfb,'44*u'),'OSsyr':'text/plain','WcNZB':'https://h5.m.jd.com/','FzhSN':i11il1(0xca,'Qx!7'),'DyLSO':i11il1(0xb4,'r%7l'),'ChLcA':i11il1(0xc8,'8XUN'),'ZwUrH':function(iil1i1,il1i11){return iil1i1>il1i11;},'lBzkH':function(IlIll1,IlIII){return IlIll1>=IlIII;},'aRjVX':function(ilil1l,illlIi){return ilil1l!==illlIi;},'uIzRi':i11il1(0x105,'l0et'),'fZCBv':i11il1(0x160,'oofA')};if($['runEnd'])return;let ilil1i='',IlIIi=null,IiI1l=null,illlII=iIII1I[i11il1(0x90,'SVZ0')],iIII11={},IiI1i={};switch(iI11II){case iIII1I[i11il1(0x12e,'f)TA')]:IiI1i={'appId':iIII1I[i11il1(0xf9,'gslj')],'functionId':iIII1I[i11il1(0xd9,'pqln')],'appid':iIII1I[i11il1(0xef,'r%7l')],'body':{'token':$[i11il1(0x16a,'gRkW')],'venderId':iIII1I[i11il1(0x13a,'qJy7')](parseInt,$[i11il1(0x14f,'GLXv')])||''},'version':i11il1(0xac,'!2Sz'),'ua':$['UA']},iIII11=await H5st['getH5st'](IiI1i),ilil1i=iIII1I[i11il1(0x13e,'kAgu')],IiI1l=Object[i11il1(0x141,'vrOj')]({},iIII11[i11il1(0x111,'gslj')],{'jsonp':iIII1I['bEEyw']});break;default:console[i11il1(0x16d,'kAgu')]('❌\x20未知请求\x20'+iI11II);return;}const llll1={'t':Math[i11il1(0x157,'!2Sz')](iIII1I['vIWrQ'](Date['now'](),0x3e8))+'000','loginType':'2','x-api-eid-token':$['jsToken']};IlIIi&&(iIII1I[i11il1(0x131,'EGLa')](iIII1I['KvwqL'],iIII1I['gjaRX'])?(i1ill1['minLevel']=iIIl1l[0x0]['days'],llIli1[i11il1(0x93,'l%1b')]=iliIII[iIII1I[i11il1(0x8b,'SVZ0')](iIIl1i[i11il1(0xc4,'oofA')],0x1)][i11il1(0x127,'LF#n')]):Object[i11il1(0xbc,'Ni9G')](IlIIi,llll1));IiI1l&&Object[i11il1(0x13f,'f)TA')](IiI1l,llll1);const lil11l={'url':ilil1i,'method':illlII,'headers':{'Accept':iIII1I['CFPFR'],'Accept-Encoding':iIII1I['nYrfW'],'Accept-Language':iIII1I['rbocO'],'Connection':iIII1I[i11il1(0xa0,'1vzd')],'Content-Type':iIII1I[i11il1(0xdb,'Vh43')],'Host':i11il1(0xd8,'RzmC'),'Referer':iIII1I[i11il1(0xb7,'B*^a')],'Sec-Fetch-Dest':i11il1(0xad,'RzmC'),'Sec-Fetch-Mode':iIII1I['FzhSN'],'Sec-Fetch-Site':iIII1I[i11il1(0x89,'1vzd')],'User-Agent':$['UA']},'params':IiI1l,'data':IlIIi,'timeout':0x7530,'httpsTlsOptions':common[i11il1(0xbb,'I[up')]()};illlII===iIII1I[i11il1(0x85,'Qx!7')]&&(delete lil11l['data'],delete lil11l[i11il1(0x108,'GLXv')][iIII1I['ChLcA']]);const i1i1Il=0x1;let I1lIl1=0x0,lil11i=null,IlIIl=null;while(I1lIl1<i1i1Il){iIII1I[i11il1(0x155,'LF#n')](I1lIl1,0x0)&&await $[i11il1(0x147,'kAgu')](0x7d0);const IiI1I=await common[i11il1(0x98,'8*@y')](lil11l);if(!IiI1I[i11il1(0xf3,'l%1b')]){IlIIl=IiI1I['status'],$[i11il1(0x120,'1vzd')]=$['token']+'：'+IlIIl+i11il1(0x9f,'!2Sz'),lil11i=i11il1(0x126,'EGLa')+iI11II+'\x20请求失败\x20➜\x20'+IiI1I['error'],I1lIl1++;continue;}if(!IiI1I['data']){lil11i=i11il1(0x150,'[sM6')+iI11II+i11il1(0x119,'kAgu'),I1lIl1++;continue;}await handleResponse(iI11II,IiI1I['data']),ipBlack=![];break;}iIII1I['lBzkH'](I1lIl1,i1i1Il)&&(iIII1I[i11il1(0x15e,'B*^a')](iIII1I[i11il1(0x139,'8eYL')],iIII1I['fZCBv'])?($['errMsg']=lil11i,iIII1I['aRjVX'](IlIIl,0x193)&&console[i11il1(0x154,'pqln')](lil11i)):I1l1Ii['assign'](I1i11i,I1i11l));}var version_ = 'jsjiami.com.v7';
// prettier-ignore
function Env(t,e){"undefined"!=typeof process&&JSON.stringify(process.env).indexOf("GITHUB")>-1&&process.exit(0);class s{constructor(t){this.env=t}send(t,e="GET"){t="string"==typeof t?{url:t}:t;let s=this.get;return"POST"===e&&(s=this.post),new Promise((e,i)=>{s.call(this,t,(t,s,r)=>{t?i(t):e(s)})})}get(t){return this.send.call(this.env,t)}post(t){return this.send.call(this.env,t,"POST")}}return new class{constructor(t,e){this.name=t,this.http=new s(this),this.data=null,this.dataFile="box.dat",this.logs=[],this.isMute=!1,this.isNeedRewrite=!1,this.logSeparator="\n",this.startTime=(new Date).getTime(),Object.assign(this,e),this.log("",`🔔${this.name}, 开始!`)}isNode(){return"undefined"!=typeof module&&!!module.exports}isQuanX(){return"undefined"!=typeof $task}isSurge(){return"undefined"!=typeof $httpClient&&"undefined"==typeof $loon}isLoon(){return"undefined"!=typeof $loon}toObj(t,e=null){try{return JSON.parse(t)}catch{return e}}toStr(t,e=null){try{return JSON.stringify(t)}catch{return e}}getjson(t,e){let s=e;const i=this.getdata(t);if(i)try{s=JSON.parse(this.getdata(t))}catch{}return s}setjson(t,e){try{return this.setdata(JSON.stringify(t),e)}catch{return!1}}getScript(t){return new Promise(e=>{this.get({url:t},(t,s,i)=>e(i))})}runScript(t,e){return new Promise(s=>{let i=this.getdata("@chavy_boxjs_userCfgs.httpapi");i=i?i.replace(/\n/g,"").trim():i;let r=this.getdata("@chavy_boxjs_userCfgs.httpapi_timeout");r=r?1*r:20,r=e&&e.timeout?e.timeout:r;const[o,h]=i.split("@"),n={url:`http://${h}/v1/scripting/evaluate`,body:{script_text:t,mock_type:"cron",timeout:r},headers:{"X-Key":o,Accept:"*/*"}};this.post(n,(t,e,i)=>s(i))}).catch(t=>this.logErr(t))}loaddata(){if(!this.isNode())return{};{this.fs=this.fs?this.fs:require("fs"),this.path=this.path?this.path:require("path");const t=this.path.resolve(this.dataFile),e=this.path.resolve(process.cwd(),this.dataFile),s=this.fs.existsSync(t),i=!s&&this.fs.existsSync(e);if(!s&&!i)return{};{const i=s?t:e;try{return JSON.parse(this.fs.readFileSync(i))}catch(t){return{}}}}}writedata(){if(this.isNode()){this.fs=this.fs?this.fs:require("fs"),this.path=this.path?this.path:require("path");const t=this.path.resolve(this.dataFile),e=this.path.resolve(process.cwd(),this.dataFile),s=this.fs.existsSync(t),i=!s&&this.fs.existsSync(e),r=JSON.stringify(this.data);s?this.fs.writeFileSync(t,r):i?this.fs.writeFileSync(e,r):this.fs.writeFileSync(t,r)}}lodash_get(t,e,s){const i=e.replace(/\[(\d+)\]/g,".$1").split(".");let r=t;for(const t of i)if(r=Object(r)[t],void 0===r)return s;return r}lodash_set(t,e,s){return Object(t)!==t?t:(Array.isArray(e)||(e=e.toString().match(/[^.[\]]+/g)||[]),e.slice(0,-1).reduce((t,s,i)=>Object(t[s])===t[s]?t[s]:t[s]=Math.abs(e[i+1])>>0==+e[i+1]?[]:{},t)[e[e.length-1]]=s,t)}getdata(t){let e=this.getval(t);if(/^@/.test(t)){const[,s,i]=/^@(.*?)\.(.*?)$/.exec(t),r=s?this.getval(s):"";if(r)try{const t=JSON.parse(r);e=t?this.lodash_get(t,i,""):e}catch(t){e=""}}return e}setdata(t,e){let s=!1;if(/^@/.test(e)){const[,i,r]=/^@(.*?)\.(.*?)$/.exec(e),o=this.getval(i),h=i?"null"===o?null:o||"{}":"{}";try{const e=JSON.parse(h);this.lodash_set(e,r,t),s=this.setval(JSON.stringify(e),i)}catch(e){const o={};this.lodash_set(o,r,t),s=this.setval(JSON.stringify(o),i)}}else s=this.setval(t,e);return s}getval(t){return this.isSurge()||this.isLoon()?$persistentStore.read(t):this.isQuanX()?$prefs.valueForKey(t):this.isNode()?(this.data=this.loaddata(),this.data[t]):this.data&&this.data[t]||null}setval(t,e){return this.isSurge()||this.isLoon()?$persistentStore.write(t,e):this.isQuanX()?$prefs.setValueForKey(t,e):this.isNode()?(this.data=this.loaddata(),this.data[e]=t,this.writedata(),!0):this.data&&this.data[e]||null}initGotEnv(t){this.got=this.got?this.got:require("got"),this.cktough=this.cktough?this.cktough:require("tough-cookie"),this.ckjar=this.ckjar?this.ckjar:new this.cktough.CookieJar,t&&(t.headers=t.headers?t.headers:{},void 0===t.headers.Cookie&&void 0===t.cookieJar&&(t.cookieJar=this.ckjar))}get(t,e=(()=>{})){t.headers&&(delete t.headers["Content-Type"],delete t.headers["Content-Length"]),this.isSurge()||this.isLoon()?(this.isSurge()&&this.isNeedRewrite&&(t.headers=t.headers||{},Object.assign(t.headers,{"X-Surge-Skip-Scripting":!1})),$httpClient.get(t,(t,s,i)=>{!t&&s&&(s.body=i,s.statusCode=s.status),e(t,s,i)})):this.isQuanX()?(this.isNeedRewrite&&(t.opts=t.opts||{},Object.assign(t.opts,{hints:!1})),$task.fetch(t).then(t=>{const{statusCode:s,statusCode:i,headers:r,body:o}=t;e(null,{status:s,statusCode:i,headers:r,body:o},o)},t=>e(t))):this.isNode()&&(this.initGotEnv(t),this.got(t).on("redirect",(t,e)=>{try{if(t.headers["set-cookie"]){const s=t.headers["set-cookie"].map(this.cktough.Cookie.parse).toString();s&&this.ckjar.setCookieSync(s,null),e.cookieJar=this.ckjar}}catch(t){this.logErr(t)}}).then(t=>{const{statusCode:s,statusCode:i,headers:r,body:o}=t;e(null,{status:s,statusCode:i,headers:r,body:o},o)},t=>{const{message:s,response:i}=t;e(s,i,i&&i.body)}))}post(t,e=(()=>{})){if(t.body&&t.headers&&!t.headers["Content-Type"]&&(t.headers["Content-Type"]="application/x-www-form-urlencoded"),t.headers&&delete t.headers["Content-Length"],this.isSurge()||this.isLoon())this.isSurge()&&this.isNeedRewrite&&(t.headers=t.headers||{},Object.assign(t.headers,{"X-Surge-Skip-Scripting":!1})),$httpClient.post(t,(t,s,i)=>{!t&&s&&(s.body=i,s.statusCode=s.status),e(t,s,i)});else if(this.isQuanX())t.method="POST",this.isNeedRewrite&&(t.opts=t.opts||{},Object.assign(t.opts,{hints:!1})),$task.fetch(t).then(t=>{const{statusCode:s,statusCode:i,headers:r,body:o}=t;e(null,{status:s,statusCode:i,headers:r,body:o},o)},t=>e(t));else if(this.isNode()){this.initGotEnv(t);const{url:s,...i}=t;this.got.post(s,i).then(t=>{const{statusCode:s,statusCode:i,headers:r,body:o}=t;e(null,{status:s,statusCode:i,headers:r,body:o},o)},t=>{const{message:s,response:i}=t;e(s,i,i&&i.body)})}}time(t,e=null){const s=e?new Date(e):new Date;let i={"M+":s.getMonth()+1,"d+":s.getDate(),"H+":s.getHours(),"m+":s.getMinutes(),"s+":s.getSeconds(),"q+":Math.floor((s.getMonth()+3)/3),S:s.getMilliseconds()};/(y+)/.test(t)&&(t=t.replace(RegExp.$1,(s.getFullYear()+"").substr(4-RegExp.$1.length)));for(let e in i)new RegExp("("+e+")").test(t)&&(t=t.replace(RegExp.$1,1==RegExp.$1.length?i[e]:("00"+i[e]).substr((""+i[e]).length)));return t}msg(e=t,s="",i="",r){const o=t=>{if(!t)return t;if("string"==typeof t)return this.isLoon()?t:this.isQuanX()?{"open-url":t}:this.isSurge()?{url:t}:void 0;if("object"==typeof t){if(this.isLoon()){let e=t.openUrl||t.url||t["open-url"],s=t.mediaUrl||t["media-url"];return{openUrl:e,mediaUrl:s}}if(this.isQuanX()){let e=t["open-url"]||t.url||t.openUrl,s=t["media-url"]||t.mediaUrl;return{"open-url":e,"media-url":s}}if(this.isSurge()){let e=t.url||t.openUrl||t["open-url"];return{url:e}}}};if(this.isMute||(this.isSurge()||this.isLoon()?$notification.post(e,s,i,o(r)):this.isQuanX()&&$notify(e,s,i,o(r))),!this.isMuteLog){let t=["","==============📣系统通知📣=============="];t.push(e),s&&t.push(s),i&&t.push(i),console.log(t.join("\n")),this.logs=this.logs.concat(t)}}log(...t){t.length>0&&(this.logs=[...this.logs,...t]),console.log(t.join(this.logSeparator))}logErr(t,e){const s=!this.isSurge()&&!this.isQuanX()&&!this.isLoon();s?this.log("",`❗️${this.name}, 错误!`,t.stack):this.log("",`❗️${this.name}, 错误!`,t)}wait(t){return new Promise(e=>setTimeout(e,t))}done(t={}){const e=(new Date).getTime(),s=(e-this.startTime)/1e3;this.log("",`🔔${this.name}, 结束! 🕛 ${s} 秒`),this.log(),(this.isSurge()||this.isQuanX()||this.isLoon())&&$done(t)}}(t,e)}
