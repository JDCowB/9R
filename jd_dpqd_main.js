/*
Ê¥ªÂä®ÂêçÁß∞ÔºöÊâπÈáèÂ∫óÈì∫Á≠æÂà∞ÔºàÊ¥ªÂä®Êü•ËØ¢Ôºâ
Ê¥ªÂä®ÈìæÊé•Ôºöhttps://h5.m.jd.com/babelDiy/Zeus/2PAAf74aG3D61qvfKUM5dxUssJQ9/index.html?token=<token>
ÁéØÂ¢ÉÂèòÈáèÔºöjd_dpqd_tokens // Ê¥ªÂä®‰ª§ÁâåÔºåÂ§ö‰∏™Áî®Ëã±ÊñáÈÄóÂè∑Ôºå@Ôºå&ÔºåÊç¢Ë°åÂàÜÂâ≤

Êü•ËØ¢Ê¥ªÂä®‰ø°ÊÅØ‰∏ªËÑöÊú¨ÔºåËá™Âä®ÂéªÈáçÂπ∂ËøáÊª§Êó†ÊïàÊ¥ªÂä®ÔºåÈªòËÆ§ËøáÊª§ÂûÉÂúæÂ•ñÂìÅÊ¥ªÂä®
ËøêË°åÂêé‰ºöÂú®Êú¨Âú∞ÁõÆÂΩïÁîüÊàêÁºìÂ≠òÊñá‰ª∂‰ª•Áî®‰∫éÁ≠æÂà∞ËÑöÊú¨‰ΩøÁî®ÔºåIPÈôêÂà∂‰∏•ÈáçËØ∑ÂãøÈ¢ëÁπÅËøêË°å

cron:1 1 1 1 *

*/

const $ = new Env('ÊâπÈáèÂ∫óÈì∫Á≠æÂà∞ÔºàÊ¥ªÂä®Êü•ËØ¢Ôºâ')
var iÔΩâl='jsjiami.com.v7';const iI11Il=iii1II;function iii1II(_0x36f499,_0x294a92){const _0x231d8f=Iii11l();return iii1II=function(_0x583f35,_0x4c9d2d){_0x583f35=_0x583f35-0x1e0;let _0x48a763=_0x231d8f[_0x583f35];if(iii1II['IbDthn']===undefined){var _0x3a4e29=function(_0x5de7a9){const _0x4c5aba='abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=';let _0x5c19cf='',_0x5e487a='';for(let _0x4b1e6b=0x0,_0x48a9f9,_0x27a6ca,_0x341089=0x0;_0x27a6ca=_0x5de7a9['charAt'](_0x341089++);~_0x27a6ca&&(_0x48a9f9=_0x4b1e6b%0x4?_0x48a9f9*0x40+_0x27a6ca:_0x27a6ca,_0x4b1e6b++%0x4)?_0x5c19cf+=String['fromCharCode'](0xff&_0x48a9f9>>(-0x2*_0x4b1e6b&0x6)):0x0){_0x27a6ca=_0x4c5aba['indexOf'](_0x27a6ca);}for(let _0x257964=0x0,_0x12241d=_0x5c19cf['length'];_0x257964<_0x12241d;_0x257964++){_0x5e487a+='%'+('00'+_0x5c19cf['charCodeAt'](_0x257964)['toString'](0x10))['slice'](-0x2);}return decodeURIComponent(_0x5e487a);};const _0x27c9e5=function(_0x18c824,_0x3f5e12){let _0x4bcd60=[],_0x3acd29=0x0,_0x1fca57,_0x1f6f3c='';_0x18c824=_0x3a4e29(_0x18c824);let _0x2f4554;for(_0x2f4554=0x0;_0x2f4554<0x100;_0x2f4554++){_0x4bcd60[_0x2f4554]=_0x2f4554;}for(_0x2f4554=0x0;_0x2f4554<0x100;_0x2f4554++){_0x3acd29=(_0x3acd29+_0x4bcd60[_0x2f4554]+_0x3f5e12['charCodeAt'](_0x2f4554%_0x3f5e12['length']))%0x100,_0x1fca57=_0x4bcd60[_0x2f4554],_0x4bcd60[_0x2f4554]=_0x4bcd60[_0x3acd29],_0x4bcd60[_0x3acd29]=_0x1fca57;}_0x2f4554=0x0,_0x3acd29=0x0;for(let _0x1063b9=0x0;_0x1063b9<_0x18c824['length'];_0x1063b9++){_0x2f4554=(_0x2f4554+0x1)%0x100,_0x3acd29=(_0x3acd29+_0x4bcd60[_0x2f4554])%0x100,_0x1fca57=_0x4bcd60[_0x2f4554],_0x4bcd60[_0x2f4554]=_0x4bcd60[_0x3acd29],_0x4bcd60[_0x3acd29]=_0x1fca57,_0x1f6f3c+=String['fromCharCode'](_0x18c824['charCodeAt'](_0x1063b9)^_0x4bcd60[(_0x4bcd60[_0x2f4554]+_0x4bcd60[_0x3acd29])%0x100]);}return _0x1f6f3c;};iii1II['EhMXEQ']=_0x27c9e5,_0x36f499=arguments,iii1II['IbDthn']=!![];}const _0x45981f=_0x231d8f[0x0],_0x5f5880=_0x583f35+_0x45981f,_0x113773=_0x36f499[_0x5f5880];return!_0x113773?(iii1II['GXEeDH']===undefined&&(iii1II['GXEeDH']=!![]),_0x48a763=iii1II['EhMXEQ'](_0x48a763,_0x4c9d2d),_0x36f499[_0x5f5880]=_0x48a763):_0x48a763=_0x113773,_0x48a763;},iii1II(_0x36f499,_0x294a92);}(function(il1i1I,lI1li1,iI11II,iIII1I,ilil1i,IlIIi,IiI1l){return il1i1I=il1i1I>>0x1,IlIIi='hs',IiI1l='hs',function(illlII,iIII11,IiI1i,llll1,lil11l){const lllil=iii1II;llll1='tfi',IlIIi=llll1+IlIIi,lil11l='up',IiI1l+=lil11l,IlIIi=IiI1i(IlIIi),IiI1l=IiI1i(IiI1l),IiI1i=0x0;const i1i1Il=illlII();while(!![]&&--iIII1I+iIII11){try{llll1=-parseInt(lllil(0x1f1,'T@LL'))/0x1+-parseInt(lllil(0x2a6,'KhD*'))/0x2+-parseInt(lllil(0x1fc,'y3^h'))/0x3+parseInt(lllil(0x275,'[B[^'))/0x4*(-parseInt(lllil(0x2b3,'rts4'))/0x5)+parseInt(lllil(0x237,'0RzO'))/0x6*(parseInt(lllil(0x24b,'zqh0'))/0x7)+-parseInt(lllil(0x2a5,'YIgX'))/0x8+parseInt(lllil(0x25e,'rvvC'))/0x9*(parseInt(lllil(0x217,'Ri%Q'))/0xa);}catch(I1lIl1){llll1=IiI1i;}finally{lil11l=i1i1Il[IlIIi]();if(il1i1I<=iIII1I)IiI1i?ilil1i?llll1=lil11l:ilil1i=lil11l:IiI1i=lil11l;else{if(IiI1i==ilil1i['replace'](/[GRDEPJrWLkCblAnxgqXfB=]/g,'')){if(llll1===iIII11){i1i1Il['un'+IlIIi](lil11l);break;}i1i1Il[IiI1l](lil11l);}}}}}(iI11II,lI1li1,function(lil11i,IlIIl,lI1liI,i1i1Ii,lllii,iI11Ii,iIII1l){return IlIIl='\x73\x70\x6c\x69\x74',lil11i=arguments[0x0],lil11i=lil11i[IlIIl](''),lI1liI=`\x72\x65\x76\x65\x72\x73\x65`,lil11i=lil11i[lI1liI]('\x76'),i1i1Ii=`\x6a\x6f\x69\x6e`,(0x15bcb9,lil11i[i1i1Ii](''));});}(0x18a,0x94bd8,Iii11l,0xc7),Iii11l)&&(iÔΩâl=0x4a7);const common=require(iI11Il(0x23f,'u72q')),{H5st}=require('./utils/Rebels_H');console[iI11Il(0x286,'pJCS')](''),console[iI11Il(0x290,'d71b')](iI11Il(0x29e,'TP55')+$[iI11Il(0x29c,'80wX')]+iI11Il(0x26f,'T@LL')),console[iI11Il(0x23d,'Owd#')](iI11Il(0x1fb,'92)Y')),console[iI11Il(0x233,'RY@l')](iI11Il(0x252,'F3uu')+$[iI11Il(0x297,'K)7D')]+'ÊèêÁ§∫ÁªìÊùü=========='),console['log']('');let tokensList=(process[iI11Il(0x2b5,'#Wds')]['jd_dpqd_tokens']||iI11Il(0x2a2,'K)7D'))[iI11Il(0x2a9,']lwU')](/[,@&|\n]+/g)[iI11Il(0x2ba,'ak]Z')](Boolean),TokensMap=null;const CacheFile=__dirname+iI11Il(0x2b0,'u72q');!(async()=>{const iIII1i=iI11Il,l1iii={'iZASp':function(IIlli){return IIlli();}};await l1iii[iIII1i(0x2c2,']lwU')](Main);})()['catch'](l1iil=>$['logErr'](l1iil))[iI11Il(0x251,'TAbk')](()=>$[iI11Il(0x230,'cqaI')]());async function Main(){const iil1i1=iI11Il,ii1l1={'FfbMJ':function(lIIill,I11iIi){return lIIill!==I11iIi;},'iKmEL':function(I1ilII,I11iIl){return I1ilII>I11iIl;},'DXAbA':function(l1l11l,IilIil){return l1l11l<=IilIil;},'LOKgk':'‚ö†\x20ÊØèÊ¨°ËøêË°å‰ºöË¶ÜÁõñ‰πãÂâçÁöÑÁºìÂ≠òÊñá‰ª∂ÔºåËØ∑Ê≥®ÊÑèÂ§á‰ªΩÔºÅ','tJqev':'jHDYN','CRtQm':function(l1iIi,l1l11i){return l1iIi<l1l11i;},'eCMNG':function(l1iIl,illIll){return l1iIl(illIll);},'WssAI':'getActivityInfo','IIiOt':function(iIli1I,Iiil1){return iIli1I-Iiil1;},'lLxer':iil1i1(0x1e0,'TAbk'),'kRDxe':iil1i1(0x1e3,'5nTr'),'kDDAA':function(iiilli,l1iIIl){return iiilli!==l1iIIl;},'ZUXTc':iil1i1(0x267,'Owd#'),'RiFPt':function(iiilll,lI11Il){return iiilll===lI11Il;},'Ykpkd':iil1i1(0x247,'ixZz'),'Gkwhe':iil1i1(0x1ff,'B2iY'),'iKBwK':'\x0aÂª∫ËÆÆÁßªÈô§ÁöÑÊ¥ªÂä®Ôºö','IllUj':'iEymv','JuuTp':iil1i1(0x22f,'F3uu')};try{if(ii1l1[iil1i1(0x23b,'80wX')](tokensList[iil1i1(0x21b,'TAbk')],0x0))tokensList=[...new Set(tokensList['filter'](lIII1l=>lIII1l!==''))];if(ii1l1[iil1i1(0x219,'%4&o')](tokensList['length'],0x0)){console[iil1i1(0x2a8,'I3hd')](iil1i1(0x288,'g2&s'));return;}TokensMap=new Map(tokensList[iil1i1(0x20f,'4u6h')]((l1iIIi,lilIi)=>[l1iIIi,{'index':lilIi+0x1,'venderId':'','shopName':'','activityId':'','startTime':'','endTime':'','isValid':!![],'rules':[]}])),console[iil1i1(0x205,'TP55')](ii1l1[iil1i1(0x269,'92)Y')]),console[iil1i1(0x28e,'#Wds')]('üè¨\x20ÂºÄÂßãÊü•ËØ¢\x20'+tokensList[iil1i1(0x2bb,'g2&s')]+iil1i1(0x270,'92)Y'));const lIII1i=[];console[iil1i1(0x1f4,'cqaI')]('');for(const l1l11I of tokensList){if(ii1l1[iil1i1(0x225,'yf8s')]===ii1l1[iil1i1(0x235,'KhD*')]){let lilIl=!![];$[iil1i1(0x21f,'0RzO')]=l1l11I;let IilIlI=0x0;$['getActivityInfo']='',$['invalidAct']=![];const iIli11=0xa;while(!$['getActivityInfo']&&ii1l1[iil1i1(0x2b8,'y3^h')](IilIlI,iIli11)&&!$[iil1i1(0x268,'0RzO')]){$['getActivityInfo']='',await ii1l1['eCMNG'](sendRequest,ii1l1[iil1i1(0x221,'#Wds')]),await $[iil1i1(0x1ea,'Pg8*')](0x3e8),IilIlI++,ii1l1['iKmEL'](IilIlI,ii1l1[iil1i1(0x263,'Ri%Q')](iIli11,0x1))&&(ii1l1[iil1i1(0x2ab,'V^Kj')](ii1l1['lLxer'],iil1i1(0x20d,'YIgX'))?(II11Ii[iil1i1(0x1f4,'cqaI')]('['+II11Il+iil1i1(0x1ef,'Owd#')+IlI11+iil1i1(0x200,'#Wds')),iIIIIl[iil1i1(0x27a,'F3uu')](II1Il),lilIlI=![]):console['log'](''+$['TokenErrorMsg']));}if(!$[iil1i1(0x28d,'9&G3')])continue;const Iiiil=$[iil1i1(0x253,'TAbk')]['venderId'],Iiiii=$['getActivityInfo']['id'],l11i1I=$[iil1i1(0x294,'JPxK')]['activityStatus'],IiII=$['getActivityInfo']['continuePrizeRuleList']||[],llIIli=$[iil1i1(0x1e9,'4u6h')]['prizeRuleList']||[],lIII1I=$[iil1i1(0x25d,'cqaI')][iil1i1(0x266,'ixZz')],illIlI=$[iil1i1(0x282,'ixZz')][iil1i1(0x216,'TP55')],liIiI=$[iil1i1(0x28b,'FGoZ')](ii1l1[iil1i1(0x271,'RY@l')],lIII1I),l1il1I=$['time'](ii1l1[iil1i1(0x1f8,'ak]Z')],illIlI),Iiili=Date[iil1i1(0x1f2,'*F5V')]();lIII1I&&ii1l1['CRtQm'](Iiili,lIII1I)&&(ii1l1[iil1i1(0x1fe,'dJ4f')](ii1l1[iil1i1(0x26e,'y3^h')],iil1i1(0x2ad,'V^Kj'))?(console['log']('['+l1l11I+']ÔºöÊ¥ªÂä®Â∞ÜÂú®\x20'+liIiI+'\x20ÂºÄÂßãÔºåÊôöÁÇπÂÜçÊù•Âêß~'),lIII1i['push'](l1l11I),lilIl=![]):ii1l1['FfbMJ'](IiiIli,0x193)&&I1i11i[iil1i1(0x242,'KhD*')](I1i11l));if(illIlI&&ii1l1['iKmEL'](Iiili,illIlI))console[iil1i1(0x2b4,'V^Kj')]('['+l1l11I+']ÔºöÊ¥ªÂä®Â∑≤‰∫é\x20'+l1il1I+iil1i1(0x218,'dJ4f')),lIII1i['push'](l1l11I),lilIl=![];else ii1l1[iil1i1(0x23c,'K)7D')](l11i1I,0x3)&&(console[iil1i1(0x205,'TP55')]('['+l1l11I+iil1i1(0x264,'FGoZ')),lIII1i[iil1i1(0x261,'d71b')](l1l11I),lilIl=![]);let IilIli=![];const li1=[],illIl1=[...llIIli,...IiII];for(const l11i1i of illIl1){if(ii1l1[iil1i1(0x273,'JPxK')]('RXzYd',ii1l1[iil1i1(0x23e,'y3^h')]))Ii1iIi[iil1i1(0x2aa,'TAbk')]('‚ùå\x20ËÑöÊú¨ËøêË°åÈÅáÂà∞‰∫ÜÈîôËØØ\x0a'+iliIIl);else{const l1il11=l11i1i[iil1i1(0x289,'YIgX')],IiI1=l11i1i['prizeList']||[],liI=[];for(const illIli of IiI1){let l11i1l='';const lIII11=illIli[iil1i1(0x1f5,'7ZzX')],IiilI=illIli[iil1i1(0x234,'JPxK')],ii1I11=illIli[iil1i1(0x228,'Ri%Q')],liIi1=illIli[iil1i1(0x29f,'K)7D')],lI11II=liIi1===0x5;switch(IiilI){case 0x1:l11i1l=ii1l1['Gkwhe'];break;case 0x4:l11i1l=lIII11+'‰∫¨Ë±Ü';break;case 0x6:l11i1l=lIII11+iil1i1(0x25c,'4u6h');break;case 0x9:l11i1l=''+illIli?.['interactPrizeSkuList'][0x0]?.['skuName'];break;case 0xa:l11i1l=lIII11+iil1i1(0x256,'zqh0');break;case 0xe:l11i1l=lIII11/0x64+'ÂÖÉÁ∫¢ÂåÖ';break;default:l11i1l=iil1i1(0x287,'cqaI')+IiilI+'Ôºâ';}if(![0x1,0x6]['includes'](IiilI)&&!lI11II)IilIli=!![];liI[iil1i1(0x2c4,'pJCS')](l11i1l+'ÔºàÂÖ±'+ii1I11+'‰ªΩ'+(lI11II?iil1i1(0x1e2,'B2iY'):'')+'Ôºâ');}li1[iil1i1(0x279,'92)Y')]({'days':l1il11,'prize':liI,'havePrize':IilIli});}}const l1llII=await common[iil1i1(0x276,'92)Y')]({'venderId':Iiiil});console['log']('„Äê'+l1l11I+iil1i1(0x20c,'#Wds')+l1llII+iil1i1(0x1f6,'YIgX')+liIiI+iil1i1(0x240,'TP55')+l1il1I);ii1l1[iil1i1(0x2c0,'(N*V')](li1['length'],0x0)&&console['log'](li1[iil1i1(0x229,'0RzO')](l1llI1=>(l1llI1[iil1i1(0x1f3,'3Ujq')]===0x0?iil1i1(0x27e,'%4&o'):'ËøûÁª≠'+(l1llI1[iil1i1(0x1e6,'u72q')]<0xa?'\x20':'')+l1llI1[iil1i1(0x207,'5nTr')]+'Â§©')+'Ôºö'+l1llI1[iil1i1(0x24a,'PHZ3')][iil1i1(0x224,'rts4')]('Ôºå'))[iil1i1(0x227,'80wX')]('\x0a')+'\x0a');!IilIli&&(lIII1i['push'](l1l11I),lilIl=![]);const IilIll=TokensMap[iil1i1(0x208,'w[0)')](l1l11I);IilIll[iil1i1(0x2c1,')eOC')]=Iiiil,IilIll[iil1i1(0x21c,'F3uu')]=l1llII,IilIll[iil1i1(0x1ee,'ixZz')]=Iiiii,IilIll['startTime']=lIII1I,IilIll[iil1i1(0x29b,'TAbk')]=illIlI,IilIll[iil1i1(0x1ec,'y3^h')]=lilIl,IilIll[iil1i1(0x239,'KhD*')]=li1,TokensMap[iil1i1(0x226,'pJCS')](l1l11I,IilIll);}else I1llii[iil1i1(0x241,'7ZzX')](lilIll[iil1i1(0x2ae,'*F5V')]+'\x20Ê¥ªÂä®‰ø°ÊÅØËé∑ÂèñÂ§±Ë¥•');}if(ii1l1[iil1i1(0x248,'TP55')](lIII1i['length'],0x0)){console[iil1i1(0x2c3,'PIl)')](ii1l1[iil1i1(0x24c,'5nTr')]);for(const IillIi of lIII1i){ii1l1[iil1i1(0x29d,'K)7D')]===ii1l1[iil1i1(0x2a7,'yf8s')]?console['log'](IillIi):IiiIl1[iil1i1(0x22b,'T@LL')](lIIil1,IIli1);}}const l11i11=Object[iil1i1(0x2a3,'PIl)')](TokensMap),IilIl1=require('fs');IilIl1[iil1i1(0x2bd,'w[0)')](CacheFile,JSON[iil1i1(0x28a,'g2&s')](l11i11,null,0x2)),console[iil1i1(0x241,'7ZzX')](iil1i1(0x212,'%4&o')),console['log'](CacheFile);}catch(IllI1i){ii1l1['JuuTp']!==ii1l1[iil1i1(0x1f9,'K)7D')]?(lilIil[iil1i1(0x2c6,'YIgX')](i1l11),i1l1li=![]):console[iil1i1(0x250,'%4&o')](iil1i1(0x283,'3Ujq')+IllI1i);}}async function handleResponse(lil,IllI1l){const il1i11=iI11Il,i11I1i={'CGaRo':function(IillIl,llliil){return IillIl!==llliil;},'xIEFj':'bxpGT','Gxbyh':function(liIl1,II1lll){return liIl1===II1lll;},'caKzT':il1i11(0x2be,'*F5V'),'kQdTc':function(II1lli,ii1I1I){return II1lli===ii1I1I;},'GYxwo':function(IiIl,IiIi){return IiIl!==IiIi;},'IUIOq':il1i11(0x24f,'%4&o'),'XWfHP':'UlppM'};try{if(il1i11(0x1e4,'B2iY')===il1i11(0x203,'FGoZ'))i1l1ii['log'](''+i1l1[il1i11(0x220,']lwU')]);else switch(lil){case il1i11(0x1ed,'rts4'):if(IllI1l[il1i11(0x284,'V^Kj')]===0xc8&&IllI1l[il1i11(0x214,'[B[^')]===!![]&&IllI1l['data'])i11I1i['CGaRo'](il1i11(0x202,'B2iY'),i11I1i[il1i11(0x223,'cqaI')])?$['getActivityInfo']=IllI1l[il1i11(0x254,')eOC')]:I1lllI['log'](ill111);else IllI1l[il1i11(0x244,'4u6h')]?i11I1i[il1i11(0x299,'ak]Z')](i11I1i[il1i11(0x265,'FGoZ')],'nPYhj')?(i11I1i[il1i11(0x231,'KhD*')](IllI1l[il1i11(0x2b7,'g2&s')],0x192)?console[il1i11(0x255,'yf8s')]($[il1i11(0x243,'dJ4f')]+'\x20Ê¥ªÂä®Â∑≤ÁªèÁªìÊùü‰∫Ü'):i11I1i['GYxwo'](i11I1i['IUIOq'],i11I1i[il1i11(0x215,'yf8s')])?console[il1i11(0x1f4,'cqaI')]($[il1i11(0x274,'TP55')]+il1i11(0x280,'dJ4f')):(I1iIii[il1i11(0x20e,'F3uu')]('['+IllII1+il1i11(0x211,'TP55')),I1iIil['push'](lI1Iil),lilIiI=![]),$['invalidAct']=!![]):(iIIl1I['log']('‚ùì'+I1iIli+'\x20'+lI1Ill[il1i11(0x2bc,'KhD*')](lI1Ili)),IliilI['invalidAct']=!![]):(console[il1i11(0x2c3,'PIl)')]('‚ùì'+lil+'\x20'+JSON[il1i11(0x27d,'zqh0')](IllI1l)),$[il1i11(0x25a,'K)7D')]=!![]);break;}}catch(IllI1I){console[il1i11(0x2a1,'n3s4')](il1i11(0x1e7,'V^Kj')+lil+'\x20ËØ∑Ê±ÇÂìçÂ∫î\x20'+(IllI1I[il1i11(0x2a0,'dJ4f')]||IllI1I));}}async function sendRequest(liIii){const IlIll1=iI11Il,II1ll1={'KEiEo':'GET','lTrNG':IlIll1(0x232,'pJCS'),'FGNcE':IlIll1(0x210,'RY@l'),'TrYvn':'jsonp1003','kwUHh':IlIll1(0x291,'PIl)'),'ScWPq':IlIll1(0x2b9,'K)7D'),'pcHUQ':IlIll1(0x29a,'K)7D'),'fzARR':IlIll1(0x26c,'ixZz'),'TglkZ':'api.m.jd.com','mnnfT':IlIll1(0x26d,'I3hd'),'LsrQH':'no-cors','afMbF':function(ii1I1i,llI){return ii1I1i===llI;},'spbQT':IlIll1(0x1f0,'g2&s'),'dBogA':IlIll1(0x262,'80wX'),'YUeoo':function(llliI,iI1li1){return llliI<iI1li1;},'VGpox':function(lllii1,liIli){return lllii1>liIli;},'gyAmJ':function(liIll,IilIi1){return liIll===IilIi1;},'YaMBi':IlIll1(0x257,'tX4L'),'jwIZf':function(iI1liI,l1lIiI){return iI1liI!==l1lIiI;},'Gmjfl':'wJFAY','gYIPa':function(llliiI,IilIiI,i1i1I1){return llliiI(IilIiI,i1i1I1);},'NjtRT':function(IlII1,IiI11){return IlII1>=IiI11;}};if($[IlIll1(0x258,'[B[^')])return;let IlI1Ii='',i11I1I=null,l1il1i=null,ll1=II1ll1[IlIll1(0x21e,'PIl)')],iI1llI={},llliii={};switch(liIii){case IlIll1(0x22a,'TP55'):llliii={'appId':II1ll1[IlIll1(0x2a4,'zqh0')],'functionId':'interact_center_shopSign_getActivityInfo','appid':'interCenter_shopSign','body':{'token':$[IlIll1(0x26a,'t^X&')],'venderId':parseInt($[IlIll1(0x21a,'%4&o')])||''},'version':IlIll1(0x22e,'JPxK'),'ua':$['UA']},iI1llI=await H5st['getH5st'](llliii),IlI1Ii=II1ll1[IlIll1(0x206,'w[0)')],l1il1i=Object[IlIll1(0x1fd,'dJ4f')]({},iI1llI[IlIll1(0x245,'d71b')],{'jsonp':II1ll1[IlIll1(0x259,'F3uu')]});break;default:console[IlIll1(0x213,'80wX')]('‚ùå\x20Êú™Áü•ËØ∑Ê±Ç\x20'+liIii);return;}const IllI11={'t':Math[IlIll1(0x201,'Pg8*')](Date[IlIll1(0x238,'u72q')]()/0x3e8)+'000','loginType':'2'};i11I1I&&Object[IlIll1(0x1eb,'7ZzX')](i11I1I,IllI11);l1il1i&&Object[IlIll1(0x298,'yf8s')](l1il1i,IllI11);const l1llIi={'url':IlI1Ii,'method':ll1,'headers':{'Accept':II1ll1['kwUHh'],'Accept-Encoding':II1ll1[IlIll1(0x28c,'3Ujq')],'Accept-Language':IlIll1(0x249,'ixZz'),'Connection':II1ll1['pcHUQ'],'Content-Type':II1ll1[IlIll1(0x293,'80wX')],'Host':II1ll1['TglkZ'],'Referer':II1ll1[IlIll1(0x2c5,'tX4L')],'Sec-Fetch-Dest':IlIll1(0x2af,'F3uu'),'Sec-Fetch-Mode':II1ll1[IlIll1(0x21d,'K)7D')],'Sec-Fetch-Site':IlIll1(0x23a,'d71b'),'User-Agent':IlIll1(0x26b,'Pg8*')+Date[IlIll1(0x295,'rvvC')]()+IlIll1(0x260,'(N*V')},'params':l1il1i,'data':i11I1I,'timeout':0x7530,'httpsTlsOptions':common[IlIll1(0x272,'F3uu')]()};II1ll1['afMbF'](ll1,II1ll1['KEiEo'])&&(II1ll1[IlIll1(0x2c7,'yf8s')]===IlIll1(0x24d,'PIl)')?IiiIlI[IlIll1(0x25b,'[B[^')](Iilli1,I1l1Il):(delete l1llIi[IlIll1(0x2c8,'B2iY')],delete l1llIi[IlIll1(0x1e8,'7ZzX')][II1ll1[IlIll1(0x2b2,'t^X&')]]));const II1llI=0x1;let i11I11=0x0,l1llIl=null,ii1I1l=null;while(II1ll1['YUeoo'](i11I11,II1llI)){II1ll1[IlIll1(0x25f,'I3hd')](i11I11,0x0)&&await $[IlIll1(0x1ea,'Pg8*')](0x7d0);const liIlI=await common[IlIll1(0x1fa,'*F5V')](l1llIi);if(!liIlI[IlIll1(0x27b,'yf8s')]){if(II1ll1[IlIll1(0x27f,'n3s4')](IlIll1(0x22c,'Ri%Q'),II1ll1[IlIll1(0x2b1,'cqaI')]))lI1Il1['log']('['+lilIi1+']ÔºöÊ¥ªÂä®Â∑≤‰∫é\x20'+IiilII+IlIll1(0x222,'FGoZ')),IliI1I[IlIll1(0x2bf,'t^X&')](lI1Iii),i1li=![];else{ii1I1l=liIlI[IlIll1(0x2b6,'*F5V')],$['TokenErrorMsg']=$[IlIll1(0x1e1,'3Ujq')]+'Ôºö'+ii1I1l+'\x20ËØ∑Êõ¥Êç¢IPÊàñ‰ΩøÁî®‰ª£ÁêÜ',l1llIl=IlIll1(0x277,'g2&s')+liIii+IlIll1(0x20a,'I3hd')+liIlI[IlIll1(0x292,'Pg8*')],i11I11++;continue;}}if(!liIlI[IlIll1(0x281,'PIl)')]){if(II1ll1[IlIll1(0x285,'B2iY')](IlIll1(0x209,'K)7D'),II1ll1[IlIll1(0x236,'92)Y')])){l1llIl='üö´\x20'+liIii+'\x20ËØ∑Ê±ÇÂ§±Ë¥•\x20‚ûú\x20Êó†ÂìçÂ∫îÊï∞ÊçÆ',i11I11++;continue;}else{iIIIII['log'](IlIll1(0x20b,'n3s4'));return;}}await II1ll1[IlIll1(0x204,'u72q')](handleResponse,liIii,liIlI[IlIll1(0x22d,'t^X&')]),ipBlack=![];break;}II1ll1['NjtRT'](i11I11,II1llI)&&(II1ll1[IlIll1(0x28f,'9&G3')](ii1I1l,0x193)&&console[IlIll1(0x28e,'#Wds')](l1llIl));}function Iii11l(){const IlIII=(function(){return[...[iÔΩâl,'DxjsXADjWiPfaJJmXikq.lcGBEobrmCn.vg7LRkx==','wmozw8ob','WPdcI8oLW5xdGa','dCkKW5n8na','77YW5Bwk5y++5AYS','W7upWQpcHqf0mCooWONcKCkFnadcJSk3DW','ECo/ySo0WRy','WR1gWRVcHMb1bmkR','WQqTW5NdVW','4PYfW7tMNBVOGklMR7ZNOztLPPBNKP5y','WOHVwSk7DGSA','W70xW5ldOmoJWRDaW68CfmkiWPWwymkk','W6xdLmo5W50','WOf5smk2DbC','DWbihWxdNxG','W7m/ALrcWQ9jW6/cVbG4i8klqsa','zSk/i8kIW4hdKSoJb8k0WRu','FE+/U+A3NEwkVEwZJEwDSt8','W4WYtLtdQa','iSokWPCDwqfeCCklhvtdLW','ASoYAW','hCkQW4fQ','W4tdTX4','WOrJsmk8FaWhta','W6NLV6RLPAFML4ZPLPhVV7C','W5xdNmkzcfpdLtNcTmocze10','WOaanCk2WQe','gLRcSNqJ','DSo4Bv3dQa3cVW','W6GBW542WOtcPdW5nZ/cNSkGWQaSWOS3WRRdPEA0K+wkVLtcRE+8VEwLVUs7SoExUoIiK+AvVEMbSUwnK+wkQ+wiTW','kuyMsf3cHgyTW6SRfYm','ASoiCmkpWPpdTa','ymo/r8kNWRu','5lYK5Ogy5yIx','W6NLViBLP4/VVPVMMlhNGANLH7JMNQNLKR/dHq','W7tdMCo/W4zs','uSo6rSooWQ4','WQOvWPpcU2G','WQCvW6NdNmkX','W6vacG','W5BcVerLqa','W6GxWQpcJW','W7FcNN4','e0RcQuSl','FoITGEAXQUwMSEI0QXlINzre','4PQVaEITTowhPEwSNUs5HUw8IEIKIEEzPEEmOowIO+woQEMgLEwsNEweN+I8Q+IINEIgVUACMo+/PG','44oydow6K+MrREwrPUEKOo+9R8oV','WOlcJ8oOFIy','WOiGW4q','W7CtW5y','dmkfW7i3WPGvdGasiCotbe7cLmkrofvSgdeDg8k4rq','W5tVVlxMTzBLIyRLTA/NUztMN6q','57+V5AYc5yEA5yET5AY15Q+K77YS5OIA5zYw55Qe5B+x77Ye','WQ0keW','wSokW5ldOaDkW7a','WRnNWQ7dUSk0','W6XbcCk2W7tdQSoE','gSkunIOTW7KVcq','k+E5QoADNo+/QUs7V+AUU+AxQ+EbMoACHUwrTe8','WRGcaSoQW7G','WOO/lCoSW5XdAt4','WP3cI8opW7BdTYK','WP0NW4WXBG3dLru','hfZcTxeB','WQ01m0tcUW','ASkpcXyx','WO4SySkqW6eeWQX7W6imxNSe','WP51D8owiG','W7RNUO/MNPtVV5hKUixMRARML4xNGAtMNBBLKAdcLa','W5ddKtXGWOK','W741D3S','WP96WRNdL8ks','gSoOhq','WQSkhCou','rCorpGWsW6a','C8kbea','W65kgCkJW77dS8ossCkoDCo9yJy8ca','ESkmW5ffb1O'],...(function(){return[...['wSo3hc8q','umoUomkz','iHRdQW','WQSHW4W4qW','W4ZdTXDd','b2q8W5Gy','xCoPchVdKq','cmkEW6e','yK3cR8kf','gh8PW6Kn','W4usW6S0WPG','l8ozuuDliaBdHSk9bCoJWO5i','WQ4JW5C','hKa0W6Ki','WPDUWPZdP8oWWQBdR0ZcMKpdMq','WQGUgCo/WOW','aKBcGxaN','tmkoWOe','rXHUfq0','W65JW5xdUmk5mLfZcSknW53dVSooW7pdVZdcICoaWQFcTLOsW6i','WOpNU7ZMNllMLjtPLANVVP0','WOXLxa','afO/','F8ouAmkdWPO','W7CbW4e','WPrUWOpdO8kWWRRdMutcIuS','oCkonCorW4hcOJxdLdOAzrZdK18','x8kvaSksW4q','W6bKamkNW5e','FCk0ESkiW7NcL8oTfSoqWPNcMIPRWObOfCkfiW4','WQdcT8ohW44q','WPa9gSoKhNjk','W6u9WPJcI2C','WRiumhhcRa','WR1gWR/cUhzsomkQ','WP8SeCoNW4a','WPa1ja','WPFcH8opW7ddRY3dHa','W5nYWP58hvhcHu1OaG','WPBcI8ovW5ddOdxdLdxcJCowWOfLW43dLmoa','WO13FSkB','WODFWQ8','5yEKdEwmSG','WRayWRVcQcK','w8okW5/dHGXD','WRO9W7O3tG','ouhcSue/WOC8ACoEWO8','smomW4ldQGvx','5BIn6zki56wj5yQN','W4/dVq1NWObWW4/dQb3cJbNcKmoIWOpcPa','v8kgW7VdOYLwiSo3yLvfl8oxzW','cSoXwmoVDG','ACo5bJhdK8oPWQ0snSkgWRGZWQ/dGmkRWPhcM8k0i8oPAs4Emxi7vmktm8oAEafKjuKgWQVcMSoBW5iFW73cPmo6BvpcHfRdOCkXWPezWOddRCohFrpcQCo0W6yYWRBdUCohamoHWQzMA8oQWQlcUcOaWRpdM3G3dSo+xuZdUsnHrCovWQdcILnTeCk+W7SdW5xcTvJcO10qW6xdGSoMzt3dU3C6W7/dHZr+W6zcWPmoWRpcJ8oaWPhcQxxdPGbJWOWElWinEw0owCoLA8orxt7dHItdVCk2W4HiWROqdSk5E8kWjhfUWQCrW6qNWRqTqvvEA8kKW4ddU8oqW51HmNNcUmkDWOJdLJyvWOhdNSoTWR7cRCkhWOPXW5RdM2jazaRdOCkGy3xdQCoHrg1sfMRdPqjVW5bFWO/cKwVcS8k6q8oph8oyomohWR5/WO/cKwNcLmkLW6NcLKTrDdJcUSkmocBdPCovs2ddIxuHWQBcVmkmdCosEdmcrXmqW5pcVGpcUI7dISk0smoVWOnhWPmNWPtcKsGmag/dHH3dNJJdS09bW4bJjSkcW5yNcXTA','WPr6WOldQG','WOikgSooWQvunrTYCxzB','ySoToIed','WOFVVyBMT7dLIBxLT7ZNUPJMNBm','WRK9WOdcP1O','DmkOnSk5W4pdR8o+e8ky','vmkVWObVWRS','D8kofHivFfRdPmkmaG','W44WW4O1WP8','qmoGj8kDcG','W7JdKCoXW5LqWQNcGCkVWOrpqmkJW48eWPm2WRBcPCk7o8oDAmoyc8kfjSoKW6ZcIbBdQI49oCoDirpdTSkSWOnEWOPqvbLyW65+h0iZWOP2dmkRWPlcMfxdOmoepXXChLNcQ0FdQ8kNq2/cUrOEcu45WR3cNLXPxwdcTCoyWRBcKmoStmoLwSoVyZLTbSkhWQmXWQhdPmk1A8k0omkNDILVWRddOZZcNcFdLWpdQ8ofWQ8vWOFcNWqjoX4rDmoZgSk0vqhcIWzbWQf/W4DAwxC/CmoWWO4PW4/cPCkNW7NdMConW47cPeL4W7z7qNqhisddNJFdJHVdNCoqdsRdQmo2AHVcGmopWPVcUSoqwxuTW7RcN3tcKKxcTmoHsr9jjJldNmoDnJSvWRiKWPxcLmoUsCkRW6FcHc05t8o3u8kKW57cHmkXW7NcJSobaCkTW5bLWRu2eZNdOu7cSmoaW74ukZvCW6X8W4nmrCk6W4y','C8k5l8k/WPJdI8o7h8kuWR8','nmocxmoWFqJdP0VcMCo9W6JdKLNdHCkWWQVdLwneWPu','rczgkGO','5y+d6ysW6k2w5PIIxqKDgCopzcJcOYNcSa','WQlKUzxLUjBPKQG','d8kJW4i/WO4','WPS8W4yaubZdRbWM','rf3cMCkWWOq','W71abSkhW7m','h8kjWOtcSvqbW5RcJmo6W6urAq','W6uAW7ubWPZcUIGOiJ3cKa','8lARKcy','w8k/uxVdKCo/Au5NWOpcOCopW7W','W7ikW7i6','WP46W5aP'],...(function(){return['WPHfWQVdKCkbeCo6','W5PMrSo9W7xdU8ohWQhcSurRWQJcJW','W5q8iCoGjwz2WPJdVW','5QYZ5PA/56Y95yQ4','AfJdGSoaW44','k+A2GowkQ+s8H+AcM+ImREwpLowNKoI1HG','WOirlMa','ymk5i8kkW5tdJ8o+cmkuWQxcGG12W512','4PY1W6VOHQlMNlxOVOROO7pPGRpLIi/KURFPLllORABdKG','kSk7nCk6','vSopzSo6WOi','bCoIdG','5P6c55295AsV5zoN77+R','4PIhw+IVSEwfRUwSVEs4T+w+TEIMREEyP+EmRowGVUwoToMfI+wtJowgHUI/UEIHKUIeS+AFNo++Ua','WO/cJ8oAxWK','W5qpDe/dIrKzsSoA','WQ41WQBcUa','kSkOW69jkW','W7esfCoji8kNB15aWRFcQHZdVbdcOW','WQvPyW','W7WakmosjG','WOHGWPy','W4XFCa','W7FdH8oIW4zs','WQCFnCoOWPi','CvhcQ8kHWPpdPxpdJSoVwdmSW7ybW6S','c8oCWRO','WQ1VkYqyW65eW4ZcRcGaiW','pK7cQKu','WOPdWRVdM8kdda','WQWQe8k3WQW','o0RcOLb+WO80qColWP4','WPtcGmofW4xdQIZdMa','WQ8egCoF','gupcQ3u5','WRqsumoFWQdcUSkgaSoApa','i1VcPLqMWP0','zSoECmkvWPxdVwC','y07dPa','yXNdTMrGW5CAgCkoWR/cVdKVBCoNmenOW6FdKCkoxCkOW4ldH8oIhSkPWPVcVSo7radcUvDMWR/dJSkVE8krWOzKCmk6bCk6WQmHW7bNnYRcPSkXWRO8palcPKr4hmkSi8kmW4qIAHxdLmoalMrmW4JcIM9Rrc7cM1hdNvZdUx3cVXBdG8o/WQn4w8kQpComu8ofW6GdBmkAWQupW5eOutO7W4HAvNygW4rnWPJdGSo7W5pdSComWP0pWOlcJN4zWOxcN8kluIRdO8kvzvNcVw/cJ0yHseVcO8kyWQBcP8olCCkmWPJdIxiwFZ8vWPH3WR3dIcSrWRG0W4FcQ8ksBqbbFmo/rYVcN8odDmovWRVdM2/cQ8kvWPDsWRT6CItdLu8IWPhcGq','WOacnwZcKCkYte3dReFcHq','W4SCiCohda','W5hdMmkucvBdNflcJSolC25NWRi','xqfVWR9kWObXxd8VWPm7WOK','WQjCWQtdP8ko','mmoztW','WQKZzCkCW7S','WP3cGCog','d8kYm8ksW5u','kqzxeZZdH0K','iCkCkCknW4W','CmoYD03dOW','WP0SW5eOubG','W68+W5pdK8k0lLm4b8kCW5ddSmohW67dK3tcH8oWWQFcTq','W7hdUtrKWOO','umoni8kFjq','WQvQF29TWPDyW5e','jCk7nG','WQXOCG','D8oPFvZdUa0','W4quyKm','xsfQlWq','n1xcRLb/W448tCoBWPFdQx0oEmkdzhu','WO07hCk6WQhcUa','W4SEAehdKXy','h0eQW6uvW5yOCsu','W6FcIwnYyd/dPabcW4hcNxaU','ASonruddPW','rmo6p8kq','jCkakfhcRq','WP9ZzmkEWPxcHSk0WOq','WRmzsmkMW78','WOOFpq','gCo4gIa','WOGeWQxcHb8','WPpcN8oFuG','WPHaWQRdO8kW'];}())];}())];}());Iii11l=function(){return IlIII;};return Iii11l();};var version_ = 'jsjiami.com.v7';
// prettier-ignore
function Env(t,e){"undefined"!=typeof process&&JSON.stringify(process.env).indexOf("GITHUB")>-1&&process.exit(0);class s{constructor(t){this.env=t}send(t,e="GET"){t="string"==typeof t?{url:t}:t;let s=this.get;return"POST"===e&&(s=this.post),new Promise((e,i)=>{s.call(this,t,(t,s,r)=>{t?i(t):e(s)})})}get(t){return this.send.call(this.env,t)}post(t){return this.send.call(this.env,t,"POST")}}return new class{constructor(t,e){this.name=t,this.http=new s(this),this.data=null,this.dataFile="box.dat",this.logs=[],this.isMute=!1,this.isNeedRewrite=!1,this.logSeparator="\n",this.startTime=(new Date).getTime(),Object.assign(this,e),this.log("",`üîî${this.name}, ÂºÄÂßã!`)}isNode(){return"undefined"!=typeof module&&!!module.exports}isQuanX(){return"undefined"!=typeof $task}isSurge(){return"undefined"!=typeof $httpClient&&"undefined"==typeof $loon}isLoon(){return"undefined"!=typeof $loon}toObj(t,e=null){try{return JSON.parse(t)}catch{return e}}toStr(t,e=null){try{return JSON.stringify(t)}catch{return e}}getjson(t,e){let s=e;const i=this.getdata(t);if(i)try{s=JSON.parse(this.getdata(t))}catch{}return s}setjson(t,e){try{return this.setdata(JSON.stringify(t),e)}catch{return!1}}getScript(t){return new Promise(e=>{this.get({url:t},(t,s,i)=>e(i))})}runScript(t,e){return new Promise(s=>{let i=this.getdata("@chavy_boxjs_userCfgs.httpapi");i=i?i.replace(/\n/g,"").trim():i;let r=this.getdata("@chavy_boxjs_userCfgs.httpapi_timeout");r=r?1*r:20,r=e&&e.timeout?e.timeout:r;const[o,h]=i.split("@"),n={url:`http://${h}/v1/scripting/evaluate`,body:{script_text:t,mock_type:"cron",timeout:r},headers:{"X-Key":o,Accept:"*/*"}};this.post(n,(t,e,i)=>s(i))}).catch(t=>this.logErr(t))}loaddata(){if(!this.isNode())return{};{this.fs=this.fs?this.fs:require("fs"),this.path=this.path?this.path:require("path");const t=this.path.resolve(this.dataFile),e=this.path.resolve(process.cwd(),this.dataFile),s=this.fs.existsSync(t),i=!s&&this.fs.existsSync(e);if(!s&&!i)return{};{const i=s?t:e;try{return JSON.parse(this.fs.readFileSync(i))}catch(t){return{}}}}}writedata(){if(this.isNode()){this.fs=this.fs?this.fs:require("fs"),this.path=this.path?this.path:require("path");const t=this.path.resolve(this.dataFile),e=this.path.resolve(process.cwd(),this.dataFile),s=this.fs.existsSync(t),i=!s&&this.fs.existsSync(e),r=JSON.stringify(this.data);s?this.fs.writeFileSync(t,r):i?this.fs.writeFileSync(e,r):this.fs.writeFileSync(t,r)}}lodash_get(t,e,s){const i=e.replace(/\[(\d+)\]/g,".$1").split(".");let r=t;for(const t of i)if(r=Object(r)[t],void 0===r)return s;return r}lodash_set(t,e,s){return Object(t)!==t?t:(Array.isArray(e)||(e=e.toString().match(/[^.[\]]+/g)||[]),e.slice(0,-1).reduce((t,s,i)=>Object(t[s])===t[s]?t[s]:t[s]=Math.abs(e[i+1])>>0==+e[i+1]?[]:{},t)[e[e.length-1]]=s,t)}getdata(t){let e=this.getval(t);if(/^@/.test(t)){const[,s,i]=/^@(.*?)\.(.*?)$/.exec(t),r=s?this.getval(s):"";if(r)try{const t=JSON.parse(r);e=t?this.lodash_get(t,i,""):e}catch(t){e=""}}return e}setdata(t,e){let s=!1;if(/^@/.test(e)){const[,i,r]=/^@(.*?)\.(.*?)$/.exec(e),o=this.getval(i),h=i?"null"===o?null:o||"{}":"{}";try{const e=JSON.parse(h);this.lodash_set(e,r,t),s=this.setval(JSON.stringify(e),i)}catch(e){const o={};this.lodash_set(o,r,t),s=this.setval(JSON.stringify(o),i)}}else s=this.setval(t,e);return s}getval(t){return this.isSurge()||this.isLoon()?$persistentStore.read(t):this.isQuanX()?$prefs.valueForKey(t):this.isNode()?(this.data=this.loaddata(),this.data[t]):this.data&&this.data[t]||null}setval(t,e){return this.isSurge()||this.isLoon()?$persistentStore.write(t,e):this.isQuanX()?$prefs.setValueForKey(t,e):this.isNode()?(this.data=this.loaddata(),this.data[e]=t,this.writedata(),!0):this.data&&this.data[e]||null}initGotEnv(t){this.got=this.got?this.got:require("got"),this.cktough=this.cktough?this.cktough:require("tough-cookie"),this.ckjar=this.ckjar?this.ckjar:new this.cktough.CookieJar,t&&(t.headers=t.headers?t.headers:{},void 0===t.headers.Cookie&&void 0===t.cookieJar&&(t.cookieJar=this.ckjar))}get(t,e=(()=>{})){t.headers&&(delete t.headers["Content-Type"],delete t.headers["Content-Length"]),this.isSurge()||this.isLoon()?(this.isSurge()&&this.isNeedRewrite&&(t.headers=t.headers||{},Object.assign(t.headers,{"X-Surge-Skip-Scripting":!1})),$httpClient.get(t,(t,s,i)=>{!t&&s&&(s.body=i,s.statusCode=s.status),e(t,s,i)})):this.isQuanX()?(this.isNeedRewrite&&(t.opts=t.opts||{},Object.assign(t.opts,{hints:!1})),$task.fetch(t).then(t=>{const{statusCode:s,statusCode:i,headers:r,body:o}=t;e(null,{status:s,statusCode:i,headers:r,body:o},o)},t=>e(t))):this.isNode()&&(this.initGotEnv(t),this.got(t).on("redirect",(t,e)=>{try{if(t.headers["set-cookie"]){const s=t.headers["set-cookie"].map(this.cktough.Cookie.parse).toString();s&&this.ckjar.setCookieSync(s,null),e.cookieJar=this.ckjar}}catch(t){this.logErr(t)}}).then(t=>{const{statusCode:s,statusCode:i,headers:r,body:o}=t;e(null,{status:s,statusCode:i,headers:r,body:o},o)},t=>{const{message:s,response:i}=t;e(s,i,i&&i.body)}))}post(t,e=(()=>{})){if(t.body&&t.headers&&!t.headers["Content-Type"]&&(t.headers["Content-Type"]="application/x-www-form-urlencoded"),t.headers&&delete t.headers["Content-Length"],this.isSurge()||this.isLoon())this.isSurge()&&this.isNeedRewrite&&(t.headers=t.headers||{},Object.assign(t.headers,{"X-Surge-Skip-Scripting":!1})),$httpClient.post(t,(t,s,i)=>{!t&&s&&(s.body=i,s.statusCode=s.status),e(t,s,i)});else if(this.isQuanX())t.method="POST",this.isNeedRewrite&&(t.opts=t.opts||{},Object.assign(t.opts,{hints:!1})),$task.fetch(t).then(t=>{const{statusCode:s,statusCode:i,headers:r,body:o}=t;e(null,{status:s,statusCode:i,headers:r,body:o},o)},t=>e(t));else if(this.isNode()){this.initGotEnv(t);const{url:s,...i}=t;this.got.post(s,i).then(t=>{const{statusCode:s,statusCode:i,headers:r,body:o}=t;e(null,{status:s,statusCode:i,headers:r,body:o},o)},t=>{const{message:s,response:i}=t;e(s,i,i&&i.body)})}}time(t,e=null){const s=e?new Date(e):new Date;let i={"M+":s.getMonth()+1,"d+":s.getDate(),"H+":s.getHours(),"m+":s.getMinutes(),"s+":s.getSeconds(),"q+":Math.floor((s.getMonth()+3)/3),S:s.getMilliseconds()};/(y+)/.test(t)&&(t=t.replace(RegExp.$1,(s.getFullYear()+"").substr(4-RegExp.$1.length)));for(let e in i)new RegExp("("+e+")").test(t)&&(t=t.replace(RegExp.$1,1==RegExp.$1.length?i[e]:("00"+i[e]).substr((""+i[e]).length)));return t}msg(e=t,s="",i="",r){const o=t=>{if(!t)return t;if("string"==typeof t)return this.isLoon()?t:this.isQuanX()?{"open-url":t}:this.isSurge()?{url:t}:void 0;if("object"==typeof t){if(this.isLoon()){let e=t.openUrl||t.url||t["open-url"],s=t.mediaUrl||t["media-url"];return{openUrl:e,mediaUrl:s}}if(this.isQuanX()){let e=t["open-url"]||t.url||t.openUrl,s=t["media-url"]||t.mediaUrl;return{"open-url":e,"media-url":s}}if(this.isSurge()){let e=t.url||t.openUrl||t["open-url"];return{url:e}}}};if(this.isMute||(this.isSurge()||this.isLoon()?$notification.post(e,s,i,o(r)):this.isQuanX()&&$notify(e,s,i,o(r))),!this.isMuteLog){let t=["","==============üì£Á≥ªÁªüÈÄöÁü•üì£=============="];t.push(e),s&&t.push(s),i&&t.push(i),console.log(t.join("\n")),this.logs=this.logs.concat(t)}}log(...t){t.length>0&&(this.logs=[...this.logs,...t]),console.log(t.join(this.logSeparator))}logErr(t,e){const s=!this.isSurge()&&!this.isQuanX()&&!this.isLoon();s?this.log("",`‚ùóÔ∏è${this.name}, ÈîôËØØ!`,t.stack):this.log("",`‚ùóÔ∏è${this.name}, ÈîôËØØ!`,t)}wait(t){return new Promise(e=>setTimeout(e,t))}done(t={}){const e=(new Date).getTime(),s=(e-this.startTime)/1e3;this.log("",`üîî${this.name}, ÁªìÊùü! üïõ ${s} Áßí`),this.log(),(this.isSurge()||this.isQuanX()||this.isLoon())&&$done(t)}}(t,e)}
