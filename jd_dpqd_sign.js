/*
活动名称：批量店铺签到
活动链接：https://h5.m.jd.com/babelDiy/Zeus/2PAAf74aG3D61qvfKUM5dxUssJQ9/index.html?token=<token>
环境变量：jd_dpqd_tokens // 活动令牌，多个用英文逗号，@，&，换行分割
        jd_dpqd_task_threads // 控制签到并发线程数（正整数），默认1
        jd_dpqd_account_threads // 控制账号并发线程数（正整数），默认1
        jd_dpqd_account_interval // 自定义运行间隔时长（整数，单位毫秒），默认0
        jd_dpqd_max_retry // 签到火爆时的最大重试次数（整数），默认0
        jd_dpqd_prize_notify // 是否推送中奖信息（true/false），默认不推送

此脚本为高并发签到本，需要读取主脚本生成的活动信息缓存，自动过滤无效活动，签到后如有奖品则自动到账


cron:1 1 1 1 *

*/

const $ = new Env('批量店铺签到')
var iｉl='jsjiami.com.v7';const llIIlI=iii1II;(function(i1iIll,i1lliI,liI1l1,IllIlI,IiillI,ili11I,li11l){return i1iIll=i1iIll>>0x6,ili11I='hs',li11l='hs',function(lliiIl,li11i,lliiIi,iiIi1I,IllIl1){const Ii1I1i=iii1II;iiIi1I='tfi',ili11I=iiIi1I+ili11I,IllIl1='up',li11l+=IllIl1,ili11I=lliiIi(ili11I),li11l=lliiIi(li11l),lliiIi=0x0;const ll1Ii=lliiIl();while(!![]&&--IllIlI+li11i){try{iiIi1I=-parseInt(Ii1I1i(0x135,'joVz'))/0x1*(parseInt(Ii1I1i(0x10c,'D&gF'))/0x2)+-parseInt(Ii1I1i(0x173,'TlVM'))/0x3*(-parseInt(Ii1I1i(0x1b8,'l8hh'))/0x4)+-parseInt(Ii1I1i(0x1bf,'X1FZ'))/0x5+-parseInt(Ii1I1i(0xda,'(0Np'))/0x6+-parseInt(Ii1I1i(0x85,'dELr'))/0x7*(-parseInt(Ii1I1i(0x16d,'vmO['))/0x8)+parseInt(Ii1I1i(0xe1,'Qv6g'))/0x9*(parseInt(Ii1I1i(0xa4,'bJyn'))/0xa)+parseInt(Ii1I1i(0x189,'cHf9'))/0xb*(parseInt(Ii1I1i(0x1a8,'(eYg'))/0xc);}catch(ll1Il){iiIi1I=lliiIi;}finally{IllIl1=ll1Ii[ili11I]();if(i1iIll<=IllIlI)lliiIi?IiillI?iiIi1I=IllIl1:IiillI=IllIl1:lliiIi=IllIl1;else{if(lliiIi==IiillI['replace'](/[FwPIlqDJRLxWETegOUS=]/g,'')){if(iiIi1I===li11i){ll1Ii['un'+ili11I](IllIl1);break;}ll1Ii[li11l](IllIl1);}}}}}(liI1l1,i1lliI,function(iiIi11,ill1II,i1llil,i1llii,l1i1I1,llIIil,llIIii){return ill1II='\x73\x70\x6c\x69\x74',iiIi11=arguments[0x0],iiIi11=iiIi11[ill1II](''),i1llil=`\x72\x65\x76\x65\x72\x73\x65`,iiIi11=iiIi11[i1llil]('\x76'),i1llii=`\x6a\x6f\x69\x6e`,(0x15eb7d,iiIi11[i1llii](''));});}(0x3180,0xa5797,Iii11l,0xc8),Iii11l)&&(iｉl=0x23f7);function Iii11l(){const liI1li=(function(){return[...[iｉl,'FxjgUswjDiwaOeWmPqiJl.lcoSemLD.vqE7IxTRl==','ECkjEmo0WPK','l8kZW6xcMsv5umo3dSou','5yAfv+wnIFc+JP8','WR/OR4BMSPtLKAdLUB4P','W41KWRRdHmk/','W5FdUSkgWQ3dN0tcMafSDfLKh2auq8kHumkUnZVcO3i9Dcnh5O6q5yUj6lAY5y6V5BU65y+R77Yb6BII6kYMW4S','atlcQmoS','4P6Qb+IeJUADHoI/OEIILUMcGowjMos6OUMxH+IUR1O','vrxcHZddNSoz','pWRcQmoNWR0','jJRcHwFcIa','re4Fcmku','WODhyclcJa','4PIDWPxOR4/LH5FLRzhKUAJLVOxOP6hNMyVNJkVLO63LJQdPHjxLK7pLHyFOVQZOOQ7OHkFMN5lVV58','W5hdU8k3WQ7dM10','oCoTW5JdOSkfWQzJWP4I','W77dLeZdJSks','W5pcL8oVBNe','oCodW7HhW61lfCoGW4JdRwZdGq','W4/cSSkTwfFcIWC','WPfLobyw','W7PjWR/dMq','uSkcA8k0iq','WPFdTx8Lyq','F8kJdJj/','pCksW7LaeW','dSkwv3ji','44ka5O+B56sb44ca6k6s5ysR6iYb5y6qW4FcH1uCcSot','WQNcNXzEWOO','WP8BWRb7','mSodlCkRW7mBWR3cKmo1WP0','W7/dL2iIACoxWQm','qmk9W6tdVSkhWPZcISkAdcG','WP7dSSkmz8oG','W4BINRS04P2TeEEUPowlT+AjUowkUW','mmolWP/cTmkt','oSkrqhe','hX4eWPlcUa','W5avivOaW6NdSJXDWQy4g8ow','WRtdLwagyq','WOjgyaK','W4i2WOldSmoBW5ZdQ3pdHCk0W444W7VdOx10s3qSW5bCwxJdNmoOWP3dJLHlDahdIrNcRqn/zmotbLq','EXSuWONcK8o3nvKQkmk+BXiDWOXsDCkbmmkK','WOFMTyhLIAZLPldNG4JNIiS','WOzyjqG1Fa','4PMriUIfLUwSKos6U+I9IEIGGEMuMUMBH+AwIEMvJ+IUVEE9GEMwOEISHW','W4tcICo8i8kuq8kToCoKWQ4mDG','zokDISkG4P6LkoETPUwiJowMR+I1NE++Uq','rspdJCkLtbRcVCoulSkW','W7XEWRldIa','W6XfWQtdHmkeBSkBc8oQ','WQD6W47dVmkz','WQBdIviBDq','wSkABmkriW','WR9/WPJdQKS','WOjsW5NdRCkM','WPDICcj8','m2dcPCovWR0','44ok6lsy5yYD','WQFdThm','z8o1WQVdTWe','l03dUg4S','lSkcxwPdpxj3WQq','hdBcSq','vCk+W6q','ESkaWRVcKeG','xCkdWR/cP1xcHt1/','yeDt','xmk/W7u','WRvZlaOy','eSkwW60+qa','W4e8WQNdSCozW4ZdRfJdQSkLW4iSW6RdM2fethuLW5K','WRvEsCopDq','W5tdM0VdUSk5vq','W53dLserWRtdGuxdGG','WOXKEI52','xcpcIZxdRq','W5yqxbyEgCoABa','iSkGW5xcOhi','WQ5BWPjgW4GvW5HMbYC','WRBcKvRdMq','pb7cH2FcMq','WOhdVMCABW','WProiG','WRLrWO5x','hSo7oZ9r','sokESSkE6k+C5Rc95AAr6lsp77Yu5PsH5zkQ5BQV5PwM5O+j77Ym8jc4IG','emkPW7qztG','rCoQWOm','WOnXxhZdVq','W4pcQtZdGmonW6xdSfvsmxpcRSorWQmvvCkBW7BcMCk1W47cN8kwfG','q8k2yeDb','4P+XWR7OH4pMN6xOVB/OOBNPGRVLIA7KUOVPLi7OR5ub','sXZcHrVdRq','W67dLsSIWPq','WPtdN108xq','tCkfWQFcOvtdJq','WQDPWQ/dSv8','W6JcNchdJSo/','W7JdLImOWQW','WPFcQCkkFfS','usJdRmk6qG','lSkvW67cR08','WRhcISkTFvC','nWyjWQlcKSoPma','bZNcN8oxb3NcKSo8','77+C8lskRa'],...(function(){return[...['bKhdIq','WPRdTMW+rG','BCotWOVdSZm','cIVcRmo6WR0Icmk4WOdcKa','WQb7rSoLCKBcGW','W5pdMHxdVmkKuZm','WOWBWQ1UW7DKumki','ASkqzG','W7z4WOFdJSkD','WOvvCqLfWR8','Ff/cNmoCcG','w3ZcRCo8iM/cNG','WQtdV3Ccuq','5yYJ6ysX6kYV5PI8iCo6y8oBW51iW7JcKhpcOG','k8oQgZv0','WOZcN8kYrKJcRJpcGW','c8ociHO','WQfQA8oTsW','smkFySk3fq','WRldM20pvG','nmkpW6W','4P21W4RMN6BOGlNMRzNNOP7LPzFNKi3dTq','rSk1W7XHWQtdGYtdQq','aHSsWPpcTa','DmkQWPVcG8o5vmkOWO8XcSob','WPvcya','WR7dS0e+wG','WQJcH3ddMfnMh8ktWRxdNGKFW7HFDCoZW49hb2/cGCkGWRPE5O2+5yMf56YQ5yQM5BMD5y+h77626BQp6k6NW5W','5P635yMH5zUG57MP5B+S','WQxcSeldVM0','WQ98s8oOA07cNWy','cmoDW7/dSa3dHgjQWQuEW7alsa','WRrFWODx','z3WChmku','s8k8y0ji','WPLrWOrgWOilW4aQoJaVoG','WPxcN8k2vW','WPzszWa','mSkFuW','lf/cPSowWO/cQ3NcHW','WQ9iWQbNWOS','fSo9WOlcVCkg','imo9W5S','pv/cVmo+WOxcVLNcJCo9WQmCECktwa','WQZdVMaltCo0WPfsWOtdL8oEW5LhW5C','lgGpiCke','bokFNmkz4P+jgUESJEwlUEAkVEwlUo+/Na','WP7dNSkNCmonfG','wCkvzSklaa','W4DpC0aV','W57cRaRdKmoPW73dUw8','WO9jDWreWR7cOHS','dKFdKL8AW5i','rKBcRmojcW','5P6q55YL5AEE5zoP77Y9','WPzHfaqf','W4NdHmkWWPVdMq','WRldL245c3T5W4nwWOldVSoxpSk0qCkNWQu','oCoRW7r0W68','q8kNtCkkmq','lSoPWPJcNSkx','fokELCo54P+2BUETSowlIEwMPUI1OU+8Pa','xIpdRmkFxq','W57dGh7dKCk4','WO7dHCk7F8okfSkmmCoW','WP7cJtvbWOTk','Dmk4WP/cKfe','rmkTuSodWOO','WRXuWQy','W6nUtW','k8kuq31h','nr/cVgpcTq','sIhdLmkP','W6/dSuldUmkM','W4rjBYVcRXWh','W7hdJr3cKHi5sW','W4BdOXKRWQC','jclcJKBcRa','W5dcR8oHrG','w8oMWOZdKY4','B+kFSSol4PYlW43NR5VLIktMIOpLIAe','g0FdMuu8W49gCmkKbe9rW45JsG','cmoNaYqFnCoboSoJtr1p','W7TIsMqQ','W7bgWRtdOmkn','W4SpCb8uaCoEBmkxWP8','avRdJeuC','wapcMJ7dJCoF','W7xdMK3dKSkX','dbeTWQ/cOq','5Rwu5yU75BoF5P6J5B+j5AAA','ASkVorm','jL89','eZGbWPFcMW','WPCvWQm','xHxcNrRdJ8ocymkgW4qj','WQD+ra','W4NdMYygWRtdIvVdJa','WPfSAHKa','W4tdLsua','WOVcPSoTWR3dUNVcSsDF','imkuW7eT','mmkEW6e','WO3cICkZueS','sCk4BCkA','n8ojWRRcNCkc','4PIjW63OHONLRl7KU7tOVytOO5JPL77PMQFMLQtPLA/ORB/NV4RPL5tORO4','cbRcT8oyWO0','mu86gG'],...(function(){return['EmkPq8oJWQ8','t8oPWOVdLZe','W7jcWRe','eokDJmkY4P2jW6hNR4/LIz3LPRZOTBZcVwZdPW','WPX2ECoxCG','W5NcR8oStq','A8ogaICEqgfvWORcR8o/WRe','kmkTW65bmG','jSkvW6m','sSkjedvr','tItdPSkOsGlcRCoYe8k7ztHTAuldM3fS5RAb5yUiWRKo77Yp5Awo5lMj55sw6iQk5PsT6ycp5y6s5yUb5yMX','W7arW4a','W47dQ8k6WQRdIKBcJW','WQJcH3ddMfnMh8ktWQddNbKBW5jfACoEW55oexNdGmoRW6y','p8kdr3LbhW','tCkhsmk2hq','oCkkW4iLFa','fCoKWR0','imkvW6pcVhi','WPfwvXpcIW','W6eZWPNdH8oe','W5RdPSkAWQddUG','vrZcKrldNq','o8kpW69k','ogKVaSkP','W7jqWQy','vr/cJG','W73dNHSqWQi','W7vvWONdICkAEmkwmSoNW6JdOZldM8kJW5pcHmkrW7FcNLi','yEkEPMNINl7dS+ETMowlSUwLT+I2Jo+8Mq','FaVdI8kKDa','W4xcOGq','W4G3WPldSa','5REa5yMw5Ps75Pw6','5l+95Ooa5yII8kgMHU+5Oq','WRpcUmkxqv0','WQjxWQ3dR28','WQLxWO1CWQqkW5HRcYORga7cQeC','zvCecSkRW6pcVCkI','mGalWQlcKSo1','qCkoqLvy','zCkLmXfkWQC','WO5tybHcW6ddQeDfWQ4PFSo9WQqoW4nvAfBcVxBdVKKB','5O6/56Az57Qf5PYKyXG8f8kYW7ZcHcbsoG','iSk/W6ZcNw1Q','W5vOWPhdO8kh','W7tdKxZdRSkO','WQSnWO9JW7y','W4dcOXddGCopW6a','6lEK5yYu5PEp5PE0a/cAQ5a','wX/cIbThWPvRzSkceMTE','WPZcM8k1z10','qmo1WQddJqi','m8kAW6C7qq','rSk4BG','lahcJ2S','WP5UW4dcOSkrWOZdSLBdGmkpW60+','WPddLmk6zCoffSka','uSk+qNjh','jmkOW7GkAG','euaFaSky','fGZdRmk2uddcUa','gmkZWQpdLs3cHmkudq','AWZcJ8oFWOtcRKFcUq','yvhcN8onjq','W78iWRtdSNlcG3ZcICoaWR3cObpcGmkAWR/cOW','m8koW6yG','aZZcOG','BfLqW6/cOSoVcMOehq','mSkHW6JcI18','oSopWPVcRmk8','WO3cMZDDWOLxla','W5ZdJv/dKmkn','W4RcUcxdQSoo','44cF5OYU56sQ44kh6kY55ywU6iY35y27WOVdJ8o4iaBdIW','WOvMsdJcTsS','FSkHnajQWQzwWRa','W5hdKfBdUmk/sq','wadcGhNdH8kFECkdWO0pW6ZdQW','D8kwz3jw','WO57gWSX','n8kvW79PdCo2WRa','y8kKaHjoWR5FWORcPSouyMJcNIxcNSk6omoFW4FcHmoJWO1LW68qaLLb6iEg5AYZ5lMF6l6O6kkH6zAq6zIE5PE86zsv','WPvbAbO6hCo1zSkkWPS','WPddTCkNFSoG','WPj3w8ooCG','WO3cMYDmWQPnnmkxW5PFW7ldQq','CmojWQfXeSojWOPZWPTQAa','l8kuW7i','WPPQxq','WO7cHa7cR8oZfaeAWOZdSt4W','lSkiW7i','WOjTqJtcNW','kSkXW61dka','wSoTWO3dNJC','C+A3RUwjHowMVoEcU+ElRG','W5NdR0NdT8kM','WO/cNZrBWOK','WQ/dUMaP','jCo3W4ddLSkQzSkw','gmocpW8','n00Hemke','f8o7FXPRFSofWQdcILNcV0HgWOywy8k0WP/cLW','y8k6WOS','rSk+x2v7BSoKmq','W7JdJrepWPK'];}())];}())];}());Iii11l=function(){return liI1li;};return Iii11l();};const jdCookie=require(llIIlI(0x117,'bJyn')),notify=require('./utils/Rebels_sendJDNotify'),common=require('./utils/Rebels_jdCommon'),{H5st,jsTk}=require(llIIlI(0x170,'N*et'));console['log'](''),console[llIIlI(0x149,'bX]V')](llIIlI(0x1b7,'J6tt')+$[llIIlI(0x19f,'Z*@t')]+llIIlI(0xcf,'(RRy')),console['log'](llIIlI(0x139,'fMwB')),console['log'](llIIlI(0xdd,'bW%(')),console['log'](llIIlI(0x19e,'Tfsl')),console[llIIlI(0xd6,'q6Wj')](llIIlI(0x181,'V(Gr')),console[llIIlI(0x188,'D&gF')]('=========='+$[llIIlI(0xe2,'Js)F')]+llIIlI(0x15a,'&fvr')),console['log']('');let tokensList=(process[llIIlI(0x97,'bhlz')]['jd_dpqd_tokens']||'')[llIIlI(0xa8,'tDIW')](/[,@&|\n]+/g)[llIIlI(0x15b,'R0a5')](Boolean),taskThreads=process['env'][llIIlI(0x14b,'xF4B')]||'1',accountThreads=process['env'][llIIlI(0x13c,'bW%(')]||'1';const runInterval=process[llIIlI(0x137,'s2Lx')][llIIlI(0xb1,'WNHs')]||'';let signHotMaxRetryTimes=process[llIIlI(0xc9,'J6tt')]['jd_dpqd_max_retry']||'0';const isNotify=process['env'][llIIlI(0x9e,'3lyy')]===llIIlI(0xa7,'bW%(');function iii1II(_0x3c5127,_0x86a3da){const _0x22d518=Iii11l();return iii1II=function(_0x128913,_0x2742b8){_0x128913=_0x128913-0x84;let _0x57101b=_0x22d518[_0x128913];if(iii1II['vEntQC']===undefined){var _0x175014=function(_0x2e4a98){const _0x15edf0='abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=';let _0x2ea2de='',_0xe03885='';for(let _0x1ca479=0x0,_0x3093c4,_0x24ab00,_0x230fad=0x0;_0x24ab00=_0x2e4a98['charAt'](_0x230fad++);~_0x24ab00&&(_0x3093c4=_0x1ca479%0x4?_0x3093c4*0x40+_0x24ab00:_0x24ab00,_0x1ca479++%0x4)?_0x2ea2de+=String['fromCharCode'](0xff&_0x3093c4>>(-0x2*_0x1ca479&0x6)):0x0){_0x24ab00=_0x15edf0['indexOf'](_0x24ab00);}for(let _0x44a2fb=0x0,_0x207cd7=_0x2ea2de['length'];_0x44a2fb<_0x207cd7;_0x44a2fb++){_0xe03885+='%'+('00'+_0x2ea2de['charCodeAt'](_0x44a2fb)['toString'](0x10))['slice'](-0x2);}return decodeURIComponent(_0xe03885);};const _0x1ab4a0=function(_0x5b09a8,_0x3638d5){let _0x136e63=[],_0x292dc0=0x0,_0x2a8a39,_0x2ee3fc='';_0x5b09a8=_0x175014(_0x5b09a8);let _0x17e783;for(_0x17e783=0x0;_0x17e783<0x100;_0x17e783++){_0x136e63[_0x17e783]=_0x17e783;}for(_0x17e783=0x0;_0x17e783<0x100;_0x17e783++){_0x292dc0=(_0x292dc0+_0x136e63[_0x17e783]+_0x3638d5['charCodeAt'](_0x17e783%_0x3638d5['length']))%0x100,_0x2a8a39=_0x136e63[_0x17e783],_0x136e63[_0x17e783]=_0x136e63[_0x292dc0],_0x136e63[_0x292dc0]=_0x2a8a39;}_0x17e783=0x0,_0x292dc0=0x0;for(let _0x391984=0x0;_0x391984<_0x5b09a8['length'];_0x391984++){_0x17e783=(_0x17e783+0x1)%0x100,_0x292dc0=(_0x292dc0+_0x136e63[_0x17e783])%0x100,_0x2a8a39=_0x136e63[_0x17e783],_0x136e63[_0x17e783]=_0x136e63[_0x292dc0],_0x136e63[_0x292dc0]=_0x2a8a39,_0x2ee3fc+=String['fromCharCode'](_0x5b09a8['charCodeAt'](_0x391984)^_0x136e63[(_0x136e63[_0x17e783]+_0x136e63[_0x292dc0])%0x100]);}return _0x2ee3fc;};iii1II['kxzptv']=_0x1ab4a0,_0x3c5127=arguments,iii1II['vEntQC']=!![];}const _0x5301ed=_0x22d518[0x0],_0x1f27d0=_0x128913+_0x5301ed,_0xef9103=_0x3c5127[_0x1f27d0];return!_0xef9103?(iii1II['WmFpsk']===undefined&&(iii1II['WmFpsk']=!![]),_0x57101b=iii1II['kxzptv'](_0x57101b,_0x2742b8),_0x3c5127[_0x1f27d0]=_0x57101b):_0x57101b=_0xef9103,_0x57101b;},iii1II(_0x3c5127,_0x86a3da);}let TokensMap=new Map();const signStatusMessages={0x1805c007:'今日已签',0x1843da61:llIIlI(0x11c,'Z*@t'),0x1843da62:'活动已经结束',0x184253c7:'账号无效',0x192:llIIlI(0x150,'(RRy'),'-1':llIIlI(0xde,'3Oj*')},invalidTokensMap=new Map(),CacheFile=__dirname+llIIlI(0x1c3,'TlVM'),cookiesArr=Object['keys'](jdCookie)[llIIlI(0x148,'xF4B')](lIli1I=>jdCookie[lIli1I])[llIIlI(0x156,'TlVM')](II1il=>II1il);!cookiesArr[0x0]&&($['msg']($[llIIlI(0x10a,'fMwB')],llIIlI(0x179,'J6tt')),process['exit'](0x1));!(async()=>{const Ii1I1l=llIIlI,lllI11={'kLeHA':function(I1lIll,I1lIli){return I1lIll(I1lIli);},'Qmxvd':function(II1ii,IIIIII){return II1ii>IIIIII;},'iZmgW':Ii1I1l(0x84,'XGag'),'BXxlF':Ii1I1l(0x163,'vmO['),'kiquO':function(lillII,ii1ilI,lI1ll1,iIiI1,liil1I,i11ii1){return lillII(ii1ilI,lI1ll1,iIiI1,liil1I,i11ii1);},'uvJUl':function(IlIliI,l1iII1){return IlIliI===l1iII1;},'mOCCO':Ii1I1l(0x13e,'VPQ1'),'tLpbW':'qjwsR','thxeZ':function(iiill1,lIli1i){return iiill1(lIli1i);},'npQzT':Ii1I1l(0xd5,'s9hm'),'wQwun':'utf-8','nUydg':function(IIIII1,I1lIlI){return IIIII1(I1lIlI);},'ODiZP':function(ii1ill,II1iI){return ii1ill!==II1iI;},'AQBjB':function(llI1II,lIli1l){return llI1II===lIli1l;},'RUliU':Ii1I1l(0x17f,'MlUP'),'JkoRm':Ii1I1l(0x15e,'61pd'),'RXzkJ':Ii1I1l(0x175,'%VK#'),'SjlNp':function(lillIi,illIi1){return lillIi>illIi1;},'PzVpK':function(ii1ili,liil1i){return ii1ili!==liil1i;},'TYJNv':'vcSDA','rllLG':function(lI1lil,i1l1iI){return lI1lil===i1l1iI;},'mDnhD':Ii1I1l(0xb8,'N*et'),'VaPvf':Ii1I1l(0xf2,'VPQ1'),'xanCx':function(liil1l,lI1lii){return liil1l!==lI1lii;}};try{if(lllI11[Ii1I1l(0xea,'Js)F')](lllI11['mOCCO'],lllI11[Ii1I1l(0x124,'bJyn')])){const Iil1l1=IIlil[Ii1I1l(0x153,'N*et')](':');ilI1lI=Iil1l1[0x0],IiiIll=Iil1l1[0x1],IIlii=Iil1l1[0x2],IlI1il['set'](IilliI,{'index':null,'venderId':IlI1ii,'shopName':'','activityId':lIIiii,'startTime':'','endTime':'','isValid':!![],'rules':[],'minLevel':null,'maxLevel':null});}else{notify[Ii1I1l(0xf1,'dELr')]({'title':$[Ii1I1l(0x125,'B#Im')]});if(tokensList[Ii1I1l(0x1a7,'Tfsl')]>0x0)tokensList=[...new Set(tokensList[Ii1I1l(0xf6,'lDRu')](il1iIl=>il1iIl!==''))];if(tokensList[Ii1I1l(0x17c,'cHf9')]<=0x0){console[Ii1I1l(0x165,'VPQ1')](Ii1I1l(0x1a6,'cHf9'));return;}const i1i11I=lllI11[Ii1I1l(0x18b,'D&gF')](require,'fs');if(i1i11I[Ii1I1l(0xc5,'Z*@t')](CacheFile)){if(lllI11[Ii1I1l(0xeb,'%VK#')]!==Ii1I1l(0xf7,'d#be')){const iii1ii=i1i11I[Ii1I1l(0x185,'WEiS')](CacheFile,lllI11['wQwun']),il1iIi=JSON[Ii1I1l(0x190,'WEiS')](iii1ii);for(const iii1il in il1iIi){TokensMap[Ii1I1l(0xaa,'MlUP')](iii1il,il1iIi[iii1il]);}}else try{const I1l11i=lllI11['kLeHA'](I1iIil,lI1Iil);lllI11[Ii1I1l(0xc3,'l8hh')](I1l11i,0x0)&&(i1l1I[Ii1I1l(0xa1,'B#Im')]=I1l11i);}catch{IiilIl['log'](lllI11[Ii1I1l(0x90,'k485')]);}}$['waitTime']=null;if(runInterval)try{const iIIiiI=lllI11['nUydg'](parseInt,runInterval);iIIiiI>0x0&&($[Ii1I1l(0x197,'*7yk')]=iIIiiI);}catch{lllI11['ODiZP']('vRIci','UHzVi')?console[Ii1I1l(0xe8,'joVz')]('⚠\x20自定义运行间隔时长设置错误'):lilIi1[Ii1I1l(0xaa,'MlUP')](IiilII,IliI1I[lI1Iii]);}try{if(lllI11[Ii1I1l(0xb9,'WNHs')](lllI11[Ii1I1l(0x19d,'xF4B')],lllI11[Ii1I1l(0x143,'3lyy')]))l1l11i[Ii1I1l(0x196,'(eYg')](''+l1iIl+illIll+'\x20➜\x20❌\x20签到失败\x20-\x20'+iIli1I[Ii1I1l(0x89,'xF4B')](Iiil1));else{const lilIIl=parseInt(signHotMaxRetryTimes);signHotMaxRetryTimes=lllI11[Ii1I1l(0x9d,'s2Lx')](lilIIl,0x0)?lilIIl:0x0;}}catch{signHotMaxRetryTimes=0x3;}try{if(lllI11[Ii1I1l(0x9c,'MlUP')]==='aHkkN')l1i111[Ii1I1l(0x120,'61pd')](Ii1I1l(0x1a0,'X1FZ')+iliII1);else{const liiI1l=lllI11[Ii1I1l(0x10f,'tDIW')](parseInt,taskThreads);if(lllI11['SjlNp'](liiI1l,0x0)&&lllI11['PzVpK'](liiI1l,0x1)){if(lllI11['uvJUl'](Ii1I1l(0xef,'LgMD'),Ii1I1l(0x8b,'l8hh')))taskThreads=liiI1l;else return;}}}catch{taskThreads=0x1;}try{if(lllI11[Ii1I1l(0x16b,'LgMD')](Ii1I1l(0x1b1,'V(Gr'),lllI11['TYJNv']))IIII11=i1illi;else{const I1l11l=parseInt(accountThreads);if(I1l11l>0x0&&lllI11['PzVpK'](I1l11l,0x1)){if(lllI11[Ii1I1l(0xb4,'bX]V')](lllI11[Ii1I1l(0x183,'dELr')],Ii1I1l(0x1ad,'MlUP')))accountThreads=I1l11l;else{const i1l1Il=IlI1l(lilIil);i1l1Il>0x0&&(i1l1li['waitTime']=i1l1Il);}}}}catch{lllI11[Ii1I1l(0x12b,'%VK#')](lllI11[Ii1I1l(0x1b5,'WEiS')],'xEqpC')?accountThreads=0x1:I1iIi1[Ii1I1l(0xaf,'vmO[')](''+lliil1+IIllI+Ii1I1l(0x112,'tDIW'));}await common[Ii1I1l(0x123,'B#Im')](accountThreads,cookiesArr,async(i1i11l,i1i11i)=>{const IIlIl=Ii1I1l;if(lllI11[IIlIl(0x1b0,'s9hm')]===IIlIl(0xfd,'VPQ1')){await lllI11[IIlIl(0x115,'6sn$')](concMain,taskThreads,tokensList,i1i11l,i1i11i,Main);if($[IIlIl(0x17b,'V(Gr')])$[IIlIl(0x193,'&fvr')]($[IIlIl(0xc8,'61pd')]);}else I1ilIi[IIlIl(0x107,'6sn$')](IiiiI,!![]);}),isNotify&&notify[Ii1I1l(0x121,'bX]V')]()&&(lllI11['xanCx'](Ii1I1l(0x111,'vmO['),Ii1I1l(0x11a,'cHf9'))?(notify['updateContent'](notify[Ii1I1l(0xbf,'TlVM')]),await notify[Ii1I1l(0x12e,'LgMD')]()):lilIii[Ii1I1l(0x9b,'bhlz')](Ii1I1l(0x12c,'WNHs')));}}catch(IiiliI){console[Ii1I1l(0x14e,'WNHs')](Ii1I1l(0xb3,'Tfsl')+IiiliI);}})()[llIIlI(0x169,'*7yk')](iii1iI=>$['logErr'](iii1iI))[llIIlI(0xc6,'o#lF')](()=>$['done']());async function Main(llIll,il1iII){const ili11l=llIIlI,iilli={'vwhbW':function(I1iIIl,lI1IIl){return I1iIIl(lI1IIl);},'zcUSg':function(i1ilI,iii1lI){return i1ilI>iii1lI;},'Vxrvk':function(i1ilI1,Iiilii){return i1ilI1!==Iiilii;},'VdKYE':function(Iil1li){return Iil1li();},'dCcUz':ili11l(0xe5,'Js)F'),'GQfAl':ili11l(0x154,'Js)F'),'HFLsA':function(Iiilil,Iil1ll){return Iiilil===Iil1ll;},'gSmBN':function(iillI,lI1III){return iillI===lI1III;},'sLaKk':ili11l(0x15c,'xF4B'),'ArZuz':'XFDvn','pMenS':function(IIliIi,IllIiI){return IIliIi!==IllIiI;},'CatQY':'liIeR','riVVn':ili11l(0x1a2,'Z*@t'),'SRaQj':ili11l(0x151,'bJyn'),'cuFNs':function(i1il1,I1l111){return i1il1/I1l111;},'jCnFG':ili11l(0x98,'Qv6g'),'llxEw':ili11l(0x8f,'X1FZ'),'sPegT':ili11l(0xbc,'fMwB'),'iTnie':function(IIii1l,I1iIII){return IIii1l===I1iIII;},'rowzG':'BVEZT','FIQcy':'GET','cCEqD':'4da33','dZqhm':ili11l(0x1c2,'3lyy'),'rMmWD':'interCenter_shopSign','axgOF':function(liiI11,ililI1){return liiI11(ililI1);},'eSbbG':ili11l(0x159,'X1FZ'),'nXYlP':'jsonp1003','eqaBH':ili11l(0x10e,'B#Im'),'owbMg':function(IIii1i,i1ili){return IIii1i!==i1ili;},'MDZiM':'UddZB','qJBeW':ili11l(0x13a,'Js)F'),'QsWHh':ili11l(0xfb,'s9hm'),'yIhra':ili11l(0x195,'V#*8'),'XxJyV':ili11l(0x19a,'R0a5'),'HVEfD':ili11l(0xa6,'Js)F'),'JtvOK':'https://h5.m.jd.com/','TTnSZ':ili11l(0x17a,'D&gF'),'KSBUD':ili11l(0xc7,'cHf9'),'XKrhN':'same-origin','VruEC':'qBZsI','CBjDD':function(Iiill1,I1iII1){return Iiill1<I1iII1;},'KwcDO':ili11l(0xca,'xF4B'),'JesRM':ili11l(0x109,'tDIW'),'WDHQJ':ili11l(0x133,'o#lF'),'rQflI':function(lilII1,iill1){return lilII1||iill1;},'MRSTk':ili11l(0xd4,'VPQ1'),'vWCvk':function(iii1l1,IIliIl){return iii1l1>IIliIl;},'bKFRS':function(II11ll,liiI1I){return II11ll!==liiI1I;},'ATwhN':ili11l(0x1af,'VPQ1'),'iWgFD':function(ililII,lI1II1){return ililII<lI1II1;}},{title:IlllIl,UA:II11lI,cookie:lI1IIi,message:I1l11I,jsToken:Ilil1l}=il1iII;if(invalidTokensMap[ili11l(0xec,'(0Np')](llIll))return;let iIIiii='',iilll='';const il1iI1=TokensMap[ili11l(0x11e,'LgMD')](llIll);if(il1iI1){if(iilli['gSmBN'](iilli[ili11l(0xa9,'l8hh')],ili11l(0x13f,'s2Lx')))iIIiii=il1iI1[ili11l(0xd8,'bhlz')],iilll=il1iI1['activityId'];else{const iIIii1=iilli[ili11l(0x194,'LgMD')](Ii1iII,l1i11I);iilli[ili11l(0xe4,'*7yk')](iIIii1,0x0)&&iilli[ili11l(0x8a,'XGag')](iIIii1,0x1)&&(Ii1iI1=iIIii1);}}else{if(llIll[ili11l(0xe0,'o#lF')](':')){if(iilli[ili11l(0x8c,'VPQ1')](ili11l(0x12f,'J6tt'),iilli[ili11l(0xf3,'6sn$')]))try{const IllIi1=llIll['split'](':');llIll=IllIi1[0x0],iilll=IllIi1[0x1],iIIiii=IllIi1[0x2],TokensMap['set'](llIll,{'index':null,'venderId':iIIiii,'shopName':'','activityId':iilll,'startTime':'','endTime':'','isValid':!![],'rules':[],'minLevel':null,'maxLevel':null});}catch(lilIII){return;}else I1llil=0x1;}else return;}if(iilli[ili11l(0x18c,'q6Wj')](!iIIiii,!iilll)){if(iilli['Vxrvk'](iilli[ili11l(0x104,'Qv6g')],iilli['MRSTk'])){const iliIil=l1llI1[ili11l(0x18d,'vmO[')]();llIIll++,IillIi[ili11l(0xe7,'X1FZ')](iilli[ili11l(0x199,'J6tt')](lii,iliIil));}else return;}const IlllIi=Math[ili11l(0x130,'vmO[')](iilli[ili11l(0x101,'cHf9')](Date[ili11l(0xc2,'lDRu')](),0x3e8))+'000';if(invalidTokensMap['get'](llIll))return;let iIIiil=![];await iilli[ili11l(0x177,'cHf9')](I1iIIi,iilli['GQfAl']);if($[ili11l(0x155,'k5)p')])$['wait']($[ili11l(0xf4,'WNHs')]);if(iIIiil&&iilli['vWCvk'](signHotMaxRetryTimes,0x0)){if(iilli['bKFRS'](iilli['ATwhN'],iilli['ATwhN']))II1ll1===0x0&&(iilli[ili11l(0x174,'R0a5')](ll1,iI1llI),iilli[ili11l(0xfe,'%VK#')](llliii));else{let lill1i=0x0;while(iilli[ili11l(0x1aa,'3Oj*')](lill1i,signHotMaxRetryTimes)){if(invalidTokensMap['get'](llIll))return;await I1iIIi('signCollectGift');if($[ili11l(0x155,'k5)p')])$['wait']($['waitTime']);if(!iIIiil)break;lill1i++;}}}function i1l1Ii(il1li,iIIill){const Iiilll=ili11l;try{switch(il1li){case iilli[Iiilll(0x11f,'TlVM')]:if(iilli['HFLsA'](iIIill[Iiilll(0x88,'xF4B')],0xc8)&&iilli[Iiilll(0x142,'D&gF')](iIIill['success'],!![])){const iilii=[];if(iIIill['data']&&iilli['zcUSg'](iIIill[Iiilll(0x191,'l8hh')][Iiilll(0x158,'V(Gr')],0x0)){if(iilli[Iiilll(0x9f,'o#lF')]===iilli[Iiilll(0xb6,'s9hm')]){const iilil=II11Ii[Iiilll(0x1ab,'mtrn')](II11Il,Iiilll(0xb0,'D&gF')),Ill11l=IlI11[Iiilll(0x164,'s2Lx')](iilil);for(const il1ll in Ill11l){lilIlI[Iiilll(0x96,'Z*@t')](il1ll,Ill11l[il1ll]);}}else for(const i1ilIi of iIIill[Iiilll(0x1c1,'X1FZ')]){const lill1l=i1ilIi?.[Iiilll(0x95,'joVz')]||[];for(const l1l1i1 of lill1l){if(iilli[Iiilll(0x136,'q6Wj')](iilli[Iiilll(0x1a9,'cHf9')],iilli[Iiilll(0xb2,'*7yk')])){const i1iiI=l1l1i1?.['type'],i1ilIl=l1l1i1?.[Iiilll(0x99,'Qv6g')];let llI11I='';switch(i1iiI){case 0x1:llI11I=iilli[Iiilll(0xae,'s2Lx')];break;case 0x4:llI11I=i1ilIl+'京豆🐶';break;case 0x6:llI11I=i1ilIl+'店铺积分🎟️';break;case 0x9:llI11I=l1l1i1?.['interactPrizeSkuList'][0x0]?.['skuName']+'🎁';break;case 0xa:llI11I=i1ilIl+Iiilll(0x19b,'o#lF');break;case 0xe:llI11I=iilli[Iiilll(0x178,'WNHs')](i1ilIl,0x64)+'元红包🧧';break;default:llI11I=Iiilll(0xf8,'3Oj*')+i1iiI+'）';}iilii['push'](llI11I);}else delete l1il1I[Iiilll(0xd2,'&fvr')],delete Iiili['headers'][iilli[Iiilll(0x141,'R0a5')]];}}}if(iilli[Iiilll(0x100,'fMwB')](iilii['length'],0x0)){if(iilli[Iiilll(0x16a,'s2Lx')](iilli[Iiilll(0xbd,'R0a5')],iilli[Iiilll(0xa2,'X1FZ')])){console['log'](''+IlllIl+llIll+Iiilll(0xf0,'fMwB')+iilii[Iiilll(0x110,'3Oj*')]('，')+'）');for(const iii1li of iilii){iilli[Iiilll(0x1bc,'%VK#')](iilli[Iiilll(0x145,'bX]V')],iilli['llxEw'])?I1l11I[Iiilll(0x15f,'WNHs')](iii1li):lilIl[Iiilll(0x1c5,'MlUP')](IilIlI,iIli11);}}else lilIl1[Iiilll(0x18a,'s2Lx')](i1l1ii[Iiilll(0xe6,'(RRy')],Iiilll(0x1b4,'6sn$')),i1l1[Iiilll(0x1ae,'xF4B')](0x1);}else console[Iiilll(0xaf,'vmO[')](''+IlllIl+llIll+Iiilll(0x1bb,'X1FZ'));iIIiil=![];}else{if(iIIill[Iiilll(0x146,'q6Wj')]!==0xc8){const iliIl1=signStatusMessages[iIIill['code']]||iIIill[Iiilll(0x134,'3Oj*')]+Iiilll(0x1c4,'61pd');[0x1843da61,0x1843da62,0x192]['includes'](iIIill[Iiilll(0x11d,'V(Gr')])&&invalidTokensMap[Iiilll(0xdb,'X1FZ')](llIll,!![]);console[Iiilll(0x172,'Z*@t')](''+IlllIl+llIll+Iiilll(0x14c,'LgMD')+iliIl1+'）');if(iilli[Iiilll(0x152,'(RRy')](iIIill[Iiilll(0xab,'Js)F')],'-1')||iIIill[Iiilll(0x12a,'VPQ1')]===-0x1){if(iilli[Iiilll(0x8e,'XGag')]!==Iiilll(0xdc,'l8hh')){const iii1ll=iliIII(iIIl1i);I1lllI=iii1ll>0x0?iii1ll:0x0;}else iIIiil=!![];}}else{if(iIIill[Iiilll(0x106,'N*et')]){console[Iiilll(0xd6,'q6Wj')](''+IlllIl+llIll+Iiilll(0x86,'R0a5')+iIIill[Iiilll(0x131,'xF4B')]+'）');if(!signStatusMessages[iIIill['code']])iIIiil=!![];}else console['log'](''+IlllIl+llIll+Iiilll(0x132,'bhlz')+JSON[Iiilll(0x102,'dELr')](iIIill));}}break;}}catch(IIliI1){console[Iiilll(0x187,'s2Lx')](Iiilll(0xd7,'Qv6g')+il1li+Iiilll(0x19c,'xF4B')+(IIliI1[Iiilll(0x168,'dELr')]||IIliI1));}}async function I1iIIi(il1lI){const IIlIi=ili11l,IliIIl={'uJqbk':function(I1il1l,lI1l1l){return iilli['gSmBN'](I1il1l,lI1l1l);},'dsyIs':function(IIliII,iiliI){const Iiilli=iii1II;return iilli[Iiilli(0xdf,'bW%(')](IIliII,iiliI);}};if('BVEZT'!==iilli['rowzG'])IiII[IIlIi(0x13d,'joVz')](llIIli,lIII1I);else{let I1il1i='',IliIIi=null,lI1l1i=null,i1iil=iilli['FIQcy'],llI11l={},I1llIl={};switch(il1lI){case IIlIi(0x113,'lDRu'):I1llIl={'appId':iilli[IIlIi(0x1ba,'dELr')],'functionId':iilli[IIlIi(0x18f,'cHf9')],'appid':iilli[IIlIi(0xfc,'mtrn')],'body':{'token':llIll,'venderId':parseInt(iIIiii)||'','activityId':iilli[IIlIi(0x1c0,'s9hm')](parseInt,iilll)||'','type':0x38,'actionType':0x7},'version':IIlIi(0x9a,'TlVM'),'ua':II11lI},llI11l=await H5st['getH5st'](I1llIl),I1il1i=iilli[IIlIi(0xa3,'bX]V')],lI1l1i=Object['assign']({},llI11l[IIlIi(0x182,'bJyn')],{'jsonp':iilli[IIlIi(0x8d,'N*et')]});break;}const i1iii={'t':IlllIi,'loginType':'2','x-api-eid-token':Ilil1l};IliIIi&&(iilli[IIlIi(0x1a4,'k5)p')](iilli['eqaBH'],IIlIi(0xbb,'(RRy'))?IiI1[IIlIi(0x180,'q6Wj')]=!![]:Object[IIlIi(0x103,'WEiS')](IliIIi,i1iii));if(lI1l1i){if(iilli[IIlIi(0x116,'xF4B')](IIlIi(0xba,'B#Im'),iilli['MDZiM']))Object[IIlIi(0x119,'bX]V')](lI1l1i,i1iii);else{const l1l1ii=ll1ii[IIli11['code']]||IllIII[IIlIi(0x166,'tDIW')]+IIlIi(0x18e,'(eYg');[0x1843da61,0x1843da62,0x192][IIlIi(0xf5,'X1FZ')](ii1li['code'])&&lilil['set'](ll1ll,!![]),IiiIiI['log'](''+lilii+l1iiI+IIlIi(0xff,'d#be')+l1l1ii+'）'),(IliIIl[IIlIi(0xe3,'k5)p')](ll1li[IIlIi(0x127,'s2Lx')],'-1')||IliIIl['dsyIs'](Illl1I[IIlIi(0x14f,'3lyy')],-0x1))&&(Illl11=!![]);}}const I1llIi={'url':I1il1i,'method':i1iil,'headers':{'Accept':iilli[IIlIi(0xf9,'MlUP')],'Accept-Encoding':iilli['QsWHh'],'Accept-Language':iilli['yIhra'],'Connection':iilli[IIlIi(0x11b,'TlVM')],'Content-Type':iilli[IIlIi(0xcc,'d#be')],'Host':IIlIi(0x17d,'bX]V'),'Referer':iilli[IIlIi(0xbe,'(RRy')],'Sec-Fetch-Dest':iilli['TTnSZ'],'Sec-Fetch-Mode':iilli[IIlIi(0x105,'J6tt')],'Sec-Fetch-Site':iilli[IIlIi(0x14d,'fMwB')],'User-Agent':II11lI,'Cookie':lI1IIi},'params':lI1l1i,'data':IliIIi,'timeout':0x7530};if(i1iil===iilli[IIlIi(0x17e,'*7yk')]){if(iilli['owbMg'](IIlIi(0x1a5,'D&gF'),iilli[IIlIi(0xd9,'TlVM')])){llIliI[IIlIi(0x92,'l8hh')](''+I1l1I1+I1i111+'\x20➜\x20✅\x20签到成功（'+ilI1li['join']('，')+'）');for(const Ii1iii of Iillii){Iillil[IIlIi(0xa0,'cHf9')](Ii1iii);}}else delete I1llIi[IIlIi(0x1bd,'joVz')],delete I1llIi['headers'][iilli['dCcUz']];}const IIii1I=0x3;let llI11i=0x0,i1iIi1=null,l1l1il=![];while(iilli['CBjDD'](llI11i,IIii1I)){const iIIilI=await common[IIlIi(0x176,'WEiS')](I1llIi);if(!iIIilI[IIlIi(0x13b,'Tfsl')]){i1iIi1=''+IlllIl+llIll+'\x20➜\x20请求失败（'+iIIilI[IIlIi(0x1b2,'q6Wj')]+IIlIi(0xc1,'s9hm'),llI11i++;continue;}if(!iIIilI[IIlIi(0x1b6,'61pd')]){i1iIi1=''+IlllIl+llIll+IIlIi(0xad,'lDRu'),llI11i++;continue;}i1l1Ii(il1lI,iIIilI['data']),l1l1il=![];break;}if(llI11i>=IIii1I){if(iilli[IIlIi(0x1be,'TlVM')]!==IIlIi(0x10b,'cHf9'))console[IIlIi(0x149,'bX]V')](i1iIi1),l1l1il&&($[IIlIi(0xcd,'d#be')]=!![]);else{const Ii1iil={'DacGt':function(iili1,II11ii){const ili11i=IIlIi;return iilli[ili11i(0x1a3,'tDIW')](iili1,II11ii);},'Pfcbn':function(Iil1iI,II11il){const iiIi1l=IIlIi;return iilli[iiIi1l(0x129,'(RRy')](Iil1iI,II11il);}},Ilil1i=IillIl(()=>{const li11I=IIlIi;Ii1iil[li11I(0xb5,'B#Im')](II1lli,0x0)&&(Ii1iil[li11I(0x1b3,'joVz')](IiIi,Ilil1i),iI1ll1());},0x64);}}}}}async function concMain(iIIil1=0x1,IlllII,I1il1I,II111,lI1l1I){const lliiII=llIIlI,lill11={'gxCiU':function(iliIiI){return iliIiI();},'itrnc':lliiII(0x15d,'cHf9'),'tZiRv':function(II11iI,Il1i1l){return II11iI<Il1i1l;},'odcJs':function(Iil1ii,lill1I){return Iil1ii>lill1I;},'VbOVG':function(Ii1ii1,Ilil11){return Ii1ii1===Ilil11;},'MdnAu':function(i1ii1,il1ii){return i1ii1!==il1ii;},'dpGOF':'GKrNc','dfGAk':lliiII(0x108,'joVz'),'xdrZt':function(llI111,i1iIiI){return llI111(i1iIiI);},'yKXgr':function(IlllI1,I1il11){return IlllI1!==I1il11;},'FyIlQ':'slydi','TesJl':function(lI1l11,II11l,II11i){return lI1l11(II11l,II11i);},'UXFwk':lliiII(0x192,'(0Np'),'fvUIz':lliiII(0x14a,'B#Im'),'pQtDw':lliiII(0x198,'B#Im'),'DVoKp':function(iI1Iii,liI1ii,lIIiIl,iI1Iil){return iI1Iii(liI1ii,lIIiIl,iI1Iil);},'wFzvt':'https://h5.m.jd.com/babelDiy/Zeus/2PAAf74aG3D61qvfKUM5dxUssJQ9/index.html','GcFES':'SJHT-DPQDH5','ySfpz':function(il1iI,i1iIii){return il1iI<i1iIii;},'NpOOB':lliiII(0x138,'V(Gr')},liI1i1=IlllII['map'](i1iIil=>i1iIil),I11i11=decodeURIComponent(common[lliiII(0xee,'l8hh')](I1il1I,'pt_pin')),I1llII=lliiII(0x91,'Js)F')+II111+'】'+I11i11+'：',Iil1il=await common[lliiII(0xed,'k485')](I1il1I);if(!Iil1il&&typeof Iil1il===lill11[lliiII(0x16f,'d#be')]){if(lill11[lliiII(0xa5,'R0a5')]!==lill11[lliiII(0x157,'*7yk')]){console['log'](I1llII+lliiII(0x160,'bW%('));return;}else try{const llIlIi=l1lIl1['split'](':');IiiIlI=llIlIi[0x0],Iilli1=llIlIi[0x1],I1l1Il=llIlIi[0x2],llIll1[lliiII(0x128,'s2Lx')](Illl1l,{'index':null,'venderId':Illl1i,'shopName':'','activityId':lIIiil,'startTime':'','endTime':'','isValid':!![],'rules':[],'minLevel':null,'maxLevel':null});}catch(llIlIl){return;}}const I11i1i=notify[lliiII(0xcb,'X1FZ')](II111,I11i11),l1l1iI=common[lliiII(0x162,'(RRy')](I11i11),{jsToken:I1llI1}=await lill11[lliiII(0xc4,'vmO[')](jsTk,l1l1iI,lill11['wFzvt'],{'bizId':lill11[lliiII(0x94,'lDRu')],'v':lliiII(0x10d,'bW%('),'qs':lliiII(0xb7,'Qv6g')+IlllII[0x0]}),I11i1l={'cookie':I1il1I,'index':II111,'title':I1llII,'UA':l1l1iI,'message':I11i1i,'jsToken':I1llI1};let il1il=0x0;async function Il1i1i(II11I){const iiIi1i=lliiII;await lI1l1I(II11I,I11i1l),il1il--,lill11[iiIi1i(0xd3,'o#lF')](iIIili);}async function iIIili(){const liI1ll=lliiII;if('IdDqc'===lill11[liI1ll(0x118,'lDRu')])while(lill11[liI1ll(0xfa,'Tfsl')](il1il,iIIil1)&&lill11[liI1ll(0xce,'l8hh')](liI1i1['length'],0x0)){const il1i1=liI1i1['shift']();il1il++,await Il1i1i(il1i1);}else I1iIiI[liI1ll(0xd1,'(RRy')]=li1I1;}const Ii1iiI=Math[lliiII(0x140,'%VK#')](liI1i1[lliiII(0x1a1,'bX]V')],iIIil1),Ilil1I=[];for(let liI1iI=0x0;lill11[lliiII(0x147,'LgMD')](liI1iI,Ii1iiI);liI1iI++){if(lill11[lliiII(0x93,'vmO[')]===lliiII(0x12d,'Z*@t'))i1III=0x3;else{const i1iIl1=liI1i1[lliiII(0xac,'V#*8')]();il1il++,Ilil1I[lliiII(0x171,'s2Lx')](Il1i1i(i1iIl1));}}await Promise[lliiII(0x122,'o#lF')](Ilil1I),lill11[lliiII(0x144,'Tfsl')](iIIili),await new Promise(i1lli1=>{const ll1II=lliiII;if(lill11['yKXgr'](lill11[ll1II(0xd0,'V#*8')],'slydi'))llIlll=!![];else{const IIlII=lill11[ll1II(0x184,'o#lF')](setInterval,()=>{const IllIii=ll1II;lill11['VbOVG'](il1il,0x0)&&(lill11['MdnAu'](lill11['dpGOF'],lill11['dfGAk'])?(lill11['xdrZt'](clearInterval,IIlII),i1lli1()):(I1iIli=lI1Ill[IllIii(0xe9,'k485')],lI1Ili=IliilI[IllIii(0x87,'fMwB')]));},0x64);}});}var version_ = 'jsjiami.com.v7';
// prettier-ignore
function Env(t,e){"undefined"!=typeof process&&JSON.stringify(process.env).indexOf("GITHUB")>-1&&process.exit(0);class s{constructor(t){this.env=t}send(t,e="GET"){t="string"==typeof t?{url:t}:t;let s=this.get;return"POST"===e&&(s=this.post),new Promise((e,i)=>{s.call(this,t,(t,s,r)=>{t?i(t):e(s)})})}get(t){return this.send.call(this.env,t)}post(t){return this.send.call(this.env,t,"POST")}}return new class{constructor(t,e){this.name=t,this.http=new s(this),this.data=null,this.dataFile="box.dat",this.logs=[],this.isMute=!1,this.isNeedRewrite=!1,this.logSeparator="\n",this.startTime=(new Date).getTime(),Object.assign(this,e),this.log("",`🔔${this.name}, 开始!`)}isNode(){return"undefined"!=typeof module&&!!module.exports}isQuanX(){return"undefined"!=typeof $task}isSurge(){return"undefined"!=typeof $httpClient&&"undefined"==typeof $loon}isLoon(){return"undefined"!=typeof $loon}toObj(t,e=null){try{return JSON.parse(t)}catch{return e}}toStr(t,e=null){try{return JSON.stringify(t)}catch{return e}}getjson(t,e){let s=e;const i=this.getdata(t);if(i)try{s=JSON.parse(this.getdata(t))}catch{}return s}setjson(t,e){try{return this.setdata(JSON.stringify(t),e)}catch{return!1}}getScript(t){return new Promise(e=>{this.get({url:t},(t,s,i)=>e(i))})}runScript(t,e){return new Promise(s=>{let i=this.getdata("@chavy_boxjs_userCfgs.httpapi");i=i?i.replace(/\n/g,"").trim():i;let r=this.getdata("@chavy_boxjs_userCfgs.httpapi_timeout");r=r?1*r:20,r=e&&e.timeout?e.timeout:r;const[o,h]=i.split("@"),n={url:`http://${h}/v1/scripting/evaluate`,body:{script_text:t,mock_type:"cron",timeout:r},headers:{"X-Key":o,Accept:"*/*"}};this.post(n,(t,e,i)=>s(i))}).catch(t=>this.logErr(t))}loaddata(){if(!this.isNode())return{};{this.fs=this.fs?this.fs:require("fs"),this.path=this.path?this.path:require("path");const t=this.path.resolve(this.dataFile),e=this.path.resolve(process.cwd(),this.dataFile),s=this.fs.existsSync(t),i=!s&&this.fs.existsSync(e);if(!s&&!i)return{};{const i=s?t:e;try{return JSON.parse(this.fs.readFileSync(i))}catch(t){return{}}}}}writedata(){if(this.isNode()){this.fs=this.fs?this.fs:require("fs"),this.path=this.path?this.path:require("path");const t=this.path.resolve(this.dataFile),e=this.path.resolve(process.cwd(),this.dataFile),s=this.fs.existsSync(t),i=!s&&this.fs.existsSync(e),r=JSON.stringify(this.data);s?this.fs.writeFileSync(t,r):i?this.fs.writeFileSync(e,r):this.fs.writeFileSync(t,r)}}lodash_get(t,e,s){const i=e.replace(/\[(\d+)\]/g,".$1").split(".");let r=t;for(const t of i)if(r=Object(r)[t],void 0===r)return s;return r}lodash_set(t,e,s){return Object(t)!==t?t:(Array.isArray(e)||(e=e.toString().match(/[^.[\]]+/g)||[]),e.slice(0,-1).reduce((t,s,i)=>Object(t[s])===t[s]?t[s]:t[s]=Math.abs(e[i+1])>>0==+e[i+1]?[]:{},t)[e[e.length-1]]=s,t)}getdata(t){let e=this.getval(t);if(/^@/.test(t)){const[,s,i]=/^@(.*?)\.(.*?)$/.exec(t),r=s?this.getval(s):"";if(r)try{const t=JSON.parse(r);e=t?this.lodash_get(t,i,""):e}catch(t){e=""}}return e}setdata(t,e){let s=!1;if(/^@/.test(e)){const[,i,r]=/^@(.*?)\.(.*?)$/.exec(e),o=this.getval(i),h=i?"null"===o?null:o||"{}":"{}";try{const e=JSON.parse(h);this.lodash_set(e,r,t),s=this.setval(JSON.stringify(e),i)}catch(e){const o={};this.lodash_set(o,r,t),s=this.setval(JSON.stringify(o),i)}}else s=this.setval(t,e);return s}getval(t){return this.isSurge()||this.isLoon()?$persistentStore.read(t):this.isQuanX()?$prefs.valueForKey(t):this.isNode()?(this.data=this.loaddata(),this.data[t]):this.data&&this.data[t]||null}setval(t,e){return this.isSurge()||this.isLoon()?$persistentStore.write(t,e):this.isQuanX()?$prefs.setValueForKey(t,e):this.isNode()?(this.data=this.loaddata(),this.data[e]=t,this.writedata(),!0):this.data&&this.data[e]||null}initGotEnv(t){this.got=this.got?this.got:require("got"),this.cktough=this.cktough?this.cktough:require("tough-cookie"),this.ckjar=this.ckjar?this.ckjar:new this.cktough.CookieJar,t&&(t.headers=t.headers?t.headers:{},void 0===t.headers.Cookie&&void 0===t.cookieJar&&(t.cookieJar=this.ckjar))}get(t,e=(()=>{})){t.headers&&(delete t.headers["Content-Type"],delete t.headers["Content-Length"]),this.isSurge()||this.isLoon()?(this.isSurge()&&this.isNeedRewrite&&(t.headers=t.headers||{},Object.assign(t.headers,{"X-Surge-Skip-Scripting":!1})),$httpClient.get(t,(t,s,i)=>{!t&&s&&(s.body=i,s.statusCode=s.status),e(t,s,i)})):this.isQuanX()?(this.isNeedRewrite&&(t.opts=t.opts||{},Object.assign(t.opts,{hints:!1})),$task.fetch(t).then(t=>{const{statusCode:s,statusCode:i,headers:r,body:o}=t;e(null,{status:s,statusCode:i,headers:r,body:o},o)},t=>e(t))):this.isNode()&&(this.initGotEnv(t),this.got(t).on("redirect",(t,e)=>{try{if(t.headers["set-cookie"]){const s=t.headers["set-cookie"].map(this.cktough.Cookie.parse).toString();s&&this.ckjar.setCookieSync(s,null),e.cookieJar=this.ckjar}}catch(t){this.logErr(t)}}).then(t=>{const{statusCode:s,statusCode:i,headers:r,body:o}=t;e(null,{status:s,statusCode:i,headers:r,body:o},o)},t=>{const{message:s,response:i}=t;e(s,i,i&&i.body)}))}post(t,e=(()=>{})){if(t.body&&t.headers&&!t.headers["Content-Type"]&&(t.headers["Content-Type"]="application/x-www-form-urlencoded"),t.headers&&delete t.headers["Content-Length"],this.isSurge()||this.isLoon())this.isSurge()&&this.isNeedRewrite&&(t.headers=t.headers||{},Object.assign(t.headers,{"X-Surge-Skip-Scripting":!1})),$httpClient.post(t,(t,s,i)=>{!t&&s&&(s.body=i,s.statusCode=s.status),e(t,s,i)});else if(this.isQuanX())t.method="POST",this.isNeedRewrite&&(t.opts=t.opts||{},Object.assign(t.opts,{hints:!1})),$task.fetch(t).then(t=>{const{statusCode:s,statusCode:i,headers:r,body:o}=t;e(null,{status:s,statusCode:i,headers:r,body:o},o)},t=>e(t));else if(this.isNode()){this.initGotEnv(t);const{url:s,...i}=t;this.got.post(s,i).then(t=>{const{statusCode:s,statusCode:i,headers:r,body:o}=t;e(null,{status:s,statusCode:i,headers:r,body:o},o)},t=>{const{message:s,response:i}=t;e(s,i,i&&i.body)})}}time(t,e=null){const s=e?new Date(e):new Date;let i={"M+":s.getMonth()+1,"d+":s.getDate(),"H+":s.getHours(),"m+":s.getMinutes(),"s+":s.getSeconds(),"q+":Math.floor((s.getMonth()+3)/3),S:s.getMilliseconds()};/(y+)/.test(t)&&(t=t.replace(RegExp.$1,(s.getFullYear()+"").substr(4-RegExp.$1.length)));for(let e in i)new RegExp("("+e+")").test(t)&&(t=t.replace(RegExp.$1,1==RegExp.$1.length?i[e]:("00"+i[e]).substr((""+i[e]).length)));return t}msg(e=t,s="",i="",r){const o=t=>{if(!t)return t;if("string"==typeof t)return this.isLoon()?t:this.isQuanX()?{"open-url":t}:this.isSurge()?{url:t}:void 0;if("object"==typeof t){if(this.isLoon()){let e=t.openUrl||t.url||t["open-url"],s=t.mediaUrl||t["media-url"];return{openUrl:e,mediaUrl:s}}if(this.isQuanX()){let e=t["open-url"]||t.url||t.openUrl,s=t["media-url"]||t.mediaUrl;return{"open-url":e,"media-url":s}}if(this.isSurge()){let e=t.url||t.openUrl||t["open-url"];return{url:e}}}};if(this.isMute||(this.isSurge()||this.isLoon()?$notification.post(e,s,i,o(r)):this.isQuanX()&&$notify(e,s,i,o(r))),!this.isMuteLog){let t=["","==============📣系统通知📣=============="];t.push(e),s&&t.push(s),i&&t.push(i),console.log(t.join("\n")),this.logs=this.logs.concat(t)}}log(...t){t.length>0&&(this.logs=[...this.logs,...t]),console.log(t.join(this.logSeparator))}logErr(t,e){const s=!this.isSurge()&&!this.isQuanX()&&!this.isLoon();s?this.log("",`❗️${this.name}, 错误!`,t.stack):this.log("",`❗️${this.name}, 错误!`,t)}wait(t){return new Promise(e=>setTimeout(e,t))}done(t={}){const e=(new Date).getTime(),s=(e-this.startTime)/1e3;this.log("",`🔔${this.name}, 结束! 🕛 ${s} 秒`),this.log(),(this.isSurge()||this.isQuanX()||this.isLoon())&&$done(t)}}(t,e)}
