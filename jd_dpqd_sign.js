/*
活动名称：批量店铺签到
活动链接：https://h5.m.jd.com/babelDiy/Zeus/2PAAf74aG3D61qvfKUM5dxUssJQ9/index.html?token=<token>
环境变量：jd_dpqd_tokens // 活动令牌，多个用英文逗号，@，&，换行分割
        jd_dpqd_task_threads // 控制签到并发线程数（正整数），默认1
        jd_dpqd_account_threads // 控制账号并发线程数（正整数），默认1
        jd_dpqd_account_interval // 自定义运行间隔时长（整数，单位毫秒），默认0
        jd_dpqd_max_retry // 签到火爆时的最大重试次数（整数），默认0
        jd_dpqd_prize_notify // 是否推送中奖信息（true/false），默认不推送

此脚本为高并发签到本，需要读取主脚本生成的活动信息缓存，自动过滤无效活动，签到后如有奖品则自动到账


cron:1 1 1 1 *

*/

const $ = new Env('批量店铺签到')
var iｉl='jsjiami.com.v7';const ill1Ii=iii1II;(function(i1llii,l1i1I1,llIIil,llIIii,Ii1I1i,llIIlI,Ii1I1l){return i1llii=i1llii>>0x4,llIIlI='hs',Ii1I1l='hs',function(IIlIl,ili11l,Iiilll,Iiilli,IIlIi){const IllIil=iii1II;Iiilli='tfi',llIIlI=Iiilli+llIIlI,IIlIi='up',Ii1I1l+=IIlIi,llIIlI=Iiilll(llIIlI),Ii1I1l=Iiilll(Ii1I1l),Iiilll=0x0;const ili11i=IIlIl();while(!![]&&--llIIii+ili11l){try{Iiilli=parseInt(IllIil(0x294,'7wt5'))/0x1*(-parseInt(IllIil(0x221,'8g*@'))/0x2)+parseInt(IllIil(0x239,'D[ae'))/0x3+parseInt(IllIil(0x233,'IOG2'))/0x4*(parseInt(IllIil(0x214,'%1ej'))/0x5)+parseInt(IllIil(0x2c9,'S)l2'))/0x6*(-parseInt(IllIil(0x2a8,'Nt1v'))/0x7)+-parseInt(IllIil(0x259,'woxq'))/0x8+-parseInt(IllIil(0x2f8,'E@]i'))/0x9+parseInt(IllIil(0x2d7,'FX$h'))/0xa;}catch(iiIi1l){Iiilli=Iiilll;}finally{IIlIi=ili11i[llIIlI]();if(i1llii<=llIIii)Iiilll?Ii1I1i?Iiilli=IIlIi:Ii1I1i=IIlIi:Iiilll=IIlIi;else{if(Iiilll==Ii1I1i['replace'](/[GYUFNDSkHdWTEKCtI=]/g,'')){if(Iiilli===ili11l){ili11i['un'+llIIlI](IIlIi);break;}ili11i[Ii1I1l](IIlIi);}}}}}(llIIil,l1i1I1,function(li11I,lliiII,iiIi1i,liI1ll,ll1II,IllIii,liI1li){return lliiII='\x73\x70\x6c\x69\x74',li11I=arguments[0x0],li11I=li11I[lliiII](''),iiIi1i='\x72\x65\x76\x65\x72\x73\x65',li11I=li11I[iiIi1i]('\x76'),liI1ll='\x6a\x6f\x69\x6e',(0x15f6c4,li11I[liI1ll](''));});}(0xc70,0xe21c3,Iii11l,0xc9),Iii11l)&&(iｉl=ill1Ii(0x2c8,'o^v4'));const jdCookie=require(ill1Ii(0x205,'8g*@')),notify=require(ill1Ii(0x2e8,'KW[Q')),common=require('./utils/Rebels_jdCommon'),{H5st,jsTk}=require(ill1Ii(0x1fd,'FX$h'));console[ill1Ii(0x2be,'5Irt')](''),console['log']('=========='+$[ill1Ii(0x2fe,'o^v4')]+ill1Ii(0x2df,'8g*@')),console[ill1Ii(0x230,'enyk')]('jd_dpqd_tokens\x20//\x20活动ID，多个用英文逗号分割'),console[ill1Ii(0x269,'S)l2')]('jd_dpqd_task_threads\x20//\x20控制签到并发，默认1'),console['log']('jd_dpqd_account_threads\x20//\x20控制账号并发，默认1'),console[ill1Ii(0x2fb,'0eV)')](ill1Ii(0x1e8,'4$@*')),console[ill1Ii(0x300,'nCp9')](ill1Ii(0x24e,'7wt5')+$[ill1Ii(0x2cc,'O[ds')]+ill1Ii(0x249,'Nt1v')),console[ill1Ii(0x2f3,'JwM*')]('');let tokensList=(process[ill1Ii(0x235,'&lV^')][ill1Ii(0x209,'5Irt')]||'')[ill1Ii(0x296,'8%Iv')](/[,@&|\n]+/g)[ill1Ii(0x20e,'8g*@')](Boolean),taskThreads=process[ill1Ii(0x27a,'7wt5')][ill1Ii(0x2ea,'o^v4')]||'1',accountThreads=process['env'][ill1Ii(0x260,'o^v4')]||'1';const runInterval=process['env'][ill1Ii(0x254,'nCp9')]||'';function Iii11l(){const iI1IlI=(function(){return[iｉl,'CKTjDSYsdSkjDiEaEmdFiH.ctoTm.WvTIG7WNUCF==','W5VcK8oEfa','WOyfpSkgoG','xePPafe','W77cRtJdSmol','W6iOWQezoq','W4Xahxyy','W6KpfhhcVW','qZz/W5TP','WR3cLe4Xr8oxWRHwvhCbWQ/cKG','mZKKzs8','WPGKhKtdILm3jW','WOP7tLtdPG','x8kaCuuB','WQW2nhqPAX84WPuLz8kVW6BdOmkuWOW8qSovW4ddNXhdJbDGWQbgDUIgGowSK+s4N+I8MoIJPEMwSoMzKUAwSEMvIG','tKJcVr3dSmkB','DSoCxSoEzg3cHG','WPddNCkP','wGpcOa','ycqUjfm','W67dRHC','W5GdW6i','W6RdVLukWQO','W7tdPvS','W6VcTxTwW5u','WPuCgCo2W7y','zW4RgWKndsKQFa','i8kgW6uYfHfZDq','6lAz5yYf5Pwk5Ps9','CX8+','CYO4mG','WRGTiCovW4hdTa','W5xcTWa9W58','ys4cdCowWPm','dmoObWLAW6CixSk0jd3dUupcVq','W5NcL8kOsmo7W5HxovtdGcjqECkUWQtdJW','WOxcKqi','rGG7bf0','qGCGlmoB','sSk4xeu9WRLtcW','AI1XfhJcIulcPc0gASkOchbtrCkMWRFdSq','44cC6lsG5y+B','Bmozsmo8CgtcHNa','WO4aeeuoW78tcW3cTG','WPajhW','nmkdw8oCWP4JW7X9WQFcLSoN','WRJdNgldNSkJhW','WR7dNvpdNCkNbSkdW5BdTmoFyCkua8ot','DsSQ','iCkgW7mIxbnwCmo8WOe','nuLNu0hdUH0','W5m3W6WaW74','W4zgfLuOW6i','W7tINkuS6k2o5Rkv5Awg6lEc776b5PwG5zg95BQE5PAb5OYd776P8lU7Mq','vSo7ia','W7zHq2NdRq','W4ldILxdNHv2WQy','BwlcMapdRa','W5/dGSo9FCowW6RcRa','aUkESCoZ4P2/WQtNRO3LIQlMIOtLI7ZVVi4','s8kYzMir','FxaQACk+FSoZvdxcM0mLWR4DW5jhsSkwW5Ow','W64JW4pdKbC','W4JdGGJdN8od','77Y/8kszRa','W5pcHSo4i8og','oSkEogxcRW','W5FINktdVEkDSmkY56+k5yIu5AsN6lsJ776T','ruJcPW','W5JcL8oE','W6BIN45l6k+N5RcB5AsR6lwE772V','WPuysXuyW4CziqFcSG','WP0Ve0/dI18','W6FcJHqjW7S','W5xcNc0+W5i','ku17qW','wKTjfuK','WOtcIMKr','fca6BWm','W4JcTmoLjCoC','WR8/bSoHW5q','W5BcOHqBW5S','WR7cOZpdSmod','W5JcRXq','WQjKs0hdVa','CvxcOIZdHq','ACoyta','yCoMW4i+meVcMCoJcSkued0gW7G6WRDhWOhcVfq','W4ldJ1RdLaq','Cr0JfbZcSfTgW4KSW4rXWPe','EMncshpdTIqV','W7hcHbW','vgZcVt/dNG','z3y3ASk4','W7JdPru','WO1BWRRdS8oOtM96W67dTfNdSq','W7SZWOa','FSk8EMKH','W60bW7FdNa3dVW','WOPnxu/dIG','EXO8aCor','W7NINz5+4P+zWRBNR4/LIytLP5NOTihVV70','uLJcObi','zYqfba','FGKHhSoa','t8kGFwqp','ywHNpN7dNmkosGRdQSoWyW'].concat((function(){return['W6BIN45l4P2CEEETPowjI+wLLUI3KE+9JG','W6JdSg0','WR7dVL7dOCkq','W4rodKa','5O+D56wX57Q/5PY1WP/dHSkvW4/cNX/dGbVcI0W','W7JdMN4gWQq','WOFcVCovWQT8','zSoyt8o1','W4mDW5/cJ8kW','DmotAthdPSkjuSkvW5BdRW','ErfYW5DADZnc','WPdcNM4y','EIOfhSo2WPldHCkx','hZmu','W6ZdPrxdLCo1WOxcQH7dUCoG','W6vcFM/dJmkscdDrbdCVmmo9tmoqWOZcNtddNfq4WODy','WRWRlCoEW7K','nSkmW68Z','W7xdS1ilWQPS','qhnfB0q','WRbvWQVcG0RcOdFcGCoUW6fSp8kHrW','WP0LgG','W5CPWO4uka','FsOEc8opWOJdRmktW5zd','lEkFL0ZINA/cGUEUHEwkMoAlOUwiVq','DXuKhrGqlG','W6tdSJNdOSoF','EIedm0BdLfZcK2eTAmkPdIvwj8oIW7hcUK3cMejE','z3SQ','WOJcJNWuguaw','d+kENWtINiKC566A5yMT5AAt6lws776X','W6eyWO0SdG','Fty7','zbreW4D+BZP4eSoSW59RWQ3cSsCNsG','FWSse10','WQmPjSogW6hdTrHX','W5pcNCon','W6RdS0G','W4TulSkcdd/cONG','W5uaW6K','W5RcR17cH8kJW6KO','ttCUgY0','d3xcRKam','W6Lxv3RdKa','W6LhC3hdHG','BMbfwMi','qaiJiSoV','pdC3','WR7dIMBdKmk2gSkoWQFdO8oFz8oFg8kx','CfqvEmkk','WPldV8kRbtW','WRJcKYNdO8oZ','W6RdHG9QcCkhW75eseO','lmkaiG','WP0+l37dNq','WQldMmk5ot0','W6eHWO41','W7JcQJinW4jh','5lUq6lgX8y+WTq','W7PsrYBcHa','WRFdLMJdNa','rg1dc3e','wHJcLCodbW','FYatp0y','ne3cSKuP','nCowW5jHWOhdOSkxxmknWPCeb2ldT8kQ','kg1Yuwy','ox9yuSkvW4JdQCkRW5DWWRna','W4XBkhCV','t0ZcOW','W4iZW6qWW6K','W7KIW5RdIsK','W7NcL2jNW5q','ExzitwldOs4KWPCFc302','W78UWPqKmJu','WRhdKSkZEmoM','Ehrzsq','W6uWWOSOna','kSoqW5i','F8oAy0pcLmoJcmo4WO8','W5ddJexdLbDR','WPNcNSoXWOfp','W4hcVG/dSSo6','WRtcQZa','eflcRgq8oq','EHSkoCoX','lhlcKfy6','WRVdO8kyfH4','WPpcN3WcceeYWOpcSIO','W44PW4hcM8kN','rNjAExu','F3jErxJdOWqTWOa','zH8RdtSxnIunBuldGq','W4OTW6lcImkB','WOn/ChJdUW','yYaO','WPbLW53dT8kXD3C','5REn5yQK5Pwt5PEE','WO9Dcx4PW6anbdVcPX7cUCoaWR4NBmkCvfZcSW','phTBuSkBW4RdOCkZW6LjWPDE','W45Jg1K8','W5OTW70aW7e','W63dS08y','WRunkxJdLG','n8kmqCoDW4e','WO3cMvWLfq','W4FcTrdcH8kPW6GO','WPpdL8kZwq'].concat((function(){return['WODECMpdKW','W6qxhmkdW5a','jSkHW6CvnW','WRuzkLes','CSowqSoKuwNcJMy','pSkXW5O6pq','xoIVGoAYGowtJUw7Nhe','DCowwCoJya','WPpdMCkPxq','hMn+zfm','pSkppxJcJ8oDaSon','rSoyrCoKyg7cLY4rW7jqWR4','WPvdW5xdG8kY','WRJdLMS','WP8jhmkU','WR1TF13dPW','Dt01iW','W4POkhKk','nCkozSorW74','W7aPWOS1jtm','W7Xdvq','WPTyEuVcKSoVeh/dTMy','W5dcV15lW7BdGSk0WPBdJmo/e8kc','EJy2pLFdIfhdOMmHzSoOdxW','WOJdGmo8pmo+kCkXla','W4fxwgpdRa','hSkdfNJcKG','EHSNda','fflcO2CTi2m','WPmLeKtdMLy8','jxRcPNey','WPnsCL3dLSoP','W6FcTtKHW4q','WPNORPJMS4ZLKiBLUyTD','AMD+vMW','WOvTW57dS8oWDhWyWRqoWRe','d1lcTG','vclcLCoTiW','W4xcGCoRcSkKWOitjNZdOrvxumkj','W6KqW63dIWRcRs7cNSoFW5PFr8k/mCklWR7cTWxdOh1uW4OCWPi','5P6t556k5AEy5zck77+x','W5hcKJ/dN8oK','WRbwWQO','WOiScLJdIa','W7FcQJeT','WPHEFLFdSW','5y246yEG6k6o5PIVCmkTqv1zW65mW6/cMmoT','jMlcP0qT','k0nX','W4ddGCk3','CqG4bG8','lwTeFMm','g1lcRfyj','W7tIN5rV4P++WPxNR6lLIyxLPkxOTzW6W4m1','W5e8W5SvW7XqdmooWP/cLerQWRTV','E8omW74IgG9jpSohWORcM8ocWReqxmkXWOXzdtFcNY3cUSkpWRD2W5S','FLrLB18','EIedm0BdLfZcK3qVEmkTjd9kcSoZW7JcRfS','W40kW73cVW','WPrCAfO','W4mTg2hcQW','vNVcKcpdGa','W6ziqMFdICkhcrS','W6yjWQmMla','cMHpt1a','za85aq','W7SifW','k8oXW5PvWRy','W73dT0Gn','BIqidW','lmk/CSojW4u','pJmyfcFcSLWjWOaIjvWN','f0dcI1aP','WQSCbeOT','W6FdRWy','pZqrvIO','WPnJW4tdO8kR','FIqXmG','W7Oca8kzW4xcKsO','W6njrG','F2vErwBdSa','jCkaymo4W7S','W6tcTZWYW5v5WQO4rq','q2Xd','W70vWR0uaW','yqS4iL4','lh11zvm','WOpcHhKv','Dxu2r8ke','5yA/57Ue5y298y2wSq','W5ZcIJeRW7e','ydyxdum','ymopqSoJCxpcShORW6G','W4hcLuzzW78','W4Xahq','WRBdG33dVSkB','Ahfrivm','i8kIW6yckq','stvp','WPiLe0VdQ1yHpW','sIDWW5D5','hSkVW5e+pG','WQZcQ8otWQ5s','W5ithL7cQG','W63dIttdV8oJ','W4O9W7JcGSkA'];}()));}()));}());Iii11l=function(){return iI1IlI;};return Iii11l();};let signHotMaxRetryTimes=process[ill1Ii(0x20a,'o^v4')][ill1Ii(0x266,'dxZZ')]||'0';function iii1II(_0x201c75,_0x4d77d7){const _0x3fde31=Iii11l();return iii1II=function(_0x278ed5,_0x1708bc){_0x278ed5=_0x278ed5-0x1c7;let _0x3193c4=_0x3fde31[_0x278ed5];if(iii1II['yWdYfo']===undefined){var _0x59690a=function(_0x1e847b){const _0x4bcd10='abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=';let _0x71a3f9='',_0x46da6c='';for(let _0x48d797=0x0,_0x461a44,_0x3712ab,_0x2655ff=0x0;_0x3712ab=_0x1e847b['charAt'](_0x2655ff++);~_0x3712ab&&(_0x461a44=_0x48d797%0x4?_0x461a44*0x40+_0x3712ab:_0x3712ab,_0x48d797++%0x4)?_0x71a3f9+=String['fromCharCode'](0xff&_0x461a44>>(-0x2*_0x48d797&0x6)):0x0){_0x3712ab=_0x4bcd10['indexOf'](_0x3712ab);}for(let _0x449808=0x0,_0x4176c4=_0x71a3f9['length'];_0x449808<_0x4176c4;_0x449808++){_0x46da6c+='%'+('00'+_0x71a3f9['charCodeAt'](_0x449808)['toString'](0x10))['slice'](-0x2);}return decodeURIComponent(_0x46da6c);};const _0x3ac62b=function(_0x42aed4,_0x3699fa){let _0x18d295=[],_0x50b830=0x0,_0x4fb97f,_0x1bf206='';_0x42aed4=_0x59690a(_0x42aed4);let _0x16162a;for(_0x16162a=0x0;_0x16162a<0x100;_0x16162a++){_0x18d295[_0x16162a]=_0x16162a;}for(_0x16162a=0x0;_0x16162a<0x100;_0x16162a++){_0x50b830=(_0x50b830+_0x18d295[_0x16162a]+_0x3699fa['charCodeAt'](_0x16162a%_0x3699fa['length']))%0x100,_0x4fb97f=_0x18d295[_0x16162a],_0x18d295[_0x16162a]=_0x18d295[_0x50b830],_0x18d295[_0x50b830]=_0x4fb97f;}_0x16162a=0x0,_0x50b830=0x0;for(let _0xe718bd=0x0;_0xe718bd<_0x42aed4['length'];_0xe718bd++){_0x16162a=(_0x16162a+0x1)%0x100,_0x50b830=(_0x50b830+_0x18d295[_0x16162a])%0x100,_0x4fb97f=_0x18d295[_0x16162a],_0x18d295[_0x16162a]=_0x18d295[_0x50b830],_0x18d295[_0x50b830]=_0x4fb97f,_0x1bf206+=String['fromCharCode'](_0x42aed4['charCodeAt'](_0xe718bd)^_0x18d295[(_0x18d295[_0x16162a]+_0x18d295[_0x50b830])%0x100]);}return _0x1bf206;};iii1II['IzeLaw']=_0x3ac62b,_0x201c75=arguments,iii1II['yWdYfo']=!![];}const _0x5b6eec=_0x3fde31[0x0],_0x3ad092=_0x278ed5+_0x5b6eec,_0x1b3d2b=_0x201c75[_0x3ad092];return!_0x1b3d2b?(iii1II['UQaKDe']===undefined&&(iii1II['UQaKDe']=!![]),_0x3193c4=iii1II['IzeLaw'](_0x3193c4,_0x1708bc),_0x201c75[_0x3ad092]=_0x3193c4):_0x3193c4=_0x1b3d2b,_0x3193c4;},iii1II(_0x201c75,_0x4d77d7);}const isNotify=process[ill1Ii(0x1ee,'0eV)')]['jd_dpqd_prize_notify']===ill1Ii(0x291,'E@]i');let TokensMap=new Map();const signStatusMessages={0x1805c007:'今日已签',0x1843da61:'活动尚未开始',0x1843da62:'活动已经结束',0x184253c7:ill1Ii(0x1f6,'S)l2'),0x192:ill1Ii(0x2a6,'Yd2$'),'-1':'服务器繁忙'},invalidTokensMap=new Map(),CacheFile=__dirname+ill1Ii(0x2a7,'8g*@'),cookiesArr=Object['keys'](jdCookie)['map'](lIli1l=>jdCookie[lIli1l])[ill1Ii(0x2c4,'h&R0')](lillIi=>lillIi);!cookiesArr[0x0]&&($[ill1Ii(0x265,'o^v4')]($[ill1Ii(0x2fe,'o^v4')],'【提示】请先获取Cookie'),process[ill1Ii(0x2c1,'o^v4')](0x1));!(async()=>{const llIIl1=ill1Ii,illIi1={'ltRVb':function(ii1ili,liil1i){return ii1ili===liil1i;},'bfivt':function(lI1lil,i1l1iI){return lI1lil!==i1l1iI;},'kwISa':llIIl1(0x210,'XhbI'),'WmBtI':'utf-8','mNoZt':function(liil1l,lI1lii){return liil1l!==lI1lii;},'AiiUh':llIIl1(0x242,'Nt1v'),'dijHT':'pdzTv','pIDgl':function(Iiili1,Iil1l1){return Iiili1>Iil1l1;},'orXzO':function(i1i11I,il1iIl){return i1i11I<=il1iIl;},'tPFil':llIIl1(0x2f1,'IOG2'),'wPfSS':'⚠\x20请先定义必要的环境变量后再运行脚本！','kRQlN':'NIFEI','bNRxF':llIIl1(0x284,'o^v4'),'kfKgx':function(iii1ii,il1iIi){return iii1ii(il1iIi);},'ZUeGe':'UTeZv','yNqjp':function(iii1il,II11li){return iii1il(II11li);},'xeKiF':function(I1l11i,iIIiiI){return I1l11i>iIIiiI;},'oGZkn':function(liiI1i,ililIi){return liiI1i!==ililIi;},'IicVq':function(lilIIl,ililIl){return lilIIl(ililIl);},'kUZUC':function(liiI1l,i1l1II){return liiI1l===i1l1II;},'MFdxg':'xVPQg','UsXRo':'MSzAP','YMdrP':llIIl1(0x1e6,'geEM')};try{if(illIi1[llIIl1(0x2f4,'##lB')](illIi1[llIIl1(0x25b,'h&R0')],illIi1['dijHT'])){notify[llIIl1(0x2d0,'geEM')]({'title':$[llIIl1(0x225,'IOG2')]});if(illIi1[llIIl1(0x2f0,'h&R0')](tokensList[llIIl1(0x1f9,'gyeJ')],0x0))tokensList=[...new Set(tokensList['filter'](I1l11l=>I1l11l!==''))];if(illIi1[llIIl1(0x25f,'0eV)')](tokensList[llIIl1(0x299,'rqVd')],0x0)){if(illIi1[llIIl1(0x283,'SwLC')](illIi1['tPFil'],illIi1[llIIl1(0x1d8,'2h4c')])){console[llIIl1(0x206,'b4Wj')](illIi1[llIIl1(0x29a,'Nt1v')]);return;}else{llliii[llIIl1(0x26c,'D[ae')](IllI11+'账号无效\x20🚫');return;}}const i1ill=require('fs');if(i1ill[llIIl1(0x1cd,'enyk')](CacheFile)){const i1l1Il=i1ill[llIIl1(0x2a1,'O[ds')](CacheFile,llIIl1(0x280,'nCp9')),llIli=JSON[llIIl1(0x1ed,'o^v4')](i1l1Il);for(const i1i11l in llIli){if(illIi1[llIIl1(0x2b6,'KW[Q')]===illIi1[llIIl1(0x2d6,'SwLC')]){llIIli[llIIl1(0x304,'0Vn0')](''+lIII1I+illIlI+llIIl1(0x23f,'lDCD')+liIiI[llIIl1(0x23a,'h&R0')]+'）');if(!l1il1I[Iiili[llIIl1(0x24c,'enyk')]])IilIli=!![];}else TokensMap[llIIl1(0x2d5,'rqVd')](i1i11l,llIli[i1i11l]);}}$['waitTime']=null;if(runInterval)try{const II11l1=illIi1['kfKgx'](parseInt,runInterval);illIi1['pIDgl'](II11l1,0x0)&&($[llIIl1(0x201,'Y7HC')]=II11l1);}catch{console[llIIl1(0x2fb,'0eV)')]('⚠\x20自定义运行间隔时长设置错误');}try{const Iil1lI=parseInt(signHotMaxRetryTimes);signHotMaxRetryTimes=Iil1lI>0x0?Iil1lI:0x0;}catch{if(illIi1[llIIl1(0x2aa,'SqQb')](llIIl1(0x297,'&lV^'),illIi1[llIIl1(0x2e0,'rqVd')]))signHotMaxRetryTimes=0x3;else{if(II1liI[llIIl1(0x204,'enyk')](':')&&illIi1[llIIl1(0x289,'8g*@')](IlI1i1[llIIl1(0x292,'h&R0')](':')[llIIl1(0x1fb,'Nt1v')],0x3)){const iii1iI=iillli[llIIl1(0x21c,'7wt5')](':');if(!iii1iI[0x0]||!iii1iI[0x1]||!iii1iI[0x2])return;I1l1Ii=iii1iI[0x0];if(illIi1[llIIl1(0x272,'E@]i')](I1i11i['length'],0x20)||!/^[A-Z0-9]*$/[llIIl1(0x2ab,'k]4V')](I1i11l))return;llIlii=iii1iI[0x1],llIlil=iii1iI[0x2],iii1iI[0x2][llIIl1(0x1f4,'O[ds')](illIi1[llIIl1(0x22a,'gyeJ')])&&iii1iI[0x2][llIIl1(0x1e9,'5H0Z')]===0x8&&!iii1iI[0x1]['startsWith'](illIi1[llIIl1(0x2f9,'rqVd')])&&(IlI1ii=iii1iI[0x2],lIIiii=iii1iI[0x1]),IiiIll['set'](IIlii,{'index':null,'venderId':IlI1il,'shopName':'','activityId':IilliI,'startTime':'','endTime':'','isValid':!![],'rules':[],'minLevel':null,'maxLevel':null});}}}try{const llIll=illIi1[llIIl1(0x277,'!5)7')](parseInt,taskThreads);illIi1[llIIl1(0x1f2,'M3ho')](llIll,0x0)&&illIi1[llIIl1(0x2fa,'4$@*')](llIll,0x1)&&(taskThreads=llIll);}catch{taskThreads=0x1;}try{if(illIi1['oGZkn']('NyxOu','NyxOu')){const iilli=I11iIi[I1ilII[llIIl1(0x1c8,'J^!a')]]||I11iIl[llIIl1(0x2bf,'b4Wj')]+'|活动太火爆';[0x1843da61,0x1843da62,0x192]['includes'](l1l11l['code'])&&l1iIIl[llIIl1(0x261,'YXT0')](iiilll,!![]),l1l11i['log'](''+l1iIl+illIll+llIIl1(0x245,'4$@*')+iilli+'）'),(iIli1I[llIIl1(0x1f8,'o^v4')]==='-1'||illIi1[llIIl1(0x21b,'S)l2')](Iiil1[llIIl1(0x2f6,'Nt1v')],-0x1))&&(lI11Il=!![]);}else{const IlllIl=illIi1[llIIl1(0x27c,'!5)7')](parseInt,accountThreads);IlllIl>0x0&&illIi1['bfivt'](IlllIl,0x1)&&(accountThreads=IlllIl);}}catch{illIi1[llIIl1(0x305,'h&R0')](illIi1[llIIl1(0x1e2,'dxZZ')],illIi1['UsXRo'])?I1llil=0x1:accountThreads=0x1;}await common[llIIl1(0x1d4,'Jap@')](accountThreads,cookiesArr,async(lI1IIi,I1l11I)=>{const ill1Il=llIIl1;await concMain(taskThreads,tokensList,lI1IIi,I1l11I,Main);if($[ill1Il(0x251,'Nt1v')])$[ill1Il(0x27d,'h&R0')]($[ill1Il(0x24f,'dxZZ')]);});if(isNotify&&notify[llIIl1(0x253,'0eV)')]()){if(illIi1[llIIl1(0x218,'woxq')](illIi1[llIIl1(0x26e,'O[ds')],illIi1[llIIl1(0x2cf,'rqVd')])){const iIIiii=II11Ii['readFileSync'](II11Il,illIi1[llIIl1(0x2cb,'7wt5')]),iilll=IlI11[llIIl1(0x2b8,'enyk')](iIIiii);for(const il1iI1 in iilll){lilIlI[llIIl1(0x2c5,'nCp9')](il1iI1,iilll[il1iI1]);}}else notify[llIIl1(0x28e,'E@]i')](notify[llIIl1(0x25e,'O[ds')]),await notify[llIIl1(0x240,'5H0Z')]();}}else{const iIIiil=Iillii[llIIl1(0x2b2,'JwM*')](':');if(!iIIiil[0x0]||!iIIiil[0x1]||!iIIiil[0x2])return;IlI1iI=iIIiil[0x0];if(Iillil[llIIl1(0x208,'5Irt')]!==0x20||!/^[A-Z0-9]*$/['test'](l1lIli))return;lIIiiI=iIIiil[0x1],II1lil=iIIiil[0x2],iIIiil[0x2]['startsWith'](illIi1['kwISa'])&&illIi1[llIIl1(0x27b,'Jap@')](iIIiil[0x2][llIIl1(0x257,'k]4V')],0x8)&&!iIIiil[0x1][llIIl1(0x29d,'J^!a')](llIIl1(0x246,'lDCD'))&&(lliil1=iIIiil[0x2],IIllI=iIIiil[0x1]),lIIii1[llIIl1(0x238,'0eV)')](ll1i1,{'index':null,'venderId':IIli1i,'shopName':'','activityId':I1iIi1,'startTime':'','endTime':'','isValid':!![],'rules':[],'minLevel':null,'maxLevel':null});}}catch(i1l1Ii){console['log']('❌\x20脚本运行遇到了错误\x0a'+i1l1Ii);}})()[ill1Ii(0x1e4,'IcOr')](I1iIIi=>$[ill1Ii(0x27e,'v%Wq')](I1iIIi))[ill1Ii(0x2a5,'Yd2$')](()=>$[ill1Ii(0x2b0,'FX$h')]());async function Main(I1iIIl,lI1IIl){const i1lll1=ill1Ii,i1ilI={'enCVm':'⚠\x20自定义运行间隔时长设置错误','bzqGL':function(IIii1l,I1iIII){return IIii1l>I1iIII;},'jGRXG':function(liiI11,ililI1){return liiI11===ililI1;},'logWU':function(IIii1i,i1ili){return IIii1i>i1ili;},'xFCrP':i1lll1(0x236,'5H0Z'),'ZUGVJ':i1lll1(0x1f3,'gyeJ'),'sRvIE':function(Iiill1,I1iII1){return Iiill1/I1iII1;},'eowuv':function(lilII1,iill1){return lilII1>iill1;},'NqyhP':function(iii1l1,IIliIl){return iii1l1===IIliIl;},'PRByR':i1lll1(0x1cb,'v%Wq'),'wvaXu':'TLsIC','sBlCD':function(II11ll,liiI1I){return II11ll!==liiI1I;},'wXjmN':i1lll1(0x24b,'8%Iv'),'fqvql':function(ililII,lI1II1){return ililII===lI1II1;},'sKAAK':function(i1ilII,iIIii1){return i1ilII(iIIii1);},'REvfl':function(IllIi1,lilIII){return IllIi1>lilIII;},'oNNDk':function(Ii1ilI,II11i1){return Ii1ilI(II11i1);},'OOKyh':function(iliIil,iliIii){return iliIil(iliIii);},'CRBjO':i1lll1(0x2bc,'enyk'),'vAmTZ':i1lll1(0x273,'Nt1v'),'sIMEm':'signCollectGift','Grudo':'4da33','CBiGS':'interCenter_shopSign','OLLFy':function(lill1i,il1li){return lill1i(il1li);},'iCNzf':i1lll1(0x1fe,'icIs'),'fIUgs':i1lll1(0x2d8,'woxq'),'zcFMl':'jsonp1003','tVCYD':i1lll1(0x2e9,'E@]i'),'yGbbQ':i1lll1(0x306,'o^v4'),'RGuYM':'gzip,\x20deflate,\x20br','uHmPu':i1lll1(0x202,'o^v4'),'LwJOX':i1lll1(0x2c6,'geEM'),'mrAUi':i1lll1(0x20b,'KW[Q'),'kngNM':i1lll1(0x231,'Gy9H'),'dJKtF':i1lll1(0x301,'E@]i'),'DxjiD':i1lll1(0x26d,'0rkm'),'akhKH':i1lll1(0x2d4,'Yd2$'),'VMgSk':i1lll1(0x1d3,'dxZZ'),'BgASk':function(iIIill,iilii){return iIIill<iilii;},'faRzz':i1lll1(0x2da,'&lV^'),'MPcfX':function(Ill11i,iilil,Ill11l){return Ill11i(iilil,Ill11l);},'FYuyV':function(il1ll,i1ilIi){return il1ll>=i1ilIi;},'BIspH':function(lill1l,l1l1i1){return lill1l!==l1l1i1;},'aQwve':'cpNsT','oYzsO':i1lll1(0x1fa,'v%Wq'),'tjKfz':function(i1iiI,i1ilIl){return i1iiI===i1ilIl;},'zpAtu':i1lll1(0x2db,'woxq'),'olAPm':function(llI11I,Il1i11){return llI11I===Il1i11;},'HzpFa':i1lll1(0x22c,'lDCD'),'UmgpK':'lnQke','MGuKV':i1lll1(0x224,'v%Wq'),'YOhBw':function(iii1li,Iil1i1){return iii1li||Iil1i1;},'DWktw':i1lll1(0x2bd,'Yd2$')},{title:iii1lI,UA:i1ilI1,cookie:Iiilii,message:Iil1li,jsToken:Iiilil}=lI1IIl;if(invalidTokensMap[i1lll1(0x1eb,'FX$h')](I1iIIl))return;let Iil1ll='',iillI='';const lI1III=TokensMap[i1lll1(0x21e,'5H0Z')](I1iIIl);if(lI1III)Iil1ll=lI1III[i1lll1(0x1f5,'KW[Q')],iillI=lI1III['activityId'];else{if(i1ilI[i1lll1(0x2e4,'IOG2')]('ZcbQe',i1ilI['oYzsO']))ii1lI['insert'](I1ilIl);else try{if(i1ilI[i1lll1(0x2a3,'geEM')]('ZSWni','ZSWni'))lilIii[i1lll1(0x206,'b4Wj')](i1ilI[i1lll1(0x2ed,'2h4c')]);else{if(I1iIIl[i1lll1(0x1e5,'Jap@')](':')&&i1ilI[i1lll1(0x28b,'SqQb')](I1iIIl[i1lll1(0x2d1,'v%Wq')](':')['length'],0x3)){const Ii1il1=I1iIIl[i1lll1(0x232,'icIs')](':');if(!Ii1il1[0x0]||!Ii1il1[0x1]||!Ii1il1[0x2])return;I1iIIl=Ii1il1[0x0];if(i1ilI['sBlCD'](I1iIIl[i1lll1(0x1e9,'5H0Z')],0x20)||!/^[A-Z0-9]*$/[i1lll1(0x2eb,'D[ae')](I1iIIl))return;iillI=Ii1il1[0x1],Iil1ll=Ii1il1[0x2],Ii1il1[0x2]['startsWith'](i1ilI[i1lll1(0x23d,'geEM')])&&i1ilI[i1lll1(0x2fc,'IcOr')](Ii1il1[0x2][i1lll1(0x222,'Jap@')],0x8)&&!Ii1il1[0x1]['startsWith']('123')&&(i1ilI['NqyhP'](i1ilI[i1lll1(0x285,'rqVd')],i1lll1(0x287,'IOG2'))?llIlli[i1lll1(0x304,'0Vn0')](''+llIlll+lliii1+'\x20➜\x20✅\x20签到成功'):(iillI=Ii1il1[0x2],Iil1ll=Ii1il1[0x1])),TokensMap[i1lll1(0x26a,'k]4V')](I1iIIl,{'index':null,'venderId':Iil1ll,'shopName':'','activityId':iillI,'startTime':'','endTime':'','isValid':!![],'rules':[],'minLevel':null,'maxLevel':null});}}}catch(IIliI1){if(i1ilI['sBlCD'](i1ilI['UmgpK'],i1ilI['MGuKV']))return;else l1il1i['outFlag']=!![];}}if(i1ilI[i1lll1(0x2ba,'IOG2')](!Iil1ll,!iillI)){if(i1lll1(0x23e,'Nt1v')!==i1ilI[i1lll1(0x1d5,'dxZZ')])return;else I1iIli=lI1Ill[i1lll1(0x234,'E@]i')],lI1Ili=IliilI[i1lll1(0x279,'wcmN')];}const IIliIi=Math['floor'](Date['now']()/0x3e8)+i1lll1(0x252,'0Vn0');if(invalidTokensMap[i1lll1(0x1f7,'O[ds')](I1iIIl))return;let IllIiI=![];await I1l111(i1ilI['sIMEm']);if($[i1lll1(0x2b5,'enyk')])$['wait']($['waitTime']);if(IllIiI&&signHotMaxRetryTimes>0x0){let I1il1l=0x0;while(i1ilI['BgASk'](I1il1l,signHotMaxRetryTimes)){if(invalidTokensMap[i1lll1(0x21f,'S)l2')](I1iIIl))return;await i1ilI[i1lll1(0x1e1,'2h4c')](I1l111,i1ilI['sIMEm']);if($[i1lll1(0x2bb,'7wt5')])$['wait']($[i1lll1(0x268,'gyeJ')]);if(!IllIiI)break;I1il1l++;}}function i1il1(lI1l1l,IIliII){const l1i1Ii=i1lll1,iiliI={'PERUr':function(Ill11I,I1il1i){const Ii1I1I=iii1II;return i1ilI[Ii1I1I(0x1d0,'5Irt')](Ill11I,I1il1i);}};try{switch(lI1l1l){case l1i1Ii(0x286,'##lB'):if(i1ilI[l1i1Ii(0x28d,'M3ho')](IIliII['code'],0xc8)&&i1ilI[l1i1Ii(0x1de,'&lV^')](IIliII[l1i1Ii(0x212,'icIs')],!![])){const IliIIi=[];if(IIliII['data']&&i1ilI[l1i1Ii(0x1e0,'8g*@')](IIliII[l1i1Ii(0x248,'8g*@')]['length'],0x0))for(const lI1l1i of IIliII[l1i1Ii(0x2ec,'geEM')]){if(i1ilI[l1i1Ii(0x247,'5Irt')](i1ilI[l1i1Ii(0x28c,'woxq')],i1ilI['ZUGVJ'])){const llI11l=iliIII(iIIl1i);I1lllI=iiliI[l1i1Ii(0x29b,'rqVd')](llI11l,0x0)?llI11l:0x0;}else{const I1llIl=lI1l1i?.[l1i1Ii(0x303,'v%Wq')]||[];for(const i1iii of I1llIl){const I1llIi=i1iii?.['type'],IIii1I=i1iii?.['discount'];let llI11i='';switch(I1llIi){case 0x1:llI11i='优惠券🗑️';break;case 0x4:llI11i=IIii1I+l1i1Ii(0x27f,'rqVd');break;case 0x6:llI11i=IIii1I+'店铺积分🎟️';break;case 0x9:llI11i=i1iii?.[l1i1Ii(0x217,'YXT0')][0x0]?.[l1i1Ii(0x1ea,'enyk')]+'🎁';break;case 0xa:llI11i=IIii1I+'元E卡🎁';break;case 0xe:llI11i=i1ilI[l1i1Ii(0x1da,'D[ae')](IIii1I,0x64)+l1i1Ii(0x1ca,'b4Wj');break;default:llI11i=l1i1Ii(0x2d9,'D[ae')+I1llIi+'）';}IliIIi['push'](llI11i);}}}if(i1ilI[l1i1Ii(0x2fd,'Yd2$')](IliIIi[l1i1Ii(0x1fb,'Nt1v')],0x0)){console[l1i1Ii(0x25a,'Jap@')](''+iii1lI+I1iIIl+l1i1Ii(0x215,'5H0Z')+IliIIi[l1i1Ii(0x241,'Nt1v')]('，')+'）');for(const i1iIi1 of IliIIi){i1ilI[l1i1Ii(0x2ca,'nCp9')](i1ilI[l1i1Ii(0x29c,'!5)7')],i1ilI['wvaXu'])?IiilI[l1i1Ii(0x1cf,'8g*@')]('❌\x20未能正确处理\x20'+ii1I11+l1i1Ii(0x2b7,'rqVd')+(liIi1[l1i1Ii(0x2ff,'JwM*')]||lI11II)):Iil1li[l1i1Ii(0x28f,'h&R0')](i1iIi1);}}else{if(i1ilI[l1i1Ii(0x26f,'rqVd')](i1ilI[l1i1Ii(0x264,'h&R0')],i1ilI['wXjmN'])){const iliIi1=Ii1iII(l1i11I);iiliI[l1i1Ii(0x2ad,'XhbI')](iliIi1,0x0)&&iliIi1!==0x1&&(Ii1iI1=iliIi1);}else console[l1i1Ii(0x274,'IcOr')](''+iii1lI+I1iIIl+l1i1Ii(0x25d,'Nt1v'));}IllIiI=![];}else{if(i1ilI[l1i1Ii(0x2a2,'D[ae')](IIliII[l1i1Ii(0x2dd,'v%Wq')],0xc8)){const l1l1ii=signStatusMessages[IIliII['code']]||IIliII[l1i1Ii(0x281,'5Irt')]+'|活动太火爆';[0x1843da61,0x1843da62,0x192][l1i1Ii(0x2ef,'nCp9')](IIliII[l1i1Ii(0x256,'KW[Q')])&&invalidTokensMap[l1i1Ii(0x2a4,'o^v4')](I1iIIl,!![]),console[l1i1Ii(0x2e1,'IOG2')](''+iii1lI+I1iIIl+l1i1Ii(0x263,'0Vn0')+l1l1ii+'）'),(i1ilI[l1i1Ii(0x2c2,'8g*@')](IIliII['code'],'-1')||i1ilI[l1i1Ii(0x270,'nCp9')](IIliII[l1i1Ii(0x2f6,'Nt1v')],-0x1))&&(IllIiI=!![]);}else{if(IIliII['msg']){console[l1i1Ii(0x22d,'0rkm')](''+iii1lI+I1iIIl+l1i1Ii(0x21d,'FX$h')+IIliII[l1i1Ii(0x1f1,'k]4V')]+'）');if(!signStatusMessages[IIliII['code']])IllIiI=!![];}else console['log'](''+iii1lI+I1iIIl+l1i1Ii(0x2e6,'gyeJ')+JSON[l1i1Ii(0x2a0,'E@]i')](IIliII));}}break;}}catch(Il1i1I){console['log']('❌\x20未能正确处理\x20'+lI1l1l+l1i1Ii(0x2d2,'D[ae')+(Il1i1I['message']||Il1i1I));}}async function I1l111(Ii1iii){const lliiI1=i1lll1,iIIilI={'KLZhM':function(il1l1,Ii1iil){const l1iI1=iii1II;return i1ilI[l1iI1(0x213,'5H0Z')](il1l1,Ii1iil);},'uGwGh':i1ilI['CRBjO']};if(i1ilI['fqvql'](i1ilI[lliiI1(0x1d2,'KW[Q')],lliiI1(0x1df,'h&R0')))try{const iili1=i1ilI[lliiI1(0x223,'v%Wq')](I1iIil,lI1Iil);i1ilI[lliiI1(0x1ce,'M3ho')](iili1,0x0)&&(i1l1I['waitTime']=iili1);}catch{IiilIl[lliiI1(0x1ec,'SwLC')](i1ilI[lliiI1(0x20d,'SqQb')]);}else{let II11ii='',Iil1iI=null,II11il=null,iIIil1='GET',IlllII={},I1il1I={};switch(Ii1iii){case i1ilI[lliiI1(0x1dd,'0Vn0')]:I1il1I={'appId':i1ilI[lliiI1(0x1d1,'0Vn0')],'functionId':'interact_center_shopSign_signCollectGift','appid':i1ilI[lliiI1(0x219,'0eV)')],'body':{'token':I1iIIl,'venderId':i1ilI[lliiI1(0x2b4,'4$@*')](parseInt,Iil1ll)||'','activityId':i1ilI[lliiI1(0x200,'Nt1v')](parseInt,iillI)||'','type':0x38,'actionType':0x7},'version':i1ilI['iCNzf'],'ua':i1ilI1},IlllII=await H5st['getH5st'](I1il1I),II11ii=i1ilI[lliiI1(0x1d9,'0eV)')],II11il=Object['assign']({},IlllII[lliiI1(0x25c,'Nt1v')],{'jsonp':i1ilI[lliiI1(0x1dc,'b4Wj')]});break;}const II111={'t':IIliIi,'loginType':'2','x-api-eid-token':Iiilil};if(Iil1iI){if(i1ilI['sBlCD'](i1ilI[lliiI1(0x2ee,'5H0Z')],i1ilI[lliiI1(0x211,'nCp9')]))Object['assign'](Iil1iI,II111);else{const I11i1i=i1ilI[lliiI1(0x267,'o^v4')](IlI1l,lilIil);I11i1i>0x0&&(i1l1li[lliiI1(0x201,'Y7HC')]=I11i1i);}}II11il&&Object[lliiI1(0x295,'icIs')](II11il,II111);const lI1l1I={'url':II11ii,'method':iIIil1,'headers':{'Accept':lliiI1(0x2e2,'8%Iv'),'Accept-Encoding':i1ilI[lliiI1(0x2c3,'XhbI')],'Accept-Language':i1ilI[lliiI1(0x226,'0Vn0')],'Connection':i1ilI['LwJOX'],'Content-Type':i1ilI[lliiI1(0x2ae,'J^!a')],'Host':'api.m.jd.com','Referer':i1ilI[lliiI1(0x282,'0Vn0')],'Sec-Fetch-Dest':i1ilI[lliiI1(0x276,'YXT0')],'Sec-Fetch-Mode':i1ilI[lliiI1(0x228,'IcOr')],'Sec-Fetch-Site':i1ilI[lliiI1(0x1c9,'YXT0')],'User-Agent':i1ilI1,'Cookie':Iiilii},'params':II11il,'data':Iil1iI,'timeout':0x7530};i1ilI['jGRXG'](iIIil1,i1ilI[lliiI1(0x1ff,'o^v4')])&&(delete lI1l1I[lliiI1(0x227,'J^!a')],delete lI1l1I[lliiI1(0x262,'J^!a')][lliiI1(0x2c7,'M3ho')]);const lill11=0x3;let liI1i1=0x0,I11i11=null,I1llII=![];while(i1ilI[lliiI1(0x22b,'v%Wq')](liI1i1,lill11)){const l1l1iI=await common[lliiI1(0x20c,'IOG2')](lI1l1I);if(!l1l1iI[lliiI1(0x2af,'0rkm')]){if(i1ilI[lliiI1(0x2b3,'KW[Q')](i1ilI[lliiI1(0x2d3,'E@]i')],i1ilI[lliiI1(0x271,'nCp9')])){const I11i1l=ii1I1l['shift']();ii1I1i++,llI[lliiI1(0x2f2,'O[ds')](iIIilI[lliiI1(0x1d6,'KW[Q')](llliI,I11i1l));}else{I11i11=''+iii1lI+I1iIIl+lliiI1(0x220,'4$@*')+l1l1iI[lliiI1(0x2e3,'O[ds')]+lliiI1(0x21a,'SwLC'),liI1i1++;continue;}}if(!l1l1iI[lliiI1(0x1db,'S)l2')]){I11i11=''+iii1lI+I1iIIl+lliiI1(0x20f,'5Irt'),liI1i1++;continue;}i1ilI[lliiI1(0x2c0,'geEM')](i1il1,Ii1iii,l1l1iI[lliiI1(0x2b9,'FX$h')]),I1llII=![];break;}i1ilI['FYuyV'](liI1i1,lill11)&&(console['log'](I11i11),I1llII&&(i1ilI[lliiI1(0x302,'XhbI')](lliiI1(0x23b,'Y7HC'),i1ilI[lliiI1(0x278,'lDCD')])?$['outFlag']=!![]:(delete ii1I1I[lliiI1(0x2f5,'k]4V')],delete IiIl[lliiI1(0x2cd,'rqVd')][iIIilI['uGwGh']])));}}}async function concMain(Il1i1i=0x1,iIIili,Ii1iiI,Ilil1I,iliIiI){const IiiI1=ill1Ii,II11iI={'RYWzC':function(II11i,iI1Iii,liI1ii){return II11i(iI1Iii,liI1ii);},'wcnXl':function(lIIiIl){return lIIiIl();},'KvaAv':function(iI1Iil,il1iI){return iI1Iil===il1iI;},'hcblL':function(i1iIii,i1iIil){return i1iIii(i1iIil);},'ryHUf':IiiI1(0x1c7,'IOG2'),'JtvUc':function(liI1il,llIlIi){return liI1il>llIlIi;},'yFGXX':function(llIlIl,II11I){return llIlIl!==II11I;},'sfwpw':IiiI1(0x290,'FX$h'),'FENFi':function(il1i1,lIIiIi){return il1i1===lIIiIi;},'wFOPx':function(liI1iI){return liI1iI();},'SxqVA':'pt_pin','vkSSx':function(iI1Il1,i1iIl1){return iI1Il1===i1iIl1;},'eOdGs':function(i1lli1,llIlII,IIlII,lIIiII){return i1lli1(llIlII,IIlII,lIIiII);},'nLaxq':'https://h5.m.jd.com/babelDiy/Zeus/2PAAf74aG3D61qvfKUM5dxUssJQ9/index.html','LuiCR':IiiI1(0x207,'XhbI'),'bYDtr':'3.2.1.0','zrQDo':function(i1iIlI,li111){return i1iIlI<li111;},'RrpRA':function(liI1lI,lIIiI1){return liI1lI(lIIiI1);}},Il1i1l=iIIili[IiiI1(0x28a,'5H0Z')](ll1I1=>ll1I1),Iil1ii=II11iI[IiiI1(0x255,'gyeJ')](decodeURIComponent,common[IiiI1(0x2e7,'SqQb')](Ii1iiI,II11iI[IiiI1(0x22f,'5H0Z')])),lill1I=IiiI1(0x203,'E@]i')+Ilil1I+'】'+Iil1ii+'：',Ii1ii1=await common['getLoginStatus'](Ii1iiI);if(!Ii1ii1&&II11iI[IiiI1(0x216,'Y7HC')](typeof Ii1ii1,IiiI1(0x2ce,'Jap@'))){console[IiiI1(0x293,'##lB')](lill1I+'账号无效\x20🚫');return;}const Ilil11=notify['create'](Ilil1I,Iil1ii),i1ii1=common[IiiI1(0x2e5,'rqVd')](Iil1ii),{jsToken:il1ii}=await II11iI['eOdGs'](jsTk,i1ii1,II11iI[IiiI1(0x2a9,'8g*@')],{'bizId':II11iI[IiiI1(0x258,'E@]i')],'v':II11iI[IiiI1(0x1e7,'Y7HC')],'qs':'token='+iIIili[0x0]}),llI111={'cookie':Ii1iiI,'index':Ilil1I,'title':lill1I,'UA':i1ii1,'message':Ilil11,'jsToken':il1ii};let i1iIiI=0x0;async function IlllI1(Ii1ili){const lilII=IiiI1;await II11iI['RYWzC'](iliIiI,Ii1ili,llI111),i1iIiI--,II11iI[lilII(0x2b1,'geEM')](I1il11);}async function I1il11(){const iii1i1=IiiI1,iI1Ii1={'DGTPi':function(Ii1ill,llIlI1){const IIIiI=iii1II;return II11iI[IIIiI(0x2f7,'XhbI')](Ii1ill,llIlI1);},'aLBjz':function(iI1IiI,IIlI1){return II11iI['hcblL'](iI1IiI,IIlI1);}};if(iii1i1(0x1cc,'o^v4')===II11iI[iii1i1(0x243,'Y7HC')]){const i1iIll=iI1liI(()=>{const IllIll=iii1i1;iI1Ii1[IllIll(0x2ac,'Jap@')](i1i1I1,0x0)&&(iI1Ii1[IllIll(0x24a,'k]4V')](lli,i1iIll),liIlI());},0x64);}else while(i1iIiI<Il1i1i&&II11iI[iii1i1(0x29f,'E@]i')](Il1i1l[iii1i1(0x23c,'woxq')],0x0)){if(II11iI['yFGXX'](II11iI[iii1i1(0x2dc,'Jap@')],II11iI['sfwpw']))i1III=0x3;else{const liI1l1=Il1i1l[iii1i1(0x237,'YXT0')]();i1iIiI++,await IlllI1(liI1l1);}}}const lI1l11=Math[IiiI1(0x298,'lDCD')](Il1i1l['length'],Il1i1i),II11l=[];for(let IllIlI=0x0;II11iI[IiiI1(0x24d,'D[ae')](IllIlI,lI1l11);IllIlI++){const IiillI=Il1i1l[IiiI1(0x1f0,'k]4V')]();i1iIiI++,II11l[IiiI1(0x250,'J^!a')](II11iI['RrpRA'](IlllI1,IiillI));}await Promise[IiiI1(0x1ef,'D[ae')](II11l),II11iI[IiiI1(0x229,'S)l2')](I1il11),await new Promise(ili11I=>{const i1lllI=IiiI1,li11l=II11iI[i1lllI(0x22e,'geEM')](setInterval,()=>{const llIIi1=i1lllI;II11iI[llIIi1(0x1d7,'8%Iv')](i1iIiI,0x0)&&(II11iI[llIIi1(0x2de,'geEM')](clearInterval,li11l),II11iI[llIIi1(0x29e,'D[ae')](ili11I));},0x64);});}var version_ = 'jsjiami.com.v7';
// prettier-ignore
function Env(t,e){"undefined"!=typeof process&&JSON.stringify(process.env).indexOf("GITHUB")>-1&&process.exit(0);class s{constructor(t){this.env=t}send(t,e="GET"){t="string"==typeof t?{url:t}:t;let s=this.get;return"POST"===e&&(s=this.post),new Promise((e,i)=>{s.call(this,t,(t,s,r)=>{t?i(t):e(s)})})}get(t){return this.send.call(this.env,t)}post(t){return this.send.call(this.env,t,"POST")}}return new class{constructor(t,e){this.name=t,this.http=new s(this),this.data=null,this.dataFile="box.dat",this.logs=[],this.isMute=!1,this.isNeedRewrite=!1,this.logSeparator="\n",this.startTime=(new Date).getTime(),Object.assign(this,e),this.log("",`🔔${this.name}, 开始!`)}isNode(){return"undefined"!=typeof module&&!!module.exports}isQuanX(){return"undefined"!=typeof $task}isSurge(){return"undefined"!=typeof $httpClient&&"undefined"==typeof $loon}isLoon(){return"undefined"!=typeof $loon}toObj(t,e=null){try{return JSON.parse(t)}catch{return e}}toStr(t,e=null){try{return JSON.stringify(t)}catch{return e}}getjson(t,e){let s=e;const i=this.getdata(t);if(i)try{s=JSON.parse(this.getdata(t))}catch{}return s}setjson(t,e){try{return this.setdata(JSON.stringify(t),e)}catch{return!1}}getScript(t){return new Promise(e=>{this.get({url:t},(t,s,i)=>e(i))})}runScript(t,e){return new Promise(s=>{let i=this.getdata("@chavy_boxjs_userCfgs.httpapi");i=i?i.replace(/\n/g,"").trim():i;let r=this.getdata("@chavy_boxjs_userCfgs.httpapi_timeout");r=r?1*r:20,r=e&&e.timeout?e.timeout:r;const[o,h]=i.split("@"),n={url:`http://${h}/v1/scripting/evaluate`,body:{script_text:t,mock_type:"cron",timeout:r},headers:{"X-Key":o,Accept:"*/*"}};this.post(n,(t,e,i)=>s(i))}).catch(t=>this.logErr(t))}loaddata(){if(!this.isNode())return{};{this.fs=this.fs?this.fs:require("fs"),this.path=this.path?this.path:require("path");const t=this.path.resolve(this.dataFile),e=this.path.resolve(process.cwd(),this.dataFile),s=this.fs.existsSync(t),i=!s&&this.fs.existsSync(e);if(!s&&!i)return{};{const i=s?t:e;try{return JSON.parse(this.fs.readFileSync(i))}catch(t){return{}}}}}writedata(){if(this.isNode()){this.fs=this.fs?this.fs:require("fs"),this.path=this.path?this.path:require("path");const t=this.path.resolve(this.dataFile),e=this.path.resolve(process.cwd(),this.dataFile),s=this.fs.existsSync(t),i=!s&&this.fs.existsSync(e),r=JSON.stringify(this.data);s?this.fs.writeFileSync(t,r):i?this.fs.writeFileSync(e,r):this.fs.writeFileSync(t,r)}}lodash_get(t,e,s){const i=e.replace(/\[(\d+)\]/g,".$1").split(".");let r=t;for(const t of i)if(r=Object(r)[t],void 0===r)return s;return r}lodash_set(t,e,s){return Object(t)!==t?t:(Array.isArray(e)||(e=e.toString().match(/[^.[\]]+/g)||[]),e.slice(0,-1).reduce((t,s,i)=>Object(t[s])===t[s]?t[s]:t[s]=Math.abs(e[i+1])>>0==+e[i+1]?[]:{},t)[e[e.length-1]]=s,t)}getdata(t){let e=this.getval(t);if(/^@/.test(t)){const[,s,i]=/^@(.*?)\.(.*?)$/.exec(t),r=s?this.getval(s):"";if(r)try{const t=JSON.parse(r);e=t?this.lodash_get(t,i,""):e}catch(t){e=""}}return e}setdata(t,e){let s=!1;if(/^@/.test(e)){const[,i,r]=/^@(.*?)\.(.*?)$/.exec(e),o=this.getval(i),h=i?"null"===o?null:o||"{}":"{}";try{const e=JSON.parse(h);this.lodash_set(e,r,t),s=this.setval(JSON.stringify(e),i)}catch(e){const o={};this.lodash_set(o,r,t),s=this.setval(JSON.stringify(o),i)}}else s=this.setval(t,e);return s}getval(t){return this.isSurge()||this.isLoon()?$persistentStore.read(t):this.isQuanX()?$prefs.valueForKey(t):this.isNode()?(this.data=this.loaddata(),this.data[t]):this.data&&this.data[t]||null}setval(t,e){return this.isSurge()||this.isLoon()?$persistentStore.write(t,e):this.isQuanX()?$prefs.setValueForKey(t,e):this.isNode()?(this.data=this.loaddata(),this.data[e]=t,this.writedata(),!0):this.data&&this.data[e]||null}initGotEnv(t){this.got=this.got?this.got:require("got"),this.cktough=this.cktough?this.cktough:require("tough-cookie"),this.ckjar=this.ckjar?this.ckjar:new this.cktough.CookieJar,t&&(t.headers=t.headers?t.headers:{},void 0===t.headers.Cookie&&void 0===t.cookieJar&&(t.cookieJar=this.ckjar))}get(t,e=(()=>{})){t.headers&&(delete t.headers["Content-Type"],delete t.headers["Content-Length"]),this.isSurge()||this.isLoon()?(this.isSurge()&&this.isNeedRewrite&&(t.headers=t.headers||{},Object.assign(t.headers,{"X-Surge-Skip-Scripting":!1})),$httpClient.get(t,(t,s,i)=>{!t&&s&&(s.body=i,s.statusCode=s.status),e(t,s,i)})):this.isQuanX()?(this.isNeedRewrite&&(t.opts=t.opts||{},Object.assign(t.opts,{hints:!1})),$task.fetch(t).then(t=>{const{statusCode:s,statusCode:i,headers:r,body:o}=t;e(null,{status:s,statusCode:i,headers:r,body:o},o)},t=>e(t))):this.isNode()&&(this.initGotEnv(t),this.got(t).on("redirect",(t,e)=>{try{if(t.headers["set-cookie"]){const s=t.headers["set-cookie"].map(this.cktough.Cookie.parse).toString();s&&this.ckjar.setCookieSync(s,null),e.cookieJar=this.ckjar}}catch(t){this.logErr(t)}}).then(t=>{const{statusCode:s,statusCode:i,headers:r,body:o}=t;e(null,{status:s,statusCode:i,headers:r,body:o},o)},t=>{const{message:s,response:i}=t;e(s,i,i&&i.body)}))}post(t,e=(()=>{})){if(t.body&&t.headers&&!t.headers["Content-Type"]&&(t.headers["Content-Type"]="application/x-www-form-urlencoded"),t.headers&&delete t.headers["Content-Length"],this.isSurge()||this.isLoon())this.isSurge()&&this.isNeedRewrite&&(t.headers=t.headers||{},Object.assign(t.headers,{"X-Surge-Skip-Scripting":!1})),$httpClient.post(t,(t,s,i)=>{!t&&s&&(s.body=i,s.statusCode=s.status),e(t,s,i)});else if(this.isQuanX())t.method="POST",this.isNeedRewrite&&(t.opts=t.opts||{},Object.assign(t.opts,{hints:!1})),$task.fetch(t).then(t=>{const{statusCode:s,statusCode:i,headers:r,body:o}=t;e(null,{status:s,statusCode:i,headers:r,body:o},o)},t=>e(t));else if(this.isNode()){this.initGotEnv(t);const{url:s,...i}=t;this.got.post(s,i).then(t=>{const{statusCode:s,statusCode:i,headers:r,body:o}=t;e(null,{status:s,statusCode:i,headers:r,body:o},o)},t=>{const{message:s,response:i}=t;e(s,i,i&&i.body)})}}time(t,e=null){const s=e?new Date(e):new Date;let i={"M+":s.getMonth()+1,"d+":s.getDate(),"H+":s.getHours(),"m+":s.getMinutes(),"s+":s.getSeconds(),"q+":Math.floor((s.getMonth()+3)/3),S:s.getMilliseconds()};/(y+)/.test(t)&&(t=t.replace(RegExp.$1,(s.getFullYear()+"").substr(4-RegExp.$1.length)));for(let e in i)new RegExp("("+e+")").test(t)&&(t=t.replace(RegExp.$1,1==RegExp.$1.length?i[e]:("00"+i[e]).substr((""+i[e]).length)));return t}msg(e=t,s="",i="",r){const o=t=>{if(!t)return t;if("string"==typeof t)return this.isLoon()?t:this.isQuanX()?{"open-url":t}:this.isSurge()?{url:t}:void 0;if("object"==typeof t){if(this.isLoon()){let e=t.openUrl||t.url||t["open-url"],s=t.mediaUrl||t["media-url"];return{openUrl:e,mediaUrl:s}}if(this.isQuanX()){let e=t["open-url"]||t.url||t.openUrl,s=t["media-url"]||t.mediaUrl;return{"open-url":e,"media-url":s}}if(this.isSurge()){let e=t.url||t.openUrl||t["open-url"];return{url:e}}}};if(this.isMute||(this.isSurge()||this.isLoon()?$notification.post(e,s,i,o(r)):this.isQuanX()&&$notify(e,s,i,o(r))),!this.isMuteLog){let t=["","==============📣系统通知📣=============="];t.push(e),s&&t.push(s),i&&t.push(i),console.log(t.join("\n")),this.logs=this.logs.concat(t)}}log(...t){t.length>0&&(this.logs=[...this.logs,...t]),console.log(t.join(this.logSeparator))}logErr(t,e){const s=!this.isSurge()&&!this.isQuanX()&&!this.isLoon();s?this.log("",`❗️${this.name}, 错误!`,t.stack):this.log("",`❗️${this.name}, 错误!`,t)}wait(t){return new Promise(e=>setTimeout(e,t))}done(t={}){const e=(new Date).getTime(),s=(e-this.startTime)/1e3;this.log("",`🔔${this.name}, 结束! 🕛 ${s} 秒`),this.log(),(this.isSurge()||this.isQuanX()||this.isLoon())&&$done(t)}}(t,e)}
