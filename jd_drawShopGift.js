/*
活动名称：店铺关注有礼
活动链接：店铺首页关注按钮
环境变量：jd_drawShopGift_argv // 活动参数，支持两种格式：”<shopId(店铺id)>_<venderId(商家id)>“ 或 ”<活动店铺首页链接>“
        jd_drawShopGift_threads // 控制并发线程数（正整数），默认1，最大5
        jd_drawShopGift_interval // 自定义运行间隔时长（整数，单位毫秒），默认1000
        jd_drawShopGift_notify // 是否推送通知（true/false），默认不推送

⚠ 请勿滥用自动化工具解析的店铺链接作为变量使用本脚本！请确认活动有效性后再使用！
⚠ 因自动化程序滥用严重导致官方接口受影响，现在必须同时提供店铺和商家id才可运行！

高并发脚本，黑号领不到奖品
活动限制IP严重，建议使用代理，谨慎使用并发

cron:1 1 1 1 *

*/

const $ = new Env('店铺关注有礼')
var iｉl='jsjiami.com.v7';const Iil1lI=iii1II;function Iii11l(){const II11lI=(function(){return[iｉl,'ypnjOsOjkuixkaemiPM.ScXfoSLrmEbf.bv7WPyE==','s8oXW69PW70','pJlcLSoByq','kJddIXiTWR7cQvhcKmoCwuHaWRW','WPiHW50','WQ5HmZVcUG','pmkiWPtcLMO','W4hdUmkYgmk+W7hcG8k0hYu/WOtcVdbfW6u','W4tcMIrcWQVdLeLF','W7WTEW','W4NdVejqWQWA','W6yuWOxdLCokW5pdQXnQaSoYBCo0fa','oY3cQmoJqa','dtvccIO','W5jck3JdMgjxWQhdOCkEp01F','n8k3WQVdVLu','C8o3W4LlW4ZcRK4uaGpcHsVcK8kDu3GocSoyeSoTW4jG','W6ldSJdcUdlcNMVcGqGVCwr5rb05WROZe0/cIctcKIBdOa7cOMxOHi/LRPJKUAVOVyJOOPtPLBxPMj7ML5xPL4RVVBFPU6xOR5ldPmkfqvu','W7nskCkLja','W5H7WO3cTLe','i8k0WO/dT31b','usjuW4dcKW','WPiWqtNcMq','W7HJWPq','6iYr5y2l5RE95yU55lYX5OoY5AEB6lE/','iIVcUCoMCG','bc7cVmoRrNBdO8kuWQBdT8kSjLpcI8oOAh7dMSowW6/cLLD1W4aXWQRdSEAmQ+wiN+w5REwpS+E7N+EPPEAwQE++QUM4OEIUIfG','omkUWPldRsClWPJcT8oF','wfpcP2yGW64v','zCoiW4JdH8of','Btvg','W5JdTvjsWOO','W6tcNmk6','W55pjCkVdG','nSkzWQ7cT23cSCk6','5yYs5lIS5RA65yMl5OMX5yQC5l2k5PYG6Agc5y2P5yIM5AAx5zoe772e','W41RWO3cPN5G','WRjPW7HcbmkGWRfB','Dmo2W6vCW5/cQfW','W67cTeFcIG','c1/cGMG','ACkNW4BdGmka','dK7cHMWyW70YBColW7b2AXu','W6xOR7/MS5pLPiFOTBxdQEkDGb7MLQRLKRlLU4NML4hMJOa','rSk9W5/dNSkv','AcnkW4hcJq','W7/dGbmgDa','hmkxWPxcTCkCWQlcHWLvwaldGaC','W6VdUHy','W57dIe8','W7OcWOhdMmooW4ZdI1K','W5DSja','hSkLdWxdVa','5P6055+V5AA65zgp6AcY5yYk54UM5Oo6','CMZcMG','WQJcMSo7qCkBW4ZcPGZdMG','W4fNi8kviq','W6nGkmkYl8kL','W5zDe1JdIa','W7SgWOBdImo/W5FdR1G','bYtcKmoQrMm','W63cOWhcJCkrW700WODmW7BcOmoSWQRcJ0tcNmkoW74DW5j/WRRdOtxMT7BLIPNLJlxMLQq','pCkUWOy','WRL0wSkxW7W','jEocVUw4SEMrTUwELowFKEocOtzssGVdHhKVWP3cLCo2WQC4ECoDpSo1p3FcV8oSW4NdGSoAW4mufKDbruy','WRKQW71wW60','W7jLWOS','WP3cQrG','WOGIW55NW4C','4P66lEACSUIaJUAVKoEHJowLNEEtRHO','W4b0emk2eG','zmk3W6tdPCk0W4ddOmkdWRldSbpdSCkxb2jY','5y636yEX6kYc5PIhs8kKtd/cMmk5lJHCWQ0','WQdcNKRcRfdcUueV','W7ZdVmkkomkH','5BMh6zoy5zkm56st7727ia','WPn9gs7cJa','W5HcWPL/WPG','W4ddGLVcNSkzW4K','F8oUWPtdHNPjW5VcTSk9qhKGFmo1wLtdTcBdUxJdSCkeBmk/WOlcLcK','W4xdT3q','dxVcOx4U','5RA55yMD5lUp5A+O5z6D5OU45BsD6Acs6l+z','EwBcIxf9W6pdRY7cNSocF1b7WOXof8kjW4RcQga8W5eH','W5JdMtZcIa','WQXMW6jtiSk9','W4HDWPG4W5/dRxGEW4HmW4vpW4qiW57cOCkwW6NcLa','hZdcSColFa','gvVcMg0tW6S4zG','W5PUWPFcQ0m','kZDBgJ8PWQSM','W6dcOIRcO8kMW5q','W5fWx8koWRVdPq','WOKNW5RdKIa2WPDhbJxcH8kMvq','WOjIhd8','WOm1g8k/e8omW65e','W4xdR8kJmmkKW7G','WOlcGIK','W5pcRmkWW4hdVq','lCkzWRpcOgNcPmkwha','vvmdWRRdLG','W5L3WPS','W77dHCkNgSkX','4PIdjEIVHUAmM+s9JUwSJEAuGUs+IEAdOEwtGEwfUUI8VUIJTEIfS+AEKW','W4zpmfVdUwK','W7tdUhPZWPG','W63dPHSmFmo+WR4AW55uW6m+WRjE','D3dcRLD2W6/dUHxcGG','4PUoAUISLowhH+wURUs5NUw9KEILHUEzIUEmT+wHN+woUEMhTEwtO+weKEI/P+IHHUIgQoAEIa','F8oiWRe4WPFdRYaVW7q','W6xcJI9UWPO','FmoRW79B'].concat((function(){return['4P66moADG+EEV+ISGUAZGSkz','WQq9yWNcPa','WP1qW7b9mq','WQJdPr7dJLpdLmkeEG','Adjdl8oI','WRDCaXNdTW','W7FcPc/cPSkz','kmkDjt7dJG','W7dcGWFcO8kW','FhmMWPBdOG','W79CWOrFWPW','W5NdReWHkCo+','WRRdGbpdR3C','sr9QjCojWOGG','W71TnmkXb8kMW4y','W5jck2BdLx5uWOtdO8kp','W7JdIgK2jW','csFcMSoKyW','WOdcJKBcKfa','W4XWqmkYWQu','xSo2WOOJWQm','qX9TfCohWOaUWRFdImk8FWm8vq','W4X2WOZcK1LG','W4NcGdZcHmkl','W5XcWOD+WQu','smolW5ldGmolW7BdMtb1sHRdGZzZ','WONcGJ8','g8o+CSkhWQq','W7dcPJFcNCk3W7uUWRe','xmogW4NdVmoTW7u','W6VcLCoTW7JdSmkcrCkcwePPW4zHtSo2W5BcLq','xrrTiSog','W51QoW','4PMOzEIVSowGMUwfMEAJJEw/SUASUoEJKoEyVoEnMowJRowmNUMgLq','W7LVWPJdH8oAWRa5WPxcK1ldV8oUW7/dOCkBvW','W5BdR8keW54','W6VdHSomW7pcHW','W43dP8ohW4ZcQq','W4SYWQRdT8o6','WRBcGahdQ2q','5y245lQl5RAy5yIC5OUJ5yM85lYe5PY96Agy5yYF5yME5Awm5zgT77Y8','WROWAttcRSkv','8jABKtK','WQqQydtcSSkd','F8o6W64','WP3cJJtdQLfg','Bwuawfj5W7yctbXhmr0','W4nGl8kGmmoj','WPSQDG','x3JdKSk3gIFcPmo3W77cQmoS','uHz9hSol','WPOdW4e4','8lwQMCov','k8kPW4ZdUNjlW5VcTmkSAYa0lCk3kqFdTcBcShhdU8oXCSo2W5VdNgNdTh18e8o5W69qjCk0W7/cJxCeW5pdMudcMSoq','qCopW4VdQq','WQK/WQlcGSkhWPJdUCod','WRZcI8o9yCkBW4FcPGtdHIG6W6WhdI7cVa','kq7dGJLe','WRzlW63cLWrX','WPZcNmo6sCk6','W5vlWQ3cL3y','sCouW43dGmod','W65hWPhcKLG','nSkKWPxdU31jW4hdT8kkzNqRzmoJA1m','BwzujIipWReg','WOXDW4vLnW','WROUgMiU','W7hdSb8bEmoHWP5q','BSoYW79B','W61+WP7dP8oAWRS5WP3cJW','W7L2nuFdUCoiW40AW7pdLCk4gCkt','W6ddSau2DCo8WQD8W5jwW6TrWQCDlCklWP7cG1pdJbpdNJy','WQ3cI8oNtmkqW5NcHG4','q8obW4e','WQLNW7y','W4tcSrtcUSkI','W4rzWQ7dMSoy','WOqKW4LzW50','WRBcI8o6w8kuW4ZcQG','W6VcQdK','pCkSdGBdOuW','WOSQAqxcPCkFWOL2W6RdGCkhcG','WQz3A8klW6K','WOSTWRJcUCkv','W7q4WQKeySo6W6PqatCyW7/cQG','W5HtWPHZW4hcTdOvW5PCWOu','wNVcPwPu','W758WPVcGNG','WQjiWPRdImocW5ldSrjBcmo9jSoUumklWOddPN3cIrrNu3q','o8oztW','6lAi5y2U5PEw5Pws','gmopASkAWQe','WOPXW5nshW','WOvLD8kdW7Pg','WRpdQXa','WPb8bJxcHW','5P6y552c5Aw+5zcQ6AgZ5y2R54Qj5OgG','W53dOmoxW6FcMSkela','WQ3cO8oHzSk0','W5nojW','W7tcRZhcMCkQW7G','5BQu6zcO5z6G5z+S77+aW4tdVCkzWQFdGeBcSmomewrPcuxdICoJWQddMSk2W7dcH3FcMKGSnX3dLehcNCor','4P+0WQ7OH7pMNPFOVjdOOy/PGjlLIkxKUjZPLRlORzpcKa','W6fEWPDoWRW','W5nWqSkJ','WQnUla','WRtcKe3cU2xcPa','WPNcHYpdL14','WPNcUehcTwW','WRpcJulcR1FcUem6WPNdPmkIWQS','pCosD8kAWPWOWQ7dUgRdICkHW6VdHX7cMmkLh8oXo3ZdMSk3rSke','WQ1YjtxdU8oK','W4RcNSoQW6/dOG'].concat((function(){return['W5NdQSohW5e','W4pdS8kW','5RAL5yQI5lUH5A+w5z6C5OUk5BAI6Ag96lYX','W4DKrCkQ','pSk2caZdJxZdGSoarW','W5XSWRtcOfG','WOW7W5rQW4OF','WOrOA8kgW59w','W5tdP8kgW6lcRG','jEocVUw4SEMrTUwsQEELOEocOx0','W4JdU2C4nSo5e8o0WQbs','WODLdcJcJmotW43cI3FcGCkVWPFcJSoCn1LCWOuY','WPlcQrTQWOjz','ySo8WPm5WQW','i8kGWO/dLNXi','WOlcJJtdRfXvia','W7BcKCoSW7JdTmkWuG','W69WWR7dISo8','WQLNWR3dOCoIWQS0','CCkNW77dQCk0W4G','n8ktWRO','WRtcPu3cV0y','otHe','W6dcOIRcUSkkW7ST','W6BdGum2nG','FSo2W6jMW5dcO1aPdY/cMGlcJSkEsvm','W5XXWOFcHG','bLdcHwWeW60','W6ldVfaela','qHnH','4PMpW4VORRdLO7tLHQtMOi7LVyRMRANNOz7NM7tNJRpLO4RLJjVPH60','W6j25lU45yYV6yAH','WQ9To37dOCoRl3S','emk/WR/cGwa','WQaXCWhcS8olW5j0W5/dImkEqCkRDgdcPSkeWRxcHGn0W6ldKgVdGsjNWOVdGu8MkCkkhG','WORcUCoEWO3dUdjJEmoXW73dI8onW7W','W7DKWP/dQ8ogWQG','4PQ+i+IeL+wUUos5NoI9NoIJK+MwKUMzPEAvMEMvPEIUR+E9TUMxOEIVIa','WQeRzb3cTCkvWPGO','WR4YaW','W4RdQ8kyW47cPxaH','AgBcK0zWW77dLGi','W63cGHzBW4u3rfGgoW','omktWRpcP1JcT8kSeW','i8kHeGxdIu/dNG','fSksWRJcI28','j8klW5v9W4hcV3uqW6POW58toW','gmkIkWhdJW','W5bTxSk7WORdOayyW5hcP8kyWOpdNdBdL34lwa','ymkKW5BdP8k2','D23cNK5GW6JdUHu','W4hcIZHpWQddGwLDW48','W6VcTelcIJFcJCozl20','W4zxm0ldHa','CHfDfmoo','WPGHW5zdW4SmhmojWONdMq','WRD9W79ZpSkT','5lIt56YL5zo15BQ16zoV6kYY5AYf5y6K5lU/5lIv576+','WQ0KWRe','hc/cH8oyw2xdSa','W43dUmkpW7hcMG','WRhcLLS','a1hcKq','u8kMW6BdOSkq','W47dQCkYiCkJWQFdHCo1gXy5W4tcPxTbW7vQBCksWQzQwrOKW4bEfmkUW5ZcHsyEvM4','WRpdHCkKW7JdVmkHWPJdKq','WOP/W6n6ia','WRhdPrRdNW','W6ddOmk+W5dcOq','WOv5ASkAW51fmmkoqW','W4BcOmkOW5RdSq','W5tdOCko','W59dae/dGMXqWRBdRmkflMnAW4KefCkNfYxcJ8oQcW','5BMs6zoY5lQC5A2U5z245OUF6i2R5y+O5BUD6zkf5l685OoE5AEF6lsZ','WOvfW4RcJXu','W6n9jmkHa8kYW5a','W7TKWPO','4PQehoIUNUAmV+s8G+wTPoAuQEs9G+AbN+wsGUwfNUI9QoIJOEIeV+AERq','a1VcMg4cW7e','W4u0k8okWOSrBSk/swZcVCkdpq','W63cKCoXW6/dSmkLFSkk','mCoFua','qviF','DCo8W7e','zSo9WQumWRC','q1KDWQBdTSkenmomvCopWRZdLSozqmoVpG','mCkiWO/cGxS','ntHbcXK0','6i2b5y+B5RsJ5yMB5l2s5Ogn5AwO6lEn','WR11jcpdM8oN','W5vmsmkjWRy','tmopW5ldR8om','5P+1552H5AsH5zg76Akb5y2R54MF5OcEFa','W77dSWhcUcxcJvxcTG','W5VdIuVcH8kaW5LAeG','W4/cM8o3W53dLa','WRq0ha','W4tdGKBcJ8kqW492bq','tKK/WOpdGG','W4XIm3VdGW','W4/dSwS','W5ldLNRcOGapEdCntq','WRzGW75gd8kOWQXofrCYW5ZcI0NcMJvYW716W5O','cSkLntpdHW','W5VdOCkhW5JcOxC','W5pcTYrZWQe','W5rxl0FdMw5gWPhdRCkfmaTlWOihpCkEvtFcICo+h8oxwXraoHjprgpcLuW','y8osWRioWPO','44oy5O6v56s944gG6kY35yA56i2k5y6nW73dL8kybmkVpW','oSkacaZdVW'];}()));}()));}());Iii11l=function(){return II11lI;};return Iii11l();};(function(i1i11I,il1iIl,iii1ii,il1iIi,iii1il,II11li,I1l11i){return i1i11I=i1i11I>>0x7,II11li='hs',I1l11i='hs',function(iIIiiI,liiI1i,ililIi,lilIIl,ililIl){const II11l1=iii1II;lilIIl='tfi',II11li=lilIIl+II11li,ililIl='up',I1l11i+=ililIl,II11li=ililIi(II11li),I1l11i=ililIi(I1l11i),ililIi=0x0;const liiI1l=iIIiiI();while(!![]&&--il1iIi+liiI1i){try{lilIIl=parseInt(II11l1(0xd7,'FhgF'))/0x1+parseInt(II11l1(0xcc,'Hq5N'))/0x2+parseInt(II11l1(0xf8,'(vWj'))/0x3+parseInt(II11l1(0x8c,'TYAc'))/0x4+parseInt(II11l1(0x175,'rqNJ'))/0x5*(parseInt(II11l1(0x66,'d3Yl'))/0x6)+-parseInt(II11l1(0x132,'g%oE'))/0x7*(-parseInt(II11l1(0x173,'4t*o'))/0x8)+parseInt(II11l1(0x119,'#vWo'))/0x9*(-parseInt(II11l1(0x78,'d3Yl'))/0xa);}catch(i1l1II){lilIIl=ililIi;}finally{ililIl=liiI1l[II11li]();if(i1i11I<=il1iIi)ililIi?iii1il?lilIIl=ililIl:iii1il=ililIl:ililIi=ililIl;else{if(ililIi==iii1il['replace'](/[eryfPpbnXOLWuMExSk=]/g,'')){if(lilIIl===liiI1i){liiI1l['un'+II11li](ililIl);break;}liiI1l[I1l11i](ililIl);}}}}}(iii1ii,il1iIl,function(i1ill,I1l11l,lilIIi,i1l1Il,llIli,i1i11l,i1i11i){return I1l11l='\x73\x70\x6c\x69\x74',i1ill=arguments[0x0],i1ill=i1ill[I1l11l](''),lilIIi='\x72\x65\x76\x65\x72\x73\x65',i1ill=i1ill[lilIIi]('\x76'),i1l1Il='\x6a\x6f\x69\x6e',(0x1625a5,i1ill[i1l1Il](''));});}(0x6200,0xe962f,Iii11l,0xc6),Iii11l)&&(iｉl=Iil1lI(0x180,'Yz26'));const jdCookie=require('./jdCookie'),common=require(Iil1lI(0x90,'fLaq')),notify=require(Iil1lI(0x165,'!1pS'));console[Iil1lI(0x166,'2ct7')](''),console['log']('=========='+$[Iil1lI(0x1a9,'Hq5N')]+Iil1lI(0x15e,'g%oE')),console[Iil1lI(0x154,'!1pS')](Iil1lI(0x153,'Sckm')),console[Iil1lI(0x1a6,'rqNJ')](Iil1lI(0x130,'2l7m')),console[Iil1lI(0xe7,'g%oE')](Iil1lI(0x127,']V2^')),console[Iil1lI(0x91,'xyFW')]('jd_drawShopGift_notify\x20//\x20是否通知(true/false)，默认不推送'),console[Iil1lI(0x82,'TYAc')](Iil1lI(0x10e,'Nu^t')+$[Iil1lI(0xec,'3RZa')]+'提示结束=========='),console[Iil1lI(0xbd,'qtaz')]('');const activityArgv=process[Iil1lI(0xaa,'DHY!')]['jd_drawShopGift_argv']||'';let taskThreads=process[Iil1lI(0xfb,'dbAB')][Iil1lI(0x126,'0LhD')]||'1';const runInterval=process[Iil1lI(0xf5,'f#jB')][Iil1lI(0xa6,'xyFW')]||Iil1lI(0x13d,'3RZa'),isNotify=(process['env']['jd_drawShopGift_notify']||process[Iil1lI(0xbf,'d3Yl')][Iil1lI(0xf1,'V9n8')])===Iil1lI(0x174,'A^lE'),cookiesArr=Object['keys'](jdCookie)['map'](iI11II=>jdCookie[iI11II])[Iil1lI(0x72,'*(^y')](iIII1I=>iIII1I);function iii1II(_0x1e1c79,_0xd63d88){const _0x74fb38=Iii11l();return iii1II=function(_0x51477a,_0x3ef094){_0x51477a=_0x51477a-0x66;let _0x784464=_0x74fb38[_0x51477a];if(iii1II['GRkXvD']===undefined){var _0x3b5a25=function(_0x3bf779){const _0xf28f33='abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=';let _0x47301f='',_0x32a675='';for(let _0x577286=0x0,_0x2d3e74,_0x54ace2,_0x272f36=0x0;_0x54ace2=_0x3bf779['charAt'](_0x272f36++);~_0x54ace2&&(_0x2d3e74=_0x577286%0x4?_0x2d3e74*0x40+_0x54ace2:_0x54ace2,_0x577286++%0x4)?_0x47301f+=String['fromCharCode'](0xff&_0x2d3e74>>(-0x2*_0x577286&0x6)):0x0){_0x54ace2=_0xf28f33['indexOf'](_0x54ace2);}for(let _0x3f1a3c=0x0,_0x474515=_0x47301f['length'];_0x3f1a3c<_0x474515;_0x3f1a3c++){_0x32a675+='%'+('00'+_0x47301f['charCodeAt'](_0x3f1a3c)['toString'](0x10))['slice'](-0x2);}return decodeURIComponent(_0x32a675);};const _0x400a70=function(_0x241bd2,_0x4c769c){let _0x1a10e1=[],_0x17fef3=0x0,_0x1de3dd,_0x16d106='';_0x241bd2=_0x3b5a25(_0x241bd2);let _0x55942d;for(_0x55942d=0x0;_0x55942d<0x100;_0x55942d++){_0x1a10e1[_0x55942d]=_0x55942d;}for(_0x55942d=0x0;_0x55942d<0x100;_0x55942d++){_0x17fef3=(_0x17fef3+_0x1a10e1[_0x55942d]+_0x4c769c['charCodeAt'](_0x55942d%_0x4c769c['length']))%0x100,_0x1de3dd=_0x1a10e1[_0x55942d],_0x1a10e1[_0x55942d]=_0x1a10e1[_0x17fef3],_0x1a10e1[_0x17fef3]=_0x1de3dd;}_0x55942d=0x0,_0x17fef3=0x0;for(let _0xd032ab=0x0;_0xd032ab<_0x241bd2['length'];_0xd032ab++){_0x55942d=(_0x55942d+0x1)%0x100,_0x17fef3=(_0x17fef3+_0x1a10e1[_0x55942d])%0x100,_0x1de3dd=_0x1a10e1[_0x55942d],_0x1a10e1[_0x55942d]=_0x1a10e1[_0x17fef3],_0x1a10e1[_0x17fef3]=_0x1de3dd,_0x16d106+=String['fromCharCode'](_0x241bd2['charCodeAt'](_0xd032ab)^_0x1a10e1[(_0x1a10e1[_0x55942d]+_0x1a10e1[_0x17fef3])%0x100]);}return _0x16d106;};iii1II['DiaFWs']=_0x400a70,_0x1e1c79=arguments,iii1II['GRkXvD']=!![];}const _0x315ed1=_0x74fb38[0x0],_0x37c3cb=_0x51477a+_0x315ed1,_0x166f0e=_0x1e1c79[_0x37c3cb];return!_0x166f0e?(iii1II['qZydDk']===undefined&&(iii1II['qZydDk']=!![]),_0x784464=iii1II['DiaFWs'](_0x784464,_0x3ef094),_0x1e1c79[_0x37c3cb]=_0x784464):_0x784464=_0x166f0e,_0x784464;},iii1II(_0x1e1c79,_0xd63d88);}!cookiesArr[0x0]&&($[Iil1lI(0xa1,'KLVG')]($['name'],Iil1lI(0x115,'NV)G')),process[Iil1lI(0x185,'0LhD')](0x1));!(async()=>{const IiiliI=Iil1lI;notify[IiiliI(0xa7,'KLVG')]({'title':$[IiiliI(0x6e,'[!rA')]}),await Main(),isNotify&&notify[IiiliI(0x195,'V9n8')]()&&await notify[IiiliI(0xa0,'&83D')]();})()[Iil1lI(0x104,'[!rA')](ilil1i=>$[Iil1lI(0x1b1,'NV)G')](ilil1i))['finally'](()=>$['done']());async function Main(){const iii1iI=Iil1lI,IlIIi={'PxuTU':iii1iI(0xc7,'Nu^t'),'czLsx':iii1iI(0x12e,'DHY!'),'PnbyJ':function(IiI1l,illlII){return IiI1l===illlII;},'KVPOR':'ID不匹配','odSdE':iii1iI(0xab,'f#jB'),'EJJfw':function(iIII11,IiI1i){return iIII11>IiI1i;},'QodWG':iii1iI(0x17d,'&83D'),'ynttn':iii1iI(0x14b,'f#jB'),'WqeHT':function(llll1,lil11l){return llll1!==lil11l;},'OwrLp':iii1iI(0x182,'2l7m'),'iMLjq':function(i1i1Il,I1lIl1){return i1i1Il!==I1lIl1;},'gtIRf':'iBOOn','jUNtf':function(lil11i,IlIIl){return lil11i===IlIIl;},'PzsxZ':iii1iI(0x18c,'Sckm'),'EoOrO':function(lI1liI,i1i1Ii){return lI1liI===i1i1Ii;},'DxXHA':iii1iI(0xbe,'4d1Q'),'qzRDH':function(lllii,iI11Ii){return lllii(iI11Ii);},'niMdK':function(iIII1l,lllil){return iIII1l<lllil;},'fYDHf':function(iI11Il,iIII1i){return iI11Il===iIII1i;},'zjsvy':iii1iI(0x13f,'oRcQ'),'GpRaJ':function(iil1i1,il1i11){return iil1i1&&il1i11;},'Qjudw':function(IlIll1,IlIII){return IlIll1||IlIII;},'XacLf':iii1iI(0xf2,'TYAc'),'ZaLiq':function(ilil1l,illlIi){return ilil1l===illlIi;},'XXaKa':iii1iI(0x110,'f!Mm'),'LHZyJ':iii1iI(0x116,'f!Mm'),'DUjjD':iii1iI(0x187,'NV)G'),'RbyFC':iii1iI(0x18f,'dbAB'),'VfJwg':function(I1lIii,IiI1I){return I1lIii(IiI1I);},'PtvNJ':function(illlIl,i11ill){return illlIl!==i11ill;},'tikCL':'SXWdb','tZYiy':iii1iI(0x190,'W@6U')};try{if(!activityArgv){if(IlIIi[iii1iI(0x184,'d]nI')](iii1iI(0xb1,'Hq5N'),iii1iI(0x196,'2ct7'))){console['log'](IlIIi[iii1iI(0xeb,'TYAc')]);return;}else{i1l1li['log'](IlIIi[iii1iI(0x12b,'Tete')]);return;}}try{if(activityArgv[iii1iI(0xdb,'#vWo')](iii1iI(0x6f,'P]FU'))){if(IlIIi['iMLjq'](IlIIi[iii1iI(0x11c,'qtaz')],IlIIi[iii1iI(0x11c,'qtaz')]))II1lii[iii1iI(0x17b,'4t*o')](IlIIi[iii1iI(0x150,'V9n8')]);else{const {shopId:IIIl1i,venderId:liiII1,vendorId:IIIl1l}=common[iii1iI(0x1a4,'jgM$')](activityArgv);$[iii1iI(0x102,'KLVG')]=IIIl1i,$[iii1iI(0x148,'fLaq')]=liiII1||IIIl1l;}}else{const lllll=activityArgv[iii1iI(0xde,'V9n8')]('_');lllll['length']===0x2?($[iii1iI(0x95,'(vWj')]=lllll[0x0],$['venderId']=lllll[0x1]):$[iii1iI(0x106,']V2^')]=lllll[0x0];}}catch{console[iii1iI(0x11a,'p)o3')]('⚠\x20请填写格式正确的环境变量');return;}finally{if(IlIIi['jUNtf'](IlIIi['PzsxZ'],IlIIi[iii1iI(0x8a,'(vWj')])){if(!$['venderId']&&!$[iii1iI(0x17e,'V9n8')]){if(IlIIi[iii1iI(0x142,'oRcQ')](IlIIi[iii1iI(0x8e,'#vWo')],iii1iI(0x128,'c^h1'))){console[iii1iI(0x81,'[!rA')](IlIIi[iii1iI(0x118,'2l7m')]);return;}else{const iil1l1=II1Ii[iii1iI(0x163,'W@6U')]('_');IlIIi['PnbyJ'](iil1l1[iii1iI(0xf7,'g%oE')],0x2)?(lI1Il1[iii1iI(0x102,'KLVG')]=iil1l1[0x0],lilIi1[iii1iI(0x80,'6vK0')]=iil1l1[0x1]):IiilII[iii1iI(0xd2,'#vWo')]=iil1l1[0x0];}}}else ilI1ll['fix'](Iillii[iii1iI(0x86,'6vK0')]),IlI1iI['message'][iii1iI(0xcf,'NV)G')](IlIIi['KVPOR'])&&(l1lIli[iii1iI(0x13a,'4t*o')]=!![]);}if(!$[iii1iI(0x179,'qtaz')]||!$[iii1iI(0x9c,'Sckm')]){console['log'](iii1iI(0xf6,'dbAB'));return;}let IIIIIi;if($[iii1iI(0x106,']V2^')]&&!$['shopId']){let iiili1={'venderId':IlIIi[iii1iI(0xba,'f#jB')](String,$['venderId'])},ill11i,lllill,ill11l;for(let I1lIiI=0x0;IlIIi['niMdK'](I1lIiI,0x2);I1lIiI++){if(IlIIi[iii1iI(0x18d,'f!Mm')](IlIIi[iii1iI(0x85,'p)o3')],iii1iI(0x10b,'dbAB'))){ill11i=await common[iii1iI(0x124,'V9n8')](iiili1);let lllili=ill11i?.['shopBaseInfo']||{};IIIIIi=lllili['shopName']||'',lllill=lllili['shopId'],ill11l=lllili[iii1iI(0x7b,'Yz26')];if(IlIIi['GpRaJ'](IIIIIi,lllill)&&ill11l)break;iiili1={'shopId':String($[iii1iI(0x10a,'L@gp')])},IIIIIi='';}else{Illl1l=Illl1i?.[iii1iI(0xb3,'2ct7')];if(!lIIiil){IiiIli[iii1iI(0xe6,'4d1Q')](IlIIi['odSdE']),iillli[iii1iI(0x91,'xyFW')](I1l1Ii['getInlineContent']());return;}}}if(IlIIi[iii1iI(0xa8,'jgM$')](!lllill,!ill11l)){console[iii1iI(0x14c,'#vWo')](IlIIi['XacLf']);return;}else{if(IlIIi[iii1iI(0x160,'DHY!')](IlIIi[iii1iI(0x188,'TYAc')],IlIIi[iii1iI(0x17c,'DHY!')]))$['shopId']=lllill,$['venderId']=ill11l;else{const liiIII=I1llii(lilIll);IlIIi['EJJfw'](liiIII,0x0)&&(iliII1[iii1iI(0x13b,'TYAc')]=liiIII);}}}console['log']((IIIIIi?iii1iI(0x161,'*(^y')+IIIIIi+'\x0a':'')+iii1iI(0x9d,'oRcQ')+$[iii1iI(0x19c,'4t*o')]+iii1iI(0xd3,'*6OZ')+$[iii1iI(0xf9,'jgM$')]+'\x0a'),notify[iii1iI(0x140,'g%oE')]((IIIIIi?iii1iI(0xb2,'[!rA')+IIIIIi:'')+iii1iI(0x156,'[!rA')+$[iii1iI(0x1a3,'[!rA')]+'&venderId='+$['venderId']);try{const li1i11=IlIIi[iii1iI(0x16d,'2l7m')](parseInt,taskThreads);IlIIi['EJJfw'](li1i11,0x0)&&IlIIi[iii1iI(0x198,'4d1Q')](li1i11,0x1)&&(taskThreads=li1i11);}catch{IlIIi['fYDHf'](IlIIi[iii1iI(0x1a1,'xyFW')],IlIIi[iii1iI(0x18a,'YNq[')])?taskThreads=0x1:IliI1l[iii1iI(0x136,'MX(j')](lliiil[iii1iI(0xb9,'jgM$')]);}taskThreads=Math[iii1iI(0x177,'Nu^t')](taskThreads,0x5),$[iii1iI(0x170,'d3Yl')]=null;if(runInterval){if(IlIIi[iii1iI(0x17f,'K@VB')](IlIIi[iii1iI(0xef,'MX(j')],IlIIi[iii1iI(0x117,'0LhD')])){iIIII1[iii1iI(0xf0,'Hq5N')](IlIIi[iii1iI(0x14e,'c^h1')]);return;}else try{const IlIlll=IlIIi[iii1iI(0xd8,'f!Mm')](parseInt,runInterval);IlIlll>0x0&&(IlIIi[iii1iI(0xe8,'oRcQ')](IlIIi['tikCL'],IlIIi['tZYiy'])?$[iii1iI(0x15f,'4d1Q')]=IlIlll:(ii1li[iii1iI(0x158,'f#jB')]('❓'+IIll1+'\x20'+ll1il[iii1iI(0xee,'(vWj')](IiiIiI)),lilii['fix'](IlIIi[iii1iI(0x1a5,'YNq[')])));}catch{console['log'](iii1iI(0xce,'#vWo'));}}await common[iii1iI(0xd4,'qtaz')](taskThreads,cookiesArr,taskFnc);}catch(iil1ii){IlIIi[iii1iI(0x74,'4t*o')](iii1iI(0x178,'MX(j'),iii1iI(0x76,'4t*o'))?console[iii1iI(0x91,'xyFW')](iii1iI(0x9e,'Hq5N')+iil1ii):II1lil[iii1iI(0xaf,'p)o3')]=!![];}}async function taskFnc(il1i1i,lil111){const llIll=Iil1lI,i11ilI={'GZlqE':llIll(0x1a7,'NV)G'),'pFGAC':function(liiIIi,lil11I){return liiIIi>lil11I;},'XnWka':function(Iliii1,iIiIi){return Iliii1!==iIiIi;},'iUZEL':'BOqQw','XqZaO':llIll(0x9f,'W@6U'),'NGbmh':function(iil1ll,iiilil){return iil1ll===iiilil;},'afQRV':llIll(0x122,'2l7m'),'ZSBTl':llIll(0xc8,'W@6U'),'TraOv':llIll(0x101,'(vWj'),'OyBdO':llIll(0xa5,'4d1Q'),'PansT':'F10000','HMhnW':llIll(0x11f,'KLVG'),'fzkLg':llIll(0xdd,'3RZa'),'KdCUl':llIll(0xe2,'#vWo'),'IUTSg':llIll(0x125,'!1pS'),'qojUN':'未知奖品领取状态','iykUK':llIll(0x71,'g%oE'),'GrsaO':'未知活动状态','RfOFw':llIll(0x92,'K@VB'),'vldHc':llIll(0x7f,'Yz26'),'tGqtX':llIll(0xcb,'NV)G'),'aHnUo':llIll(0xc9,'KLVG'),'TohVA':llIll(0x69,'2l7m'),'HZuVN':llIll(0xd9,'&83D'),'cvFKl':function(iil1li,lillIl){return iil1li||lillIl;},'ZuFHY':llIll(0x10f,'TYAc'),'buavK':'gzip,\x20deflate,\x20br','vIyBc':llIll(0x6d,'!1pS'),'iaIib':'keep-alive','eDdUp':llIll(0x113,'V9n8'),'GUEKQ':llIll(0x162,'A^lE'),'yAHJe':'cors','vMhNA':llIll(0x8d,'W@6U'),'GdGyI':llIll(0x131,'!1pS'),'yElPs':'GET','LaZiF':llIll(0x89,'NV)G'),'QCoGt':function(iIiIl,iiilii){return iIiIl<iiilii;},'jtREw':llIll(0x19e,'W@6U'),'DACaL':'FRJNg','Abxah':function(li1i1i,IlIli1){return li1i1i!==IlIli1;},'hhDdS':llIll(0xae,'4t*o'),'UxJNC':llIll(0x144,'Yz26'),'gSDOR':'lHsAt','VkDBf':function(illIiI,lI1lli,Ill1l){return illIiI(lI1lli,Ill1l);},'JUUDA':function(llI1Il,ii1iii){return llI1Il>=ii1iii;},'OYPgv':function(i11iil,Ill1i){return i11iil(Ill1i);},'JfnKa':'boolean','uvfJZ':function(ii1iil,lllI1l){return ii1iil+lllI1l;},'ouqyp':function(i11iii,llI1Ii){return i11iii+llI1Ii;},'wbdxZ':llIll(0x159,'K@VB'),'CvJSA':function(lllI1i,li1i1l){return lllI1i*li1i1l;},'KCbEl':llIll(0x6b,'W@6U'),'uiPCn':function(II1i1,lI1lll){return II1i1-lI1lll;},'tXxMn':function(iIiII,iil1lI){return iIiII!==iil1lI;},'YkFtY':'DKLAA','yubXB':llIll(0x168,'MX(j'),'cpPTx':'MneOc','QcpdA':function(iiiliI,li1i1I){return iiiliI===li1i1I;},'wDYJS':llIll(0x167,'g%oE')};if($[llIll(0x12a,'!1pS')])return{'runEnd':!![]};const ii1ii1=i11ilI['OYPgv'](decodeURIComponent,common[llIll(0x19b,'YNq[')](il1i1i,llIll(0x191,'2ct7'))),llllI=notify[llIll(0x176,'DHY!')](lil111,ii1ii1),lllil1=await common[llIll(0x19f,'[!rA')](il1i1i);if(!lllil1&&typeof lllil1===i11ilI[llIll(0x8b,'P]FU')]){llllI[llIll(0x12d,'f#jB')](i11ilI['RfOFw']),console[llIll(0x134,'Tete')](llllI['getInlineContent']());return;}const iil1il=common[llIll(0x129,'4t*o')](ii1ii1),ilil1I=i11ilI['uvfJZ'](i11ilI[llIll(0x199,'&83D')](i11ilI[llIll(0x1ab,'[Pi!')],Math[llIll(0x97,'A^lE')](i11ilI[llIll(0x83,'Sckm')](Math[llIll(0xb7,'!1pS')](),0x2710-0x1869f))),0x1869f),i11il1=i11ilI['ouqyp'](i11ilI[llIll(0xe5,'Hq5N')](i11ilI[llIll(0xca,'qtaz')],Math['floor'](Math['random']()*i11ilI[llIll(0x114,'FhgF')](0x2710,0x1869f))),0x1869f),ii1iiI=common[llIll(0x120,'K@VB')](ii1ii1),lllilI=common[llIll(0x171,'Sckm')]();let ilil11='',illlI1='';await i11ilI[llIll(0xc1,'2ct7')](I1lIi1,i11ilI[llIll(0x135,'K@VB')]);if($['runEnd']||!illlI1){if(i11ilI['tXxMn'](i11ilI['YkFtY'],i11ilI[llIll(0x1ad,'Nu^t')]))i1illI=0x1;else{console[llIll(0xfc,'0LhD')](llllI[llIll(0x11d,'DHY!')]());if($[llIll(0x1af,'NV)G')])return{'runEnd':!![]};else return;}}else{ilil11=illlI1?.['activityId'];if(!ilil11){llllI['fix'](i11ilI['yubXB']),console[llIll(0xe3,'P]FU')](llllI[llIll(0x77,'!1pS')]());return;}}if(illlI1['followed']){if(i11ilI['NGbmh'](llIll(0xd6,'qtaz'),i11ilI['cpPTx'])){const ii1il1=await common[llIll(0xe0,'p)o3')](![],$['shopId'],il1i1i);if(!ii1il1&&typeof ii1il1===i11ilI[llIll(0x133,'[!rA')]){llllI['fix']('取关店铺失败'),console[llIll(0x91,'xyFW')](llllI[llIll(0xfe,'dbAB')]());return;}}else{IiilIi[llIll(0x147,'L@gp')](i11ilI['GZlqE']);return;}}if($[llIll(0x189,'3RZa')])await $[llIll(0x7c,'0LhD')]($[llIll(0x1a2,'Sckm')]);await I1lIi1(i11ilI['OyBdO']);if($[llIll(0xbc,'oRcQ')]){if(i11ilI[llIll(0x123,'d3Yl')](i11ilI[llIll(0x18e,'Sckm')],i11ilI['wDYJS']))return console[llIll(0x96,'3RZa')](llllI[llIll(0x70,'6vK0')]()),{'runEnd':!![]};else return;}if($['waitTime'])await $['wait']($['waitTime']);console[llIll(0x154,'!1pS')](llllI[llIll(0x15d,'oRcQ')]());function IIIl11(Ill1I,i11iiI){const iilli=llIll,lIli11={'eptHS':function(lllI1I,lillI1){const il1iII=iii1II;return i11ilI[il1iII(0xfd,'FhgF')](lllI1I,lillI1);},'qqLcN':function(IlIlii,i1l1i1){return IlIlii!==i1l1i1;}};if(i11ilI['XnWka'](i11ilI['iUZEL'],i11ilI[iilli(0x11b,'A^lE')]))try{switch(Ill1I){case iilli(0x169,'#vWo'):if(i11ilI[iilli(0x19d,'Sckm')](i11iiI[iilli(0xa9,'[Pi!')],'0')&&i11iiI[iilli(0x181,'#vWo')]&&i11iiI['result'])illlI1=i11iiI[iilli(0xb5,'0o$c')];else{if(i11iiI[iilli(0x194,'c^h1')]){if(i11ilI['afQRV']!==iilli(0xf3,'*(^y')){const iiillI=i1III(Ii1iIi);lIli11[iilli(0x16f,'4t*o')](iiillI,0x0)&&lIli11[iilli(0x15c,'rqNJ')](iiillI,0x1)&&(Ii1iIl=iiillI);}else llllI[iilli(0xd0,'XxfF')](i11iiI[iilli(0x193,'YNq[')]),i11iiI[iilli(0x13c,'0LhD')][iilli(0x107,'L@gp')](i11ilI[iilli(0x84,'f#jB')])&&($[iilli(0xe1,'TYAc')]=!![]);}else llllI['fix'](i11ilI['TraOv']);}break;case i11ilI[iilli(0x94,'TYAc')]:if(i11iiI[iilli(0xc3,'4t*o')]==='0'&&i11iiI[iilli(0x183,'FhgF')]&&i11iiI[iilli(0x67,'rqNJ')]){const {followCode:l1l111,followDesc:l1iIII,giftCode:llI1I1,giftDesc:IlIlil,alreadyReceivedGifts:lIli1I}=i11iiI[iilli(0x164,'L@gp')];switch(l1l111){case i11ilI[iilli(0x14a,'f!Mm')]:switch(llI1I1){case i11ilI[iilli(0x19a,'FhgF')]:for(const II1il of lIli1I){let lllI11=[II1il?.[iilli(0xe4,'2l7m')],II1il?.['rearWord']]['join']('');switch(II1il?.[iilli(0xad,'f!Mm')]){case 0x1:case 0x2:case 0x3:llllI[iilli(0x100,'d3Yl')](lllI11+'🗑️');break;case 0x4:llllI[iilli(0xc4,'g%oE')](lllI11+'🐶');break;case 0x6:llllI[iilli(0xcd,'f#jB')](lllI11+'🎟️');break;default:llllI[iilli(0x152,'2l7m')](lllI11);break;}}break;case'402':console[iilli(0x146,'Yz26')](IlIlil);for(let I1lIll of['抢完']){if(IlIlil['includes'](I1lIll)){$['runEnd']=!![],llllI[iilli(0x16b,'TYAc')](IlIlil);break;}}break;case i11ilI[iilli(0x75,'[!rA')]:llllI[iilli(0x149,'rqNJ')](i11ilI[iilli(0xc5,'2ct7')]);break;default:!lIli1I?i11ilI['NGbmh']('YiPWj',i11ilI[iilli(0x79,'TYAc')])?iIIl1I[iilli(0x151,'fLaq')]=I1iIli:llllI[iilli(0x10d,'2ct7')](iilli(0x1ae,'[Pi!')+llI1I1+'）'):(console[iilli(0x87,'Sckm')](iilli(0x105,'3RZa')+JSON[iilli(0x14d,'6vK0')](i11iiI[iilli(0xb0,'(vWj')])),llllI[iilli(0x1a0,'Nu^t')](i11ilI['qojUN']));break;}break;case i11ilI[iilli(0x143,'Tete')]:llllI[iilli(0x9b,'V9n8')](l1iIII);break;default:console[iilli(0x166,'2ct7')]('未知活动状态\x20'+JSON[iilli(0x7d,'f#jB')](i11iiI['result'])),llllI['fix'](i11ilI[iilli(0x73,'6vK0')]);}}else i11iiI[iilli(0x138,'qtaz')]?llllI['fix'](i11iiI[iilli(0xb8,'Nu^t')]):(console[iilli(0x109,'XxfF')]('❓'+Ill1I+'\x20'+JSON['stringify'](i11iiI)),llllI[iilli(0xc6,'YNq[')](i11ilI[iilli(0x17a,'dbAB')]));break;}}catch(II1ii){console[iilli(0x96,'3RZa')](iilli(0x15b,'(vWj')+Ill1I+'\x20请求响应\x20'+(II1ii[iilli(0xd5,'f!Mm')]||II1ii));}else IIli1i[iilli(0xfa,'xyFW')](iilli(0x139,'*(^y')+I1iIi1+'）');}async function I1lIi1(lillII){const IlllIl=llIll,ii1ilI={'gmykW':i11ilI['RfOFw']};if($[IlllIl(0x172,'&83D')])return;let lI1ll1='',iIiI1=null,liil1I=null,i11ii1=IlllIl(0x16a,']V2^'),IlIliI={};switch(lillII){case i11ilI[IlllIl(0xa3,'Nu^t')]:lI1ll1=i11ilI[IlllIl(0xb6,'FhgF')],IlIliI={'shopId':''['concat']($[IlllIl(0x14f,'c^h1')]||''),'source':i11ilI[IlllIl(0x112,'d]nI')],'displayWidth':i11ilI[IlllIl(0x108,'jgM$')],'sourceRpc':i11ilI['HZuVN'],'lng':i11il1,'lat':ilil1I,'venderId':''[IlllIl(0xa2,'4d1Q')]($[IlllIl(0x16e,'g%oE')]||'')},liil1I={'functionId':i11ilI[IlllIl(0x6a,'YNq[')]},iIiI1=common[IlllIl(0xb4,'A^lE')](await common[IlllIl(0x99,'[Pi!')](i11ilI[IlllIl(0x15a,'p)o3')],IlIliI));break;case i11ilI[IlllIl(0x93,'xyFW')]:lI1ll1=IlllIl(0xe9,'DHY!'),IlIliI={'follow':0x0,'shopId':''['concat']($[IlllIl(0x88,'f!Mm')]||''),'activityId':''[IlllIl(0x111,'Hq5N')](i11ilI[IlllIl(0xda,'oRcQ')](ilil11,'')),'sourceRpc':i11ilI[IlllIl(0x12c,'NV)G')],'venderId':''['concat']($[IlllIl(0x11e,'d]nI')]||'')},liil1I={'functionId':i11ilI[IlllIl(0x155,'(vWj')]},iIiI1=common['queryStringToObject'](await common[IlllIl(0xc0,'Sckm')](i11ilI['OyBdO'],IlIliI));break;default:console['log'](IlllIl(0x186,'A^lE')+lillII);return;}const l1iII1={'url':lI1ll1,'method':i11ii1,'headers':{'Accept':IlllIl(0x68,'rqNJ'),'Accept-Encoding':i11ilI[IlllIl(0x7a,'XxfF')],'Accept-Language':i11ilI[IlllIl(0x103,'&83D')],'Connection':i11ilI['iaIib'],'Content-Type':i11ilI[IlllIl(0x192,'3RZa')],'Cookie':il1i1i,'J-E-H':lllilI,'J-E-C':ii1iiI,'Sec-Fetch-Dest':i11ilI[IlllIl(0x1ac,'fLaq')],'Sec-Fetch-Mode':i11ilI[IlllIl(0x18b,'KLVG')],'Sec-Fetch-Site':i11ilI[IlllIl(0x9a,'6vK0')],'User-Agent':iil1il,'x-referer-package':IlllIl(0x16c,'W@6U'),'x-rp-client':i11ilI[IlllIl(0x157,'p)o3')]},'params':liil1I,'data':iIiI1,'timeout':0x7530};i11ilI[IlllIl(0x137,'c^h1')](i11ii1,i11ilI[IlllIl(0x10c,'V9n8')])&&(delete l1iII1[IlllIl(0x13e,'g%oE')],delete l1iII1['headers'][i11ilI[IlllIl(0x12f,'2l7m')]]);const iiill1=0x1;let lIli1i=0x0,IIIII1=null,I1lIlI=![];while(i11ilI[IlllIl(0x1aa,'[Pi!')](lIli1i,iiill1)){if(i11ilI[IlllIl(0xed,'Hq5N')](i11ilI[IlllIl(0xff,'qtaz')],i11ilI['DACaL'])){const ii1ill=await common[IlllIl(0xd1,'Hq5N')](l1iII1);if(!ii1ill[IlllIl(0xf4,'c^h1')]){if(i11ilI[IlllIl(0x8f,'4t*o')](i11ilI['hhDdS'],i11ilI['UxJNC'])){IIIII1=IlllIl(0x6c,'W@6U')+lillII+'\x20请求失败\x20➜\x20'+ii1ill['error'],lIli1i++;continue;}else ll1l1['log']('未知奖品领取状态\x20'+IllIIi[IlllIl(0xdc,'d]nI')](IllIIl[IlllIl(0x1b3,'Nu^t')])),IiiIi1['fix'](IlllIl(0x98,'L@gp'));}if(!ii1ill['data']){if(i11ilI[IlllIl(0xa4,'4d1Q')]('lHsAt',i11ilI['gSDOR'])){IIIII1=IlllIl(0x1b0,'YNq[')+lillII+IlllIl(0x141,'TYAc'),lIli1i++;continue;}else{lIIil1['log'](IIli1[IlllIl(0x1a8,'f#jB')]());if(II1liI['runEnd'])return{'runEnd':!![]};else return;}}i11ilI[IlllIl(0xdf,'YNq[')](IIIl11,lillII,ii1ill[IlllIl(0xac,'&83D')]),I1lIlI=![];break;}else{I1ilI1[IlllIl(0x1b2,'0LhD')](ii1ilI[IlllIl(0x197,'2l7m')]),iillll[IlllIl(0x109,'XxfF')](lIIilI[IlllIl(0xc2,'0LhD')]());return;}}i11ilI['JUUDA'](lIli1i,iiill1)&&(console[IlllIl(0x81,'[!rA')](IIIII1),I1lIlI&&($['outFlag']=!![]));}}var version_ = 'jsjiami.com.v7';
// prettier-ignore
function Env(t,e){"undefined"!=typeof process&&JSON.stringify(process.env).indexOf("GITHUB")>-1&&process.exit(0);class s{constructor(t){this.env=t}send(t,e="GET"){t="string"==typeof t?{url:t}:t;let s=this.get;return"POST"===e&&(s=this.post),new Promise((e,i)=>{s.call(this,t,(t,s,r)=>{t?i(t):e(s)})})}get(t){return this.send.call(this.env,t)}post(t){return this.send.call(this.env,t,"POST")}}return new class{constructor(t,e){this.name=t,this.http=new s(this),this.data=null,this.dataFile="box.dat",this.logs=[],this.isMute=!1,this.isNeedRewrite=!1,this.logSeparator="\n",this.startTime=(new Date).getTime(),Object.assign(this,e),this.log("",`🔔${this.name}, 开始!`)}isNode(){return"undefined"!=typeof module&&!!module.exports}isQuanX(){return"undefined"!=typeof $task}isSurge(){return"undefined"!=typeof $httpClient&&"undefined"==typeof $loon}isLoon(){return"undefined"!=typeof $loon}toObj(t,e=null){try{return JSON.parse(t)}catch{return e}}toStr(t,e=null){try{return JSON.stringify(t)}catch{return e}}getjson(t,e){let s=e;const i=this.getdata(t);if(i)try{s=JSON.parse(this.getdata(t))}catch{}return s}setjson(t,e){try{return this.setdata(JSON.stringify(t),e)}catch{return!1}}getScript(t){return new Promise(e=>{this.get({url:t},(t,s,i)=>e(i))})}runScript(t,e){return new Promise(s=>{let i=this.getdata("@chavy_boxjs_userCfgs.httpapi");i=i?i.replace(/\n/g,"").trim():i;let r=this.getdata("@chavy_boxjs_userCfgs.httpapi_timeout");r=r?1*r:20,r=e&&e.timeout?e.timeout:r;const[o,h]=i.split("@"),n={url:`http://${h}/v1/scripting/evaluate`,body:{script_text:t,mock_type:"cron",timeout:r},headers:{"X-Key":o,Accept:"*/*"}};this.post(n,(t,e,i)=>s(i))}).catch(t=>this.logErr(t))}loaddata(){if(!this.isNode())return{};{this.fs=this.fs?this.fs:require("fs"),this.path=this.path?this.path:require("path");const t=this.path.resolve(this.dataFile),e=this.path.resolve(process.cwd(),this.dataFile),s=this.fs.existsSync(t),i=!s&&this.fs.existsSync(e);if(!s&&!i)return{};{const i=s?t:e;try{return JSON.parse(this.fs.readFileSync(i))}catch(t){return{}}}}}writedata(){if(this.isNode()){this.fs=this.fs?this.fs:require("fs"),this.path=this.path?this.path:require("path");const t=this.path.resolve(this.dataFile),e=this.path.resolve(process.cwd(),this.dataFile),s=this.fs.existsSync(t),i=!s&&this.fs.existsSync(e),r=JSON.stringify(this.data);s?this.fs.writeFileSync(t,r):i?this.fs.writeFileSync(e,r):this.fs.writeFileSync(t,r)}}lodash_get(t,e,s){const i=e.replace(/\[(\d+)\]/g,".$1").split(".");let r=t;for(const t of i)if(r=Object(r)[t],void 0===r)return s;return r}lodash_set(t,e,s){return Object(t)!==t?t:(Array.isArray(e)||(e=e.toString().match(/[^.[\]]+/g)||[]),e.slice(0,-1).reduce((t,s,i)=>Object(t[s])===t[s]?t[s]:t[s]=Math.abs(e[i+1])>>0==+e[i+1]?[]:{},t)[e[e.length-1]]=s,t)}getdata(t){let e=this.getval(t);if(/^@/.test(t)){const[,s,i]=/^@(.*?)\.(.*?)$/.exec(t),r=s?this.getval(s):"";if(r)try{const t=JSON.parse(r);e=t?this.lodash_get(t,i,""):e}catch(t){e=""}}return e}setdata(t,e){let s=!1;if(/^@/.test(e)){const[,i,r]=/^@(.*?)\.(.*?)$/.exec(e),o=this.getval(i),h=i?"null"===o?null:o||"{}":"{}";try{const e=JSON.parse(h);this.lodash_set(e,r,t),s=this.setval(JSON.stringify(e),i)}catch(e){const o={};this.lodash_set(o,r,t),s=this.setval(JSON.stringify(o),i)}}else s=this.setval(t,e);return s}getval(t){return this.isSurge()||this.isLoon()?$persistentStore.read(t):this.isQuanX()?$prefs.valueForKey(t):this.isNode()?(this.data=this.loaddata(),this.data[t]):this.data&&this.data[t]||null}setval(t,e){return this.isSurge()||this.isLoon()?$persistentStore.write(t,e):this.isQuanX()?$prefs.setValueForKey(t,e):this.isNode()?(this.data=this.loaddata(),this.data[e]=t,this.writedata(),!0):this.data&&this.data[e]||null}initGotEnv(t){this.got=this.got?this.got:require("got"),this.cktough=this.cktough?this.cktough:require("tough-cookie"),this.ckjar=this.ckjar?this.ckjar:new this.cktough.CookieJar,t&&(t.headers=t.headers?t.headers:{},void 0===t.headers.Cookie&&void 0===t.cookieJar&&(t.cookieJar=this.ckjar))}get(t,e=(()=>{})){t.headers&&(delete t.headers["Content-Type"],delete t.headers["Content-Length"]),this.isSurge()||this.isLoon()?(this.isSurge()&&this.isNeedRewrite&&(t.headers=t.headers||{},Object.assign(t.headers,{"X-Surge-Skip-Scripting":!1})),$httpClient.get(t,(t,s,i)=>{!t&&s&&(s.body=i,s.statusCode=s.status),e(t,s,i)})):this.isQuanX()?(this.isNeedRewrite&&(t.opts=t.opts||{},Object.assign(t.opts,{hints:!1})),$task.fetch(t).then(t=>{const{statusCode:s,statusCode:i,headers:r,body:o}=t;e(null,{status:s,statusCode:i,headers:r,body:o},o)},t=>e(t))):this.isNode()&&(this.initGotEnv(t),this.got(t).on("redirect",(t,e)=>{try{if(t.headers["set-cookie"]){const s=t.headers["set-cookie"].map(this.cktough.Cookie.parse).toString();s&&this.ckjar.setCookieSync(s,null),e.cookieJar=this.ckjar}}catch(t){this.logErr(t)}}).then(t=>{const{statusCode:s,statusCode:i,headers:r,body:o}=t;e(null,{status:s,statusCode:i,headers:r,body:o},o)},t=>{const{message:s,response:i}=t;e(s,i,i&&i.body)}))}post(t,e=(()=>{})){if(t.body&&t.headers&&!t.headers["Content-Type"]&&(t.headers["Content-Type"]="application/x-www-form-urlencoded"),t.headers&&delete t.headers["Content-Length"],this.isSurge()||this.isLoon())this.isSurge()&&this.isNeedRewrite&&(t.headers=t.headers||{},Object.assign(t.headers,{"X-Surge-Skip-Scripting":!1})),$httpClient.post(t,(t,s,i)=>{!t&&s&&(s.body=i,s.statusCode=s.status),e(t,s,i)});else if(this.isQuanX())t.method="POST",this.isNeedRewrite&&(t.opts=t.opts||{},Object.assign(t.opts,{hints:!1})),$task.fetch(t).then(t=>{const{statusCode:s,statusCode:i,headers:r,body:o}=t;e(null,{status:s,statusCode:i,headers:r,body:o},o)},t=>e(t));else if(this.isNode()){this.initGotEnv(t);const{url:s,...i}=t;this.got.post(s,i).then(t=>{const{statusCode:s,statusCode:i,headers:r,body:o}=t;e(null,{status:s,statusCode:i,headers:r,body:o},o)},t=>{const{message:s,response:i}=t;e(s,i,i&&i.body)})}}time(t,e=null){const s=e?new Date(e):new Date;let i={"M+":s.getMonth()+1,"d+":s.getDate(),"H+":s.getHours(),"m+":s.getMinutes(),"s+":s.getSeconds(),"q+":Math.floor((s.getMonth()+3)/3),S:s.getMilliseconds()};/(y+)/.test(t)&&(t=t.replace(RegExp.$1,(s.getFullYear()+"").substr(4-RegExp.$1.length)));for(let e in i)new RegExp("("+e+")").test(t)&&(t=t.replace(RegExp.$1,1==RegExp.$1.length?i[e]:("00"+i[e]).substr((""+i[e]).length)));return t}msg(e=t,s="",i="",r){const o=t=>{if(!t)return t;if("string"==typeof t)return this.isLoon()?t:this.isQuanX()?{"open-url":t}:this.isSurge()?{url:t}:void 0;if("object"==typeof t){if(this.isLoon()){let e=t.openUrl||t.url||t["open-url"],s=t.mediaUrl||t["media-url"];return{openUrl:e,mediaUrl:s}}if(this.isQuanX()){let e=t["open-url"]||t.url||t.openUrl,s=t["media-url"]||t.mediaUrl;return{"open-url":e,"media-url":s}}if(this.isSurge()){let e=t.url||t.openUrl||t["open-url"];return{url:e}}}};if(this.isMute||(this.isSurge()||this.isLoon()?$notification.post(e,s,i,o(r)):this.isQuanX()&&$notify(e,s,i,o(r))),!this.isMuteLog){let t=["","==============📣系统通知📣=============="];t.push(e),s&&t.push(s),i&&t.push(i),console.log(t.join("\n")),this.logs=this.logs.concat(t)}}log(...t){t.length>0&&(this.logs=[...this.logs,...t]),console.log(t.join(this.logSeparator))}logErr(t,e){const s=!this.isSurge()&&!this.isQuanX()&&!this.isLoon();s?this.log("",`❗️${this.name}, 错误!`,t.stack):this.log("",`❗️${this.name}, 错误!`,t)}wait(t){return new Promise(e=>setTimeout(e,t))}done(t={}){const e=(new Date).getTime(),s=(e-this.startTime)/1e3;this.log("",`🔔${this.name}, 结束! 🕛 ${s} 秒`),this.log(),(this.isSurge()||this.isQuanX()||this.isLoon())&&$done(t)}}(t,e)}
