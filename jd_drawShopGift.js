/*
活动名称：店铺关注有礼
活动链接：店铺首页关注按钮
环境变量：jd_drawShopGift_argv // 活动参数，支持两种格式：”<shopId(店铺id)>_<venderId(商家id)>“ 或 ”<活动店铺首页链接>“
        jd_drawShopGift_threads // 控制并发线程数（正整数），默认1，最大5
        jd_drawShopGift_interval // 自定义运行间隔时长（整数，单位毫秒），默认1000
        jd_drawShopGift_notify // 是否推送通知（true/false），默认不推送

⚠ 请勿滥用自动化工具解析的店铺链接作为变量使用本脚本！请确认活动有效性后再使用！
⚠ 因自动化程序滥用严重导致官方接口受影响，现在必须同时提供店铺和商家id才可运行！

高并发脚本，黑号领不到奖品
活动限制IP严重，建议使用代理，谨慎使用并发

cron:1 1 1 1 *

*/

const $ = new Env('店铺关注有礼')
var iｉl='jsjiami.com.v7';const Iil1l1=iii1II;function Iii11l(){const II11li=(function(){return[iｉl,'egGjHsrjkSifGagrmHIQir.cLLyogMm.lWv7xGXw==','WOfBW7zhyuW','WPBdP2e','W60Mhq','vaVdLG','WPqhdmknWPi','4PQWxEIhQEwVJUs5SoI8QEIHL+MxVoMyPEAuNUMvUoIUPoE9VEMvNUIUOW','hhBcTmkctG','WQFcP3hcV8kZ','W7jkxSo/WRxdVmk2WOzHW4q','WPTcCSkDW7W','zmknutJcO8ouW4muW7OwWOm','C8knfcy','W6CGaG','lmo2WQ7dLG','WRNcI1ZcOmk0dq','WOnCrW','W6hcGCk2aSoIWP7cLLhdVwG','WOpdVNxdKmoy','5P+P556Y5AEZ5zgd6AoJ5yYq54M85OgyWOO','EfmEwtNcRKbqzr8','WQ7dMCo6sSk6W5ddNW','WR1rArtcOW','DHr7','WOvMWPxcSLxdTG','WR5Hrq','4PU7WOVORj/LHQ7LRzlKUz3LVPpOP6lNM5xNJzlLORNLJBpPH4ZLKzFLH73OVlZOOjBOHltMNiO','WOdcPSo9pLJcJaK','W6pdSY/dNmkQ','zSkpvtVdGmo5W4ykW44A','WQJcG1NcOmkffLjp','Dv8nDt3cTq','8jUwRo+4Ja','uJS9WQVcLW','5yYq5yso5BU96zcW5AEr6lA3','zmkfdspdVa','W7WhfCkc','y8kUWRLWW5C','4PIFW7FORQpMJi7KVBtLRlVMLk7KV6RMGAJLKB/LHjZOVktOOkpOHBRMNiS','FLuEEshcQ11hstJdQJpcNCkCc1a','8jgPNmo7','soIVIoAZPEwtN+w6OCo2','WRiIW7ddOra','W6ddRc5JWQK','W4eiDW','WPZdQ3FdNSoyW7y','WP/dNvpdKmoH','ESkbWOP2W68','bCogamo6yq','xmooWPZdQCkBl8o5WRlcKSkFsxe4W7JdNr5BvqpdLNlcQmkC','WOhJGz/LU7lPK5hLKkxNPyNJG70V','bZxcGd4S','W7v2umoGtbRcKCkLWPJdGW','haJcMSkUWOtdICksmW','gSoQWOFcGmkj','W7aLW5xcO0e','W6eWbq','sI0EWQ3cGCkWW6Wacq','WQqtW57dJSofW553Aa','5BMn6zoo5lIk5AYz5z+k5OMk6i+G5y6D5BQv6zoj5l6z5Oc65AEK6ls4','W4TDySomW7mWBZilm0K','4P6/dUAESUIdV+ATRoEHHUwLQ+ErJCkG','CCoLisK0','W7CUxmou','WPXZWQZdTq','WPhdVMNcLmoFW7BdVmkR','W6LfcComrW','ALGfqaBcOW','hqZcT8krWRG','W6eRoK9AW5JcM18FvMvixmkTf8ojxq8vWQ5JWQ9EiXFcKSoBW6/OHyBLR7JKUQFOVA/OOy7PL73PM4xMLBdPLl7VVARPUjlORQZcN8kaiuO','vSkZcsldLW','WOiwpmkVWRG','WRqzW6NdMIS','5BQS6zcn5z+R5z2M7769W7KJW7DvFhXBlCoYW57dU8oslqyvW7VdVqJcT0pcRMFdG8kIhxLeWQzcCq','WPRdSCo6xSk4','dCkAW5NcGSoeCCk5WO7cTmkywgaq','FbXPi10','CX8LWQVcHW','W6W3ASkZWRW','dsb6W5RdMW','W4bTvXJdJG','FbjK','W65GW4y','W68AeSksWQHfW6BcHW','W63dRblcKmkODa','W4Cttmk7WQu','WQvnjgKQW4LR','W7fMWP3cUHtcTSkLcmoqW4e','WPxcP8o8l3RcGr3dLa','tMJcKeObW67cJZVcJ33cR2Khx8odWOLL','ha5sW6VdKq','kWjsbhVdTqrexrNdKYZcJW','WPrlW6XisMa','ig3dJf9g','44om5O2S56AX44cU6kYO5yER6iYC5y66WOm6dXJcRvm','wG7dVNXGWRiVAa','WOK0aSkYWRO','W77cG1u','W7qweG','W4zoimon','v8kyWRW','WPZdOx4','WQCtW7u','iY5ZW5ddPG','WODwW7n3wq','W4TaimkgbxLubmo+vrrlW7SEvaG1WONcQW','5yYK5lUb5RAO5yU35OIK5yM/5lY25P6B6Aoc5y+J5yQu5AsP5zoy776X','WQOKW7BdTWBcPCkVkSoz','W7CIuSkoWQtdTtpcJL0WWO8OwILkeZWIWRZdGCoWgeSMW5LpWOZcHMTcwmk7s8oD','W6W+sCkoWP7cQW','4PIhjEIhP+wVQ+s7I+I+ToIIT+MxIUMANUAxQ+MxOoITP+E+QEMuS+ITTq','W49koCoHwcmncmoUB1vpW6Swvr4'].concat((function(){return['WQ4iW6rxWO8','44ok5O+K56s944gq6kYv5ysu6i+G5y6DqvWxpSk8Ea','WRrLqCohrHpcISkcWPNcVCkuBSkLWRThsW','W7pdQcxdJSk0','W5FdVSkNCq','W7GZuSkTWR/cOgZdPvK0WODVwW','W4SoAa','W4lcVchcJCkyWQZcO8k2Dmo0jmknhq','W43cSIFcQ8kdW4m','W61NW4G','m8oFWPZcLSk7lNLm','F2LyW7tdNq','W5ldVYnOWOKYWObbWOfijX7cI8kkpmkL','rCkVjJtdL8kKWOrn','WR/dK8oLxmk+W5C','zKmQW7xcLaa','ogNcJCkaBq','WRLKASoQwH7cLmk/WPtcKCklr8k4WRHDymoawG3dK8o+WP8M','W4qoFCoZ','WRqZW6ZdPre','W5qfW7S','WPP7W5jqFG','og/cMmkLBa','WR4zW5C','nSooWPVcLCkPCZm','W5ySwCoOW74','WPtdRSoGCSkS','wL8ercRcQuaeEaldTtG','bX7cQmkPWRddHCkfjmkE','WQ8YmW','4PUEboIeLUwTJos5KUI9OEIIHoMuN+MyVEAxRUMuNUIVH+E+V+MvPUISKG','WPVcK1FcL8kx','g+ISGoAYMEwKL+I2GSkX4P+lWQm','DSo7gGCsW6SC','WQ3cLwRcHmoJWR3cSCkluG','ymknctmqW7efWQG','omovWRNdR8oK','WPTZWQBdTq','WRZcUSoRpvy','W6rMW5K','jCoTdMVdMW','WPj5WRVdOWtcVCk+','zmkedZCnW7W','W7BcPstcM8kn','5BML6zkt5zgx56sk77+qFG','W7ZcJv/cQq','BSkhiYOg','WOb4W55ZFq','W4qoA8oL','a197WQJcVvq3wG','nX8FrcBcQ0CgFH7dPZJcHCkkoK5YWOvLWO5yWO4/','WPnZWQ8','5O2j56wf57QV5P6PW7akWPldNSk6WOZdKmoTWO7dRG','8kU4K0e','mKJdQNvd','W7ldPW/cKCk/CKxcHq','WPjSmMWT','WP9bW78','wmokWPZdMCkB','W7y4vCkBWQxcUW','W54gW7pcRMu','c1ddIxrCWRe','jCo1bmoKvIxdLW','WOVdS8oUs8kP','xLKZEJK','W70Qc09nW4VcPwG','qmk4jGRdHa','hJRcImk+WOu','WQeEW5/dMSoPW4G','WPVcP2hcN8kJ','omoeWOBcHCkPya','WQ4sW6q','eNpdSuTJ','W7O6afLrW6RcMh4Ev3jBwSkeaCo8uqiv','W4tdKbTyWOy','WOldU3FdVmocW7O','W7pdOWJcGCkoAwhcHa','4P6kxEADGoECR+ISL+AZKmoz','WPqZpmkzWPq','5P2c55+A5RAC5yQ654Qd5Oox','W64EfCkcWPLEW4lcHG','4P2yWRtOHA/MNyFOVQFOO4BPGlxLI5BKUlxPLi3ORzxcVq','W45RBH3dTWdcNK0','Emo7eG','Cmo1aqO','WQecW4ldG8ooW4TxAIq','tJGfWRdcU8k+W6Gd','WQJOR77MS7ZLPOROT7114P+6WORMLydLK7VLU67ML5BMJ4m','ALehvwlcQezasXldQW','gCoXWOVdMmoB','WRyGW5tdU8of','vCkMjZ/dGa','WP4gpq','WPqxa8kqWP0','W5JcSIdcJCkhW5GQq2GCW7tcTqWutJ9OvePvbSoyWRe','WOfpW7zMyeu','BCkIcqa9','l8o1a8oDCGe','W7JcIg3cQfxcJmoCW5BdGbCCEqBcHCocWObdgXZcHmkZW7C','svpcM34Y','sxehxZG','ySoXgW8sW7G7WOi','n8ojnuZdLG','W5elbCk/WOm','5P6Z556A5AsQ5zc36Agl5y+H54Iz5OoI','C1q1vd3cPKn6rbtdTrRcGmkFexT3WRrTWPu','jCoDwh81W6GhWPZcNmk7','WOrwrCkbWPVdS8krnmkVqW','WOxdR8orBmk3','WRqygCk/WOZdPG','WQZcLKlcVCk/gfzmhq','W5iLegD4','kCoEWOBcO8kMCa'].concat((function(){return['WRBcJupcI8oLuq8eva','W6ZJG5/LUitPKQxLNitLNQdJGAhdMtbbW5qmi8kwW4/cOZRdP1ZcGCoIAWVcVuJdRxThWPVdHwDDWR8njSkRW7C','WRbdiNeBW4fOWPq','6lwU5y2N5PAx5PEF','WRBcGutcSCkj','xG7cLIOcW6DnxLFcTmkAoCop','W58UDSowW7q','WROcW4tdMSotWPyriZZcMJDRECogfSkYW5q/Ce4XW51YzeCyW7i5W7dcS8kep8oSW6W','yKOSW7e','W7/dJcC','bc7cIG','W5BdTtLcWOyQ','WQvGef9bW5xcNYmLxhDQwCk4pmoLuq8fWOfvWPDqo17dM8kn','WPzxpSkZWPXWWOOjg8oZWO01','d1RdK19qWQuos3NcUW','WODwqCkvW5pdOmko','kCoGb8oYwsBdSCo3bfJdGd3cGa','v8oeWO8','tCooWOBdNSkwmSoaWP4','W4rakG','kmodWOFcLSkkDsuggmktxmoe','BcVdTa','pSoxbG','5RsU5yQd5lMi5A+D5z+15OMY5Bsa6Ac06l2W','W43cTJRcUSkaW5O','W41HuHxdSaxcJg1ICSoVWP7cRKZdRSoRqwBdSav1tCkFWQBMTO/LIzZLJihMLBq','5yYk5yEp5BIC6zof5AEU6lAg','pCocWPa','W65GiSooFG','W63dMWpdOSoMsGTHacemaJe','W6SAd8kdWQfd','WOatW7/dR8od','pcD4W4tdR04','W4bGEtJdRaJcKLbVxSoWWRFcS0/dTmoa','W57dVsFdM8kP','nSoBf2ddJq','smkFWRrwW7JdScFdS3PNkrLNW57dNSo7W49M','cgLCW7q','iuSYzWNdIhbHW5RcKwv5','f3ygWQdcRmk4W6OngxC','WRu4oSkrWRlcTCo9wq','zYFdV8ois8kCW7K','W4/dSNPPWOyWWPOcWQDfCWhdGSoEFSoXWPhdSCkuWPxdNSkGW7RdVqNcPKVcQdldQbFcJConWPLjrrtcJ2tdGmkYa2r4EG','h8oPWPBdT8oJ','bIBcHJa','umkPna','W5vGFGtdRHa','FCk6WQPWW5e','W7m5qq','W68zaxPn','CSo7gqCyW70HWO7dNgq','bmoAWR/dQmoX','qcOiWO3cIG','WPumlSkZWQqXvJ8ep247WP1yWPDU','WQ44j8kgWRBcOmor','W6Otl8kAWQu','W54wbNn5','WR10o202','eKVcMW','W4lcV0ddL8o5W7RdGCkz','W4LKybq','W6RdJtddHmkAW6K','W7fnWQ0','WRaybmkUWOxdOmkWWOW','WQVcNgZcGSoKWRJcTCoWbY/dRSkkaG','8jQ9S++5RW','oZzFW6tdPG','WPrlgfWn','tx3cKfakW5ZcLdhcPG','WQblrmoaW7rAW7/cGmoTW77cPq','4PMtdUITR+wHQEwgLUAGLow9OoASQoEJRUEBMUEpKowGGUwnMEMgJq','WOldQMNdO8osWOPNnJPm','W4SsgCkNWQK','WQGvW57dMSoA','EHjQoG','W5BcUsFcU8kDW4m','FCkipYm2W7KFWP7cJSk9zSkKf3ZdPqFdISkLtmokDHRcJCoqW6qu5PIc5zk16yk055YeWPpcJqKXW6/cKCkZo2O2D0xVV6ZPU7hORzxKUkFMJ7tPGBi','W5LQWQ3dVGhcV8kPumofAa','k8oIWRtdISovcX7cOa','gf9MWR/cUueB','nfvFWPVcVa','WQHtWQ3dPbm','5RwP5yIq5lMS5A2w5z695OQb5Bw76AoI6l2N','W7VdTXFdOmkg','WRddK8oS','5yYN6yEt6kY85PQEwmoNW6yKWPXOhXFdRdC','DXH3hvFcLxjMW5tcQ2H0zYiIW4q','WOmCp8kiWRmosYmieMybWOzYWPTWrmkwpW','WPLpymo2yW','WPSngCkvWQK','dLBdNW','WRq2W4ZdTJhcR8kNpa','s1uLDsW','WObgW7DYrKW','bcJcNJ0XW7tcTmo/','WOpcR2CxW5eDWQnFWR5Qaa','EsRdO8oly8kF','WOiDbCkkWQmZ','WRvPtq','WPzrpSk2W7KvWPGJkSoY','4PIKWQlORPBMJkxKVyhLROZMLBJKVidMG7VLK6ZLHApOVyVOO5JOHO3MN7i','b8o6EG','4PYcyUIeKEAENEI9K+IHTUMcNEwiH+s5Q+MuVEITUSo7','x8kLlW','WQnqkNiCW4bQWOeaW40Vhq','smkFWRrwW7JdScFdS3PNkrLNW57dGCo9W4XNbeW','W5xcSWVcUSkDW5yTwg8EW6hcSWyguXzVt0D1dSoh','WQjNsCktW4i','WPOBW4vhWQa','W591nmoVya'];}()));}()));}());Iii11l=function(){return II11li;};return Iii11l();};(function(iIiI1,liil1I,i11ii1,IlIliI,l1iII1,iiill1,lIli1i){return iIiI1=iIiI1>>0x7,iiill1='hs',lIli1i='hs',function(IIIII1,I1lIlI,ii1ill,II1iI,llI1II){const Iiili1=iii1II;II1iI='tfi',iiill1=II1iI+iiill1,llI1II='up',lIli1i+=llI1II,iiill1=ii1ill(iiill1),lIli1i=ii1ill(lIli1i),ii1ill=0x0;const lIli1l=IIIII1();while(!![]&&--IlIliI+I1lIlI){try{II1iI=-parseInt(Iiili1(0x231,'&#]r'))/0x1*(-parseInt(Iiili1(0x1dd,'V12!'))/0x2)+-parseInt(Iiili1(0x1a5,'P%8f'))/0x3+-parseInt(Iiili1(0x2ac,'qIg!'))/0x4*(-parseInt(Iiili1(0x1ef,'V12!'))/0x5)+-parseInt(Iiili1(0x21d,'F00K'))/0x6+-parseInt(Iiili1(0x18b,'2(rv'))/0x7+-parseInt(Iiili1(0x1c8,'r#@z'))/0x8*(-parseInt(Iiili1(0x20e,'qmSM'))/0x9)+parseInt(Iiili1(0x22d,'9zj7'))/0xa;}catch(lillIi){II1iI=ii1ill;}finally{llI1II=lIli1l[iiill1]();if(iIiI1<=IlIliI)ii1ill?l1iII1?II1iI=llI1II:l1iII1=llI1II:ii1ill=llI1II;else{if(ii1ill==l1iII1['replace'](/[SlfWwLkrXIMQHGxyge=]/g,'')){if(II1iI===I1lIlI){lIli1l['un'+iiill1](llI1II);break;}lIli1l[lIli1i](llI1II);}}}}}(i11ii1,liil1I,function(illIi1,ii1ili,liil1i,lI1lil,i1l1iI,liil1l,lI1lii){return ii1ili='\x73\x70\x6c\x69\x74',illIi1=arguments[0x0],illIi1=illIi1[ii1ili](''),liil1i='\x72\x65\x76\x65\x72\x73\x65',illIi1=illIi1[liil1i]('\x76'),lI1lil='\x6a\x6f\x69\x6e',(0x1625b2,illIi1[lI1lil](''));});}(0x6280,0xb68b3,Iii11l,0xc7),Iii11l)&&(iｉl=Iii11l);function iii1II(_0x42ad9e,_0x27b21e){const _0x5443d7=Iii11l();return iii1II=function(_0xa6cd3d,_0xa80c01){_0xa6cd3d=_0xa6cd3d-0x161;let _0x74bc42=_0x5443d7[_0xa6cd3d];if(iii1II['bpSiPf']===undefined){var _0x2e49ea=function(_0x13b163){const _0x51be58='abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=';let _0x5114b7='',_0x2bb50e='';for(let _0x3e694f=0x0,_0x21e5d7,_0xb60490,_0x183505=0x0;_0xb60490=_0x13b163['charAt'](_0x183505++);~_0xb60490&&(_0x21e5d7=_0x3e694f%0x4?_0x21e5d7*0x40+_0xb60490:_0xb60490,_0x3e694f++%0x4)?_0x5114b7+=String['fromCharCode'](0xff&_0x21e5d7>>(-0x2*_0x3e694f&0x6)):0x0){_0xb60490=_0x51be58['indexOf'](_0xb60490);}for(let _0x34fd3a=0x0,_0xd318c9=_0x5114b7['length'];_0x34fd3a<_0xd318c9;_0x34fd3a++){_0x2bb50e+='%'+('00'+_0x5114b7['charCodeAt'](_0x34fd3a)['toString'](0x10))['slice'](-0x2);}return decodeURIComponent(_0x2bb50e);};const _0x42785e=function(_0x22b6a2,_0x273d5d){let _0x11332b=[],_0x31bca9=0x0,_0x4bf7c5,_0x283ac0='';_0x22b6a2=_0x2e49ea(_0x22b6a2);let _0x18817d;for(_0x18817d=0x0;_0x18817d<0x100;_0x18817d++){_0x11332b[_0x18817d]=_0x18817d;}for(_0x18817d=0x0;_0x18817d<0x100;_0x18817d++){_0x31bca9=(_0x31bca9+_0x11332b[_0x18817d]+_0x273d5d['charCodeAt'](_0x18817d%_0x273d5d['length']))%0x100,_0x4bf7c5=_0x11332b[_0x18817d],_0x11332b[_0x18817d]=_0x11332b[_0x31bca9],_0x11332b[_0x31bca9]=_0x4bf7c5;}_0x18817d=0x0,_0x31bca9=0x0;for(let _0x443ad9=0x0;_0x443ad9<_0x22b6a2['length'];_0x443ad9++){_0x18817d=(_0x18817d+0x1)%0x100,_0x31bca9=(_0x31bca9+_0x11332b[_0x18817d])%0x100,_0x4bf7c5=_0x11332b[_0x18817d],_0x11332b[_0x18817d]=_0x11332b[_0x31bca9],_0x11332b[_0x31bca9]=_0x4bf7c5,_0x283ac0+=String['fromCharCode'](_0x22b6a2['charCodeAt'](_0x443ad9)^_0x11332b[(_0x11332b[_0x18817d]+_0x11332b[_0x31bca9])%0x100]);}return _0x283ac0;};iii1II['gvgcVS']=_0x42785e,_0x42ad9e=arguments,iii1II['bpSiPf']=!![];}const _0x2b8f3a=_0x5443d7[0x0],_0x20bab1=_0xa6cd3d+_0x2b8f3a,_0x41f6f9=_0x42ad9e[_0x20bab1];return!_0x41f6f9?(iii1II['ZfrGJi']===undefined&&(iii1II['ZfrGJi']=!![]),_0x74bc42=iii1II['gvgcVS'](_0x74bc42,_0xa80c01),_0x42ad9e[_0x20bab1]=_0x74bc42):_0x74bc42=_0x41f6f9,_0x74bc42;},iii1II(_0x42ad9e,_0x27b21e);}const jdCookie=require(Iil1l1(0x18c,'uEpy')),common=require(Iil1l1(0x274,'9zj7')),notify=require(Iil1l1(0x171,'(#qO'));console[Iil1l1(0x236,'OCYW')](''),console[Iil1l1(0x1b9,'I)*M')](Iil1l1(0x1e3,'I)*M')+$[Iil1l1(0x1a1,'G935')]+Iil1l1(0x1ba,'^kKQ')),console['log'](Iil1l1(0x17e,'G935')),console[Iil1l1(0x178,'(Bi(')]('jd_drawShopGift_threads\x20//\x20控制并发线程数，默认1'),console[Iil1l1(0x223,'2(rv')](Iil1l1(0x217,'(#qO')),console[Iil1l1(0x295,'wyQ$')](Iil1l1(0x1b1,'qIg!')),console[Iil1l1(0x259,'Qfa1')](Iil1l1(0x1ac,'8!ty')+$[Iil1l1(0x26f,'m]e%')]+Iil1l1(0x276,'J9g*')),console[Iil1l1(0x25f,'IRIJ')]('');const activityArgv=process[Iil1l1(0x238,'udQr')][Iil1l1(0x2ab,'9zj7')]||'';let taskThreads=process['env'][Iil1l1(0x253,'922R')]||'1';const runInterval=process['env']['jd_drawShopGift_interval']||Iil1l1(0x18a,'uEpy'),isNotify=(process[Iil1l1(0x24b,'arzF')][Iil1l1(0x1cf,'8!ty')]||process['env'][Iil1l1(0x2a4,'m]e%')])==='true',cookiesArr=Object['keys'](jdCookie)[Iil1l1(0x1eb,'922R')](iIli1i=>jdCookie[iIli1i])[Iil1l1(0x1e1,'MZQ4')](iI1lii=>iI1lii);!cookiesArr[0x0]&&($['msg']($[Iil1l1(0x235,'(Bi(')],Iil1l1(0x243,'FI5O')),process['exit'](0x1));!(async()=>{const i1i11I=Iil1l1;notify[i1i11I(0x27f,'&#]r')]({'title':$['name']}),await Main(),isNotify&&notify[i1i11I(0x173,'&#]r')]()&&await notify[i1i11I(0x1e0,'Ztm)')]();})()[Iil1l1(0x27c,'F00K')](IilIii=>$[Iil1l1(0x1f1,'9zj7')](IilIii))[Iil1l1(0x1ed,'XjqV')](()=>$[Iil1l1(0x267,'^kKQ')]());async function Main(){const il1iIl=Iil1l1,iI1lil={'ZwMgv':il1iIl(0x1f4,'SDpr'),'DEQKr':function(l1lIi1,iIli1l){return l1lIi1(iIli1l);},'lugBD':il1iIl(0x1b7,'V12!'),'ReOEc':function(i1i1II,liiIIl){return i1i1II===liiIIl;},'CjKIb':il1iIl(0x221,'a#3#'),'bRjPT':il1iIl(0x1ec,'I^aS'),'AoJWd':il1iIl(0x24c,'I^aS'),'OIhxZ':function(iil1iI,IlIllI){return iil1iI===IlIllI;},'zLVYV':il1iIl(0x199,'uEpy'),'HOIbV':il1iIl(0x208,'I^aS'),'xEAkb':il1iIl(0x1ab,'MfI)'),'XfFRk':il1iIl(0x1fd,'jJeM'),'yRoaz':il1iIl(0x1f8,'8!ty'),'oRTFt':function(il1i1I,lI1li1){return il1i1I!==lI1li1;},'IrpEb':'QTNmM','jKBno':function(iI11II,iIII1I){return iI11II||iIII1I;},'FMqag':function(ilil1i,IlIIi){return ilil1i(IlIIi);},'lajwd':function(IiI1l,illlII){return IiI1l>illlII;},'ghZiL':function(iIII11,IiI1i){return iIII11!==IiI1i;},'tqRlJ':function(llll1,lil11l){return llll1!==lil11l;},'MVwmV':il1iIl(0x2a9,'J9g*'),'ErVfZ':function(i1i1Il,I1lIl1){return i1i1Il>=I1lIl1;},'wNLXN':function(lil11i,IlIIl){return lil11i===IlIIl;},'sVFqr':il1iIl(0x210,'wyQ$'),'zNiGy':il1iIl(0x1d8,'2(rv')};try{if(!activityArgv){if(iI1lil[il1iIl(0x184,'Qfa1')]('CbqkX',iI1lil[il1iIl(0x190,'Ztm)')])){console[il1iIl(0x236,'OCYW')](iI1lil['bRjPT']);return;}else iIIl11[il1iIl(0x176,'F00K')](il1iIl(0x1cb,'a#3#')+l1l1I1);}try{if(activityArgv[il1iIl(0x294,'G935')](iI1lil[il1iIl(0x1b5,'3DbH')])){if(iI1lil['OIhxZ'](iI1lil[il1iIl(0x28a,'&#]r')],'FHclN')){IilliI[il1iIl(0x1e9,'2(rv')](iI1lil[il1iIl(0x278,'&#]r')]),IlI1ii[il1iIl(0x29e,'qmSM')](lIIiii[il1iIl(0x1bb,'2(rv')]());return;}else{const {shopId:iI11Ii,venderId:iIII1l,vendorId:lllil}=common[il1iIl(0x22b,')Isx')](activityArgv);$['shopId']=iI11Ii,$['venderId']=iIII1l||lllil;}}else{const iI11Il=activityArgv[il1iIl(0x1e4,'y0zc')]('_');if(iI1lil[il1iIl(0x232,'SDpr')](iI11Il[il1iIl(0x1ff,'y0zc')],0x2))$[il1iIl(0x1c2,'MfI)')]=iI11Il[0x0],$[il1iIl(0x20c,'Qfa1')]=iI11Il[0x1];else{if('gwZxM'!==il1iIl(0x284,'RPQ7'))$[il1iIl(0x273,'3DbH')]=iI11Il[0x0];else return{'runEnd':!![]};}}}catch{if(iI1lil['HOIbV']!==iI1lil[il1iIl(0x209,'uCX^')]){const il1i11=iI1lil['DEQKr'](I1llii,lilIll);il1i11>=0x0&&(iliII1[il1iIl(0x265,'qIg!')]=il1i11);}else{console[il1iIl(0x236,'OCYW')](iI1lil[il1iIl(0x1da,'MZQ4')]);return;}}finally{if(iI1lil[il1iIl(0x1c1,'9zj7')](iI1lil[il1iIl(0x1d1,'udQr')],iI1lil['XfFRk'])){if(!$['venderId']&&!$[il1iIl(0x23f,'TrSa')]){console[il1iIl(0x1cc,'RPQ7')](iI1lil['xEAkb']);return;}}else lI1Iil[il1iIl(0x177,'F00K')]=lilIiI[0x0];}if(!$[il1iIl(0x2a7,'wyQ$')]||!$['shopId']){console[il1iIl(0x275,'^kKQ')](iI1lil['yRoaz']);return;}let lI1liI;if($[il1iIl(0x283,'(#qO')]&&!$[il1iIl(0x1c5,'S50n')]){if(iI1lil['oRTFt'](iI1lil[il1iIl(0x26d,'8!ty')],il1iIl(0x19c,'J9g*'))){let IlIII={'venderId':String($[il1iIl(0x2a7,'wyQ$')])},ilil1l,illlIi,I1lIii;for(let IiI1I=0x0;IiI1I<0x2;IiI1I++){ilil1l=await common[il1iIl(0x247,'TrSa')](IlIII);let illlIl=ilil1l?.[il1iIl(0x179,'I^aS')]||{};lI1liI=illlIl[il1iIl(0x22a,'XjqV')]||'',illlIi=illlIl[il1iIl(0x23f,'TrSa')],I1lIii=illlIl[il1iIl(0x20c,'Qfa1')];if(lI1liI&&illlIi&&I1lIii)break;IlIII={'shopId':iI1lil[il1iIl(0x287,'MZQ4')](String,$[il1iIl(0x18d,'IRIJ')])},lI1liI='';}if(iI1lil['jKBno'](!illlIi,!I1lIii)){console[il1iIl(0x19f,'nc4*')](il1iIl(0x20d,'FI5O'));return;}else $[il1iIl(0x26c,'qIg!')]=illlIi,$[il1iIl(0x24f,'RPQ7')]=I1lIii;}else i1illI=0x1;}console['log']((lI1liI?il1iIl(0x26e,'qmSM')+lI1liI+'\x0a':'')+il1iIl(0x21b,'OCYW')+$[il1iIl(0x1a2,'P%8f')]+il1iIl(0x206,'922R')+$[il1iIl(0x1a4,'SDpr')]+'\x0a'),notify[il1iIl(0x175,'b@8n')]((lI1liI?il1iIl(0x204,'(#qO')+lI1liI:'')+il1iIl(0x166,'XjqV')+$['shopId']+il1iIl(0x1b2,'^kKQ')+$[il1iIl(0x18d,'IRIJ')]);try{const IIIIIi=iI1lil[il1iIl(0x21c,'I)*M')](parseInt,taskThreads);iI1lil[il1iIl(0x21e,'2(rv')](IIIIIi,0x0)&&iI1lil[il1iIl(0x222,'G935')](IIIIIi,0x1)&&(taskThreads=IIIIIi);}catch{if(iI1lil[il1iIl(0x1dc,'[YTu')](il1iIl(0x1f3,'uEpy'),iI1lil[il1iIl(0x202,'b@8n')]))taskThreads=0x1;else{Illl1l=Illl1i?.['activityId'];if(!lIIiil){IiiIli['fix'](iI1lil[il1iIl(0x242,'udQr')]),iillli[il1iIl(0x237,'y0zc')](I1l1Ii[il1iIl(0x19a,'qmSM')]());return;}}}taskThreads=Math[il1iIl(0x234,'J9g*')](taskThreads,0x5),$[il1iIl(0x167,'a%rb')]=null;if(runInterval)try{const I1lIil=parseInt(runInterval);iI1lil[il1iIl(0x29b,'Ztm)')](I1lIil,0x0)&&(iI1lil[il1iIl(0x21a,'bfVM')](il1iIl(0x22f,'&#]r'),il1iIl(0x25c,'I)*M'))?$[il1iIl(0x1b3,'Ztm)')]=I1lIil:I1i11I=llIliI[il1iIl(0x185,'a#3#')]);}catch{if(il1iIl(0x2a8,'V12!')!==iI1lil[il1iIl(0x271,'MfI)')])return;else console['log'](iI1lil[il1iIl(0x2a2,'qIg!')]);}await common['concTask'](taskThreads,cookiesArr,taskFnc);}catch(IIIl1l){console[il1iIl(0x1df,'(#qO')](il1iIl(0x293,'wyQ$')+IIIl1l);}}async function taskFnc(lllll,i11ili){const iii1ii=Iil1l1,iil1l1={'MTibt':'⚠\x20请填写格式正确的环境变量','dVdQe':iii1ii(0x2aa,'J9g*'),'saLMk':iii1ii(0x2a0,'8!ty'),'XYbVp':function(il1i1l,IlIlll){return il1i1l===IlIlll;},'bRHTU':iii1ii(0x270,'qIg!'),'IShhU':'ID不匹配','WnhlC':'获取活动信息失败','WOetv':'drawShopGift','wdkeN':iii1ii(0x1ea,'bfVM'),'GiYJv':iii1ii(0x20a,'922R'),'wZyGV':function(IIIl1I,iil1ii){return IIIl1I!==iil1ii;},'jMzzg':iii1ii(0x187,'P%8f'),'wUoeN':iii1ii(0x214,'(Bi('),'EWBoT':'不符合店铺设定参与人群','idCoc':function(IlIlli,il1i1i){return IlIlli===il1i1i;},'qJLya':iii1ii(0x1f5,'RPQ7'),'quUcu':iii1ii(0x2ae,'I)*M'),'iDrER':iii1ii(0x291,'&#]r'),'PAmow':iii1ii(0x163,'(#qO'),'zVphy':function(lil111,i11ilI){return lil111(i11ilI);},'WJWeJ':function(ii1ii1,llllI){return ii1ii1>=llllI;},'oSJiM':iii1ii(0x240,'G935'),'fnVwX':iii1ii(0x230,'I)*M'),'MNJEw':iii1ii(0x23a,'MfI)'),'utTUe':iii1ii(0x213,'y0zc'),'mlxae':iii1ii(0x23e,'TrSa'),'ZTprB':function(lllil1,iil1il){return lllil1||iil1il;},'eqMDi':iii1ii(0x18f,'jJeM'),'LbLjb':iii1ii(0x2ad,'[YTu'),'JFIoh':'application/x-www-form-urlencoded','nGDvO':'empty','xOyVX':iii1ii(0x254,'r#@z'),'CANzD':iii1ii(0x29a,'9zj7'),'MdvAa':iii1ii(0x192,'qIg!'),'wdIgt':iii1ii(0x252,'nc4*'),'SiSYB':function(ilil1I,i11il1){return ilil1I<i11il1;},'RmeQd':function(ii1iiI,lllilI){return ii1iiI===lllilI;},'rkVSK':iii1ii(0x1bd,'922R'),'RLYZR':iii1ii(0x201,'OCYW'),'zcnpz':function(ilil11,illlI1,IIIl11){return ilil11(illlI1,IIIl11);},'Zuxbb':iii1ii(0x1c6,'qmSM'),'dcvnX':iii1ii(0x228,'a%rb'),'RCyme':iii1ii(0x181,'(Bi('),'jxwFf':'账号无效','AKhZo':function(I1lIi1,liiIIi){return I1lIi1+liiIIi;},'FKdsw':iii1ii(0x1a3,'udQr'),'DqgCF':function(lil11I,Iliii1){return lil11I*Iliii1;},'CmMcK':function(iIiIi,iil1ll){return iIiIi-iil1ll;},'pWsbV':function(iiilil,iil1li){return iiilil+iil1li;},'qMVhR':iii1ii(0x246,'XjqV'),'pbiWh':function(lillIl,iIiIl){return lillIl-iIiIl;},'PIkOC':iii1ii(0x257,'MfI)'),'UYcXQ':iii1ii(0x17c,'jXFU'),'eyAre':iii1ii(0x17f,'I)*M'),'UNyib':function(iiilii,li1i1i){return iiilii(li1i1i);}};if($[iii1ii(0x164,'I^aS')])return{'runEnd':!![]};const lllli=decodeURIComponent(common['getCookieValue'](lllll,iil1l1[iii1ii(0x268,'XjqV')])),iiili1=notify['create'](i11ili,lllli),ill11i=await common['getLoginStatus'](lllll);if(!ill11i&&typeof ill11i===iil1l1[iii1ii(0x188,'V12!')]){if(iil1l1['RCyme']===iil1l1['RCyme']){iiili1[iii1ii(0x1c7,'922R')](iil1l1['jxwFf']),console['log'](iiili1['getInlineContent']());return;}else{IiilIi[iii1ii(0x289,'udQr')](iil1l1[iii1ii(0x1d0,'[YTu')]);return;}}const lllill=common[iii1ii(0x1e8,'FI5O')](lllli),ill11l=iil1l1[iii1ii(0x219,'IRIJ')](iil1l1[iii1ii(0x258,'nc4*')]+Math[iii1ii(0x27e,'uCX^')](iil1l1[iii1ii(0x261,'MZQ4')](Math[iii1ii(0x17d,'8!ty')](),iil1l1['CmMcK'](0x2710,0x1869f))),0x1869f),I1lIiI=iil1l1[iii1ii(0x285,'eX$y')](iil1l1['pWsbV'](iil1l1[iii1ii(0x25b,'r#@z')],Math[iii1ii(0x29d,'RPQ7')](Math[iii1ii(0x2a1,'MfI)')]()*iil1l1['pbiWh'](0x2710,0x1869f))),0x1869f),lllili=common[iii1ii(0x2a3,'b@8n')](lllli),IliiiI=common[iii1ii(0x22e,'MfI)')]();let Ill11='',liiIII='';await iil1l1[iii1ii(0x1ee,'P%8f')](iI11I1,iil1l1['saLMk']);if($[iii1ii(0x1c0,'bfVM')])await $['wait']($[iii1ii(0x1f0,'MZQ4')]);if($[iii1ii(0x1d3,'MfI)')]||!liiIII){console[iii1ii(0x1df,'(#qO')](iiili1['getInlineContent']());if($['runEnd']){if(iil1l1['PIkOC']!=='bioyF')return{'runEnd':!![]};else IliI1l['fix'](lliiil[iii1ii(0x1b4,'3DbH')]);}else return;}else{Ill11=liiIII?.[iii1ii(0x1e6,'9zj7')];if(!Ill11){iiili1[iii1ii(0x16f,'WJaB')](iil1l1[iii1ii(0x19d,'(#qO')]),console[iii1ii(0x17b,'V12!')](iiili1['getInlineContent']());return;}}if(liiIII[iii1ii(0x1c3,'WJaB')]){const lI1lli=await common[iii1ii(0x197,'wyQ$')](![],$[iii1ii(0x251,'jXFU')],lllll);if(!lI1lli&&typeof lI1lli===iii1ii(0x263,'wyQ$')){if(iil1l1[iii1ii(0x198,'Ztm)')]('icteX',iii1ii(0x169,'MZQ4'))){iiili1[iii1ii(0x1bf,'&#]r')](iil1l1[iii1ii(0x218,'RPQ7')]),console[iii1ii(0x17b,'V12!')](iiili1[iii1ii(0x24e,'jJeM')]());return;}else{I1ilI1[iii1ii(0x180,'I^aS')](iii1ii(0x168,'b@8n')),iillll[iii1ii(0x1e2,'[YTu')](lIIilI[iii1ii(0x241,'(Bi(')]());return;}}}if($['waitTime'])await $['wait']($[iii1ii(0x28e,'gId2')]);await iil1l1[iii1ii(0x27a,'a%rb')](iI11I1,iii1ii(0x1cd,'a%rb'));if($['runEnd'])return console[iii1ii(0x269,'arzF')](iiili1['getInlineContent']()),{'runEnd':!![]};if($[iii1ii(0x167,'a%rb')])await $[iii1ii(0x16d,'jXFU')]($[iii1ii(0x292,'J9g*')]);console[iii1ii(0x19f,'nc4*')](iiili1[iii1ii(0x244,'922R')]());function li1i11(llI1Il,ii1iii){const il1iIi=iii1ii,i11iil={'Dwtoj':iil1l1[il1iIi(0x266,'Ztm)')],'XEjEr':il1iIi(0x260,'nc4*')};try{switch(llI1Il){case iil1l1[il1iIi(0x220,'TrSa')]:if(ii1iii[il1iIi(0x272,'r#@z')]==='0'&&ii1iii[il1iIi(0x23d,'bfVM')]&&ii1iii[il1iIi(0x24a,'8!ty')])iil1l1[il1iIi(0x1f7,'OCYW')](iil1l1[il1iIi(0x1d9,'nc4*')],iil1l1[il1iIi(0x1b8,'P%8f')])?liiIII=ii1iii[il1iIi(0x193,'G935')]:(iIIl1l['shopId']=llIli1,iliIII[il1iIi(0x279,'gId2')]=iIIl1i);else ii1iii[il1iIi(0x280,'b@8n')]?(iiili1[il1iIi(0x17a,'S50n')](ii1iii[il1iIi(0x18e,'S50n')]),ii1iii[il1iIi(0x26b,'^kKQ')]['includes'](iil1l1['IShhU'])&&($[il1iIi(0x28d,'y0zc')]=!![])):iiili1[il1iIi(0x17a,'S50n')](iil1l1[il1iIi(0x290,'IRIJ')]);break;case iil1l1[il1iIi(0x281,'I)*M')]:if(ii1iii[il1iIi(0x212,'^kKQ')]==='0'&&ii1iii[il1iIi(0x25e,'eX$y')]&&ii1iii['result']){const {followCode:ii1iil,followDesc:lllI1l,giftCode:i11iii,giftDesc:llI1Ii,alreadyReceivedGifts:lllI1i}=ii1iii[il1iIi(0x161,'SDpr')];switch(ii1iil){case iil1l1['wdkeN']:switch(i11iii){case iil1l1[il1iIi(0x282,'9zj7')]:for(const li1i1l of lllI1i){if(iil1l1[il1iIi(0x2a5,')Isx')](iil1l1[il1iIi(0x245,'P%8f')],iil1l1['jMzzg']))return iI1lll['log'](l1lIll[il1iIi(0x186,'G935')]()),{'runEnd':!![]};else{let lI1lll=[li1i1l?.['redWord'],li1i1l?.[il1iIi(0x207,'eX$y')]][il1iIi(0x1af,'2(rv')]('');switch(li1i1l?.['prizeType']){case 0x1:case 0x2:case 0x3:iiili1[il1iIi(0x27d,'TrSa')](lI1lll+il1iIi(0x1f2,'2(rv'));break;case 0x4:iiili1[il1iIi(0x1b0,'8!ty')](lI1lll+'🐶');break;case 0x6:iiili1['insert'](lI1lll+il1iIi(0x1a6,'qIg!'));break;default:iiili1['insert'](lI1lll);break;}}}break;case il1iIi(0x1ca,'RPQ7'):console[il1iIi(0x256,'uCX^')](llI1Ii);for(let iIiII of['抢完']){if(iil1l1['wUoeN']!==iil1l1[il1iIi(0x26a,'V12!')])ii1li[il1iIi(0x27b,'MfI)')]('❓'+IIll1+'\x20'+ll1il[il1iIi(0x162,'MZQ4')](IiiIiI)),lilii[il1iIi(0x1fe,'r#@z')](i11iil['Dwtoj']);else{if(llI1Ii['includes'](iIiII)){$['runEnd']=!![],iiili1[il1iIi(0x226,'gId2')](llI1Ii);break;}}}break;case il1iIi(0x264,'P%8f'):iiili1['fix'](iil1l1['EWBoT']);break;default:!lllI1i?iiili1[il1iIi(0x224,'arzF')](il1iIi(0x23c,'XjqV')+i11iii+'）'):iil1l1['idCoc'](iil1l1[il1iIi(0x28c,'jJeM')],iil1l1[il1iIi(0x1fc,'bfVM')])?lI1Ili['log'](i11iil[il1iIi(0x227,'TrSa')]):(console[il1iIi(0x233,'m]e%')](il1iIi(0x1e5,'bfVM')+JSON[il1iIi(0x1a9,')Isx')](ii1iii['result'])),iiili1[il1iIi(0x1d4,'y0zc')](iil1l1[il1iIi(0x196,'(#qO')]));break;}break;case il1iIi(0x24d,'uEpy'):iiili1[il1iIi(0x1d4,'y0zc')](lllI1l);break;default:console['log']('未知活动状态\x20'+JSON[il1iIi(0x20b,'uEpy')](ii1iii[il1iIi(0x183,'J9g*')])),iiili1[il1iIi(0x16e,'P%8f')](iil1l1['iDrER']);}}else{if(ii1iii[il1iIi(0x280,'b@8n')])iiili1[il1iIi(0x1d5,'(#qO')](ii1iii[il1iIi(0x25a,'I^aS')]);else{if(iil1l1['XYbVp']('YjuLP',iil1l1[il1iIi(0x2a6,'9zj7')]))console['log']('❓'+llI1Il+'\x20'+JSON[il1iIi(0x297,'Qfa1')](ii1iii)),iiili1[il1iIi(0x1e9,'2(rv')](iil1l1[il1iIi(0x29c,'Qfa1')]);else{iIIII1['log'](il1iIi(0x1c9,'gId2'));return;}}}break;}}catch(illIii){console['log'](il1iIi(0x20f,'MfI)')+llI1Il+il1iIi(0x1fb,'&#]r')+(illIii[il1iIi(0x19b,'IRIJ')]||illIii));}}async function iI11I1(ii1il1){const iii1il=iii1ii;if(iil1l1[iii1il(0x1d2,'(Bi(')](iil1l1['MNJEw'],iil1l1['MNJEw']))try{const illIil=iil1l1[iii1il(0x19e,'a%rb')](l1i11I,II11II);iil1l1['WJWeJ'](illIil,0x0)&&(lilIli[iii1il(0x298,'uEpy')]=illIil);}catch{Iliill['log'](iil1l1[iii1il(0x200,'y0zc')]);}else{if($[iii1il(0x164,'I^aS')])return;let Ill1I='',i11iiI=null,lIli11=null,lllI1I=iii1il(0x211,'r#@z'),lillI1={};switch(ii1il1){case iii1il(0x203,'F00K'):Ill1I=iii1il(0x16c,'Qfa1'),lillI1={'shopId':''['concat']($[iii1il(0x286,'Qfa1')]||''),'source':iil1l1[iii1il(0x1a7,'a#3#')],'displayWidth':'1218.000000','sourceRpc':iii1il(0x189,'OCYW'),'lng':I1lIiI,'lat':ill11l,'venderId':''[iii1il(0x170,'jJeM')]($[iii1il(0x273,'3DbH')]||'')},lIli11={'functionId':iil1l1[iii1il(0x216,'eX$y')]},i11iiI=common[iii1il(0x28b,'(#qO')](await common['getSign'](iil1l1['saLMk'],lillI1));break;case iil1l1[iii1il(0x281,'I)*M')]:Ill1I=iil1l1[iii1il(0x239,'a#3#')],lillI1={'follow':0x0,'shopId':''[iii1il(0x250,'I)*M')]($[iii1il(0x215,'9zj7')]||''),'activityId':''['concat'](iil1l1['ZTprB'](Ill11,'')),'sourceRpc':iii1il(0x1ce,'OCYW'),'venderId':''[iii1il(0x288,'I^aS')]($[iii1il(0x225,'J9g*')]||'')},lIli11={'functionId':iil1l1['WOetv']},i11iiI=common[iii1il(0x1bc,'qmSM')](await common['getSign'](iil1l1[iii1il(0x1b6,'^kKQ')],lillI1));break;default:console[iii1il(0x248,'r#@z')](iii1il(0x28f,'SDpr')+ii1il1);return;}const IlIlii={'url':Ill1I,'method':lllI1I,'headers':{'Accept':iii1il(0x1d6,'nc4*'),'Accept-Encoding':'gzip,\x20deflate,\x20br','Accept-Language':iil1l1['eqMDi'],'Connection':iil1l1['LbLjb'],'Content-Type':iil1l1[iii1il(0x21f,'uEpy')],'Cookie':lllll,'J-E-H':IliiiI,'J-E-C':lllili,'Sec-Fetch-Dest':iil1l1['nGDvO'],'Sec-Fetch-Mode':iil1l1[iii1il(0x16b,'r#@z')],'Sec-Fetch-Site':iil1l1['CANzD'],'User-Agent':lllill,'x-referer-package':iii1il(0x23b,'(Bi('),'x-rp-client':iii1il(0x165,'MZQ4')},'params':lIli11,'data':i11iiI,'timeout':0x7530};lllI1I===iil1l1['MdvAa']&&(iil1l1[iii1il(0x1be,'qmSM')](iil1l1[iii1il(0x255,'bfVM')],iii1il(0x194,'OCYW'))?(delete IlIlii[iii1il(0x1de,'qIg!')],delete IlIlii[iii1il(0x174,'[YTu')][iii1il(0x25d,'9zj7')]):(lilIl1['msg'](i1l1ii['name'],iil1l1[iii1il(0x1d7,'qmSM')]),i1l1[iii1il(0x1f6,'J9g*')](0x1)));const i1l1i1=0x1;let liil11=0x0,iiillI=null,l1l111=![];while(iil1l1[iii1il(0x1a8,'a%rb')](liil11,i1l1i1)){const llI1I1=await common[iii1il(0x1e7,'I)*M')](IlIlii);if(!llI1I1['success']){if(iil1l1[iii1il(0x1ad,'J9g*')](iil1l1['rkVSK'],iil1l1[iii1il(0x22c,'a#3#')])){lIIil1[iii1il(0x195,'TrSa')](IIli1[iii1il(0x1f9,'9zj7')]());if(II1liI['runEnd'])return{'runEnd':!![]};else return;}else{iiillI=iii1il(0x1fa,'OCYW')+ii1il1+iii1il(0x262,'OCYW')+llI1I1[iii1il(0x205,'WJaB')],liil11++;continue;}}if(!llI1I1[iii1il(0x296,'wyQ$')]){iiillI=iii1il(0x277,'V12!')+ii1il1+iii1il(0x299,'arzF'),liil11++;continue;}iil1l1[iii1il(0x1ae,'Qfa1')](li1i11,ii1il1,llI1I1[iii1il(0x191,'WJaB')]),l1l111=![];break;}iil1l1[iii1il(0x29f,'IRIJ')](liil11,i1l1i1)&&(console['log'](iiillI),l1l111&&($['outFlag']=!![]));}}}var version_ = 'jsjiami.com.v7';
// prettier-ignore
function Env(t,e){"undefined"!=typeof process&&JSON.stringify(process.env).indexOf("GITHUB")>-1&&process.exit(0);class s{constructor(t){this.env=t}send(t,e="GET"){t="string"==typeof t?{url:t}:t;let s=this.get;return"POST"===e&&(s=this.post),new Promise((e,i)=>{s.call(this,t,(t,s,r)=>{t?i(t):e(s)})})}get(t){return this.send.call(this.env,t)}post(t){return this.send.call(this.env,t,"POST")}}return new class{constructor(t,e){this.name=t,this.http=new s(this),this.data=null,this.dataFile="box.dat",this.logs=[],this.isMute=!1,this.isNeedRewrite=!1,this.logSeparator="\n",this.startTime=(new Date).getTime(),Object.assign(this,e),this.log("",`🔔${this.name}, 开始!`)}isNode(){return"undefined"!=typeof module&&!!module.exports}isQuanX(){return"undefined"!=typeof $task}isSurge(){return"undefined"!=typeof $httpClient&&"undefined"==typeof $loon}isLoon(){return"undefined"!=typeof $loon}toObj(t,e=null){try{return JSON.parse(t)}catch{return e}}toStr(t,e=null){try{return JSON.stringify(t)}catch{return e}}getjson(t,e){let s=e;const i=this.getdata(t);if(i)try{s=JSON.parse(this.getdata(t))}catch{}return s}setjson(t,e){try{return this.setdata(JSON.stringify(t),e)}catch{return!1}}getScript(t){return new Promise(e=>{this.get({url:t},(t,s,i)=>e(i))})}runScript(t,e){return new Promise(s=>{let i=this.getdata("@chavy_boxjs_userCfgs.httpapi");i=i?i.replace(/\n/g,"").trim():i;let r=this.getdata("@chavy_boxjs_userCfgs.httpapi_timeout");r=r?1*r:20,r=e&&e.timeout?e.timeout:r;const[o,h]=i.split("@"),n={url:`http://${h}/v1/scripting/evaluate`,body:{script_text:t,mock_type:"cron",timeout:r},headers:{"X-Key":o,Accept:"*/*"}};this.post(n,(t,e,i)=>s(i))}).catch(t=>this.logErr(t))}loaddata(){if(!this.isNode())return{};{this.fs=this.fs?this.fs:require("fs"),this.path=this.path?this.path:require("path");const t=this.path.resolve(this.dataFile),e=this.path.resolve(process.cwd(),this.dataFile),s=this.fs.existsSync(t),i=!s&&this.fs.existsSync(e);if(!s&&!i)return{};{const i=s?t:e;try{return JSON.parse(this.fs.readFileSync(i))}catch(t){return{}}}}}writedata(){if(this.isNode()){this.fs=this.fs?this.fs:require("fs"),this.path=this.path?this.path:require("path");const t=this.path.resolve(this.dataFile),e=this.path.resolve(process.cwd(),this.dataFile),s=this.fs.existsSync(t),i=!s&&this.fs.existsSync(e),r=JSON.stringify(this.data);s?this.fs.writeFileSync(t,r):i?this.fs.writeFileSync(e,r):this.fs.writeFileSync(t,r)}}lodash_get(t,e,s){const i=e.replace(/\[(\d+)\]/g,".$1").split(".");let r=t;for(const t of i)if(r=Object(r)[t],void 0===r)return s;return r}lodash_set(t,e,s){return Object(t)!==t?t:(Array.isArray(e)||(e=e.toString().match(/[^.[\]]+/g)||[]),e.slice(0,-1).reduce((t,s,i)=>Object(t[s])===t[s]?t[s]:t[s]=Math.abs(e[i+1])>>0==+e[i+1]?[]:{},t)[e[e.length-1]]=s,t)}getdata(t){let e=this.getval(t);if(/^@/.test(t)){const[,s,i]=/^@(.*?)\.(.*?)$/.exec(t),r=s?this.getval(s):"";if(r)try{const t=JSON.parse(r);e=t?this.lodash_get(t,i,""):e}catch(t){e=""}}return e}setdata(t,e){let s=!1;if(/^@/.test(e)){const[,i,r]=/^@(.*?)\.(.*?)$/.exec(e),o=this.getval(i),h=i?"null"===o?null:o||"{}":"{}";try{const e=JSON.parse(h);this.lodash_set(e,r,t),s=this.setval(JSON.stringify(e),i)}catch(e){const o={};this.lodash_set(o,r,t),s=this.setval(JSON.stringify(o),i)}}else s=this.setval(t,e);return s}getval(t){return this.isSurge()||this.isLoon()?$persistentStore.read(t):this.isQuanX()?$prefs.valueForKey(t):this.isNode()?(this.data=this.loaddata(),this.data[t]):this.data&&this.data[t]||null}setval(t,e){return this.isSurge()||this.isLoon()?$persistentStore.write(t,e):this.isQuanX()?$prefs.setValueForKey(t,e):this.isNode()?(this.data=this.loaddata(),this.data[e]=t,this.writedata(),!0):this.data&&this.data[e]||null}initGotEnv(t){this.got=this.got?this.got:require("got"),this.cktough=this.cktough?this.cktough:require("tough-cookie"),this.ckjar=this.ckjar?this.ckjar:new this.cktough.CookieJar,t&&(t.headers=t.headers?t.headers:{},void 0===t.headers.Cookie&&void 0===t.cookieJar&&(t.cookieJar=this.ckjar))}get(t,e=(()=>{})){t.headers&&(delete t.headers["Content-Type"],delete t.headers["Content-Length"]),this.isSurge()||this.isLoon()?(this.isSurge()&&this.isNeedRewrite&&(t.headers=t.headers||{},Object.assign(t.headers,{"X-Surge-Skip-Scripting":!1})),$httpClient.get(t,(t,s,i)=>{!t&&s&&(s.body=i,s.statusCode=s.status),e(t,s,i)})):this.isQuanX()?(this.isNeedRewrite&&(t.opts=t.opts||{},Object.assign(t.opts,{hints:!1})),$task.fetch(t).then(t=>{const{statusCode:s,statusCode:i,headers:r,body:o}=t;e(null,{status:s,statusCode:i,headers:r,body:o},o)},t=>e(t))):this.isNode()&&(this.initGotEnv(t),this.got(t).on("redirect",(t,e)=>{try{if(t.headers["set-cookie"]){const s=t.headers["set-cookie"].map(this.cktough.Cookie.parse).toString();s&&this.ckjar.setCookieSync(s,null),e.cookieJar=this.ckjar}}catch(t){this.logErr(t)}}).then(t=>{const{statusCode:s,statusCode:i,headers:r,body:o}=t;e(null,{status:s,statusCode:i,headers:r,body:o},o)},t=>{const{message:s,response:i}=t;e(s,i,i&&i.body)}))}post(t,e=(()=>{})){if(t.body&&t.headers&&!t.headers["Content-Type"]&&(t.headers["Content-Type"]="application/x-www-form-urlencoded"),t.headers&&delete t.headers["Content-Length"],this.isSurge()||this.isLoon())this.isSurge()&&this.isNeedRewrite&&(t.headers=t.headers||{},Object.assign(t.headers,{"X-Surge-Skip-Scripting":!1})),$httpClient.post(t,(t,s,i)=>{!t&&s&&(s.body=i,s.statusCode=s.status),e(t,s,i)});else if(this.isQuanX())t.method="POST",this.isNeedRewrite&&(t.opts=t.opts||{},Object.assign(t.opts,{hints:!1})),$task.fetch(t).then(t=>{const{statusCode:s,statusCode:i,headers:r,body:o}=t;e(null,{status:s,statusCode:i,headers:r,body:o},o)},t=>e(t));else if(this.isNode()){this.initGotEnv(t);const{url:s,...i}=t;this.got.post(s,i).then(t=>{const{statusCode:s,statusCode:i,headers:r,body:o}=t;e(null,{status:s,statusCode:i,headers:r,body:o},o)},t=>{const{message:s,response:i}=t;e(s,i,i&&i.body)})}}time(t,e=null){const s=e?new Date(e):new Date;let i={"M+":s.getMonth()+1,"d+":s.getDate(),"H+":s.getHours(),"m+":s.getMinutes(),"s+":s.getSeconds(),"q+":Math.floor((s.getMonth()+3)/3),S:s.getMilliseconds()};/(y+)/.test(t)&&(t=t.replace(RegExp.$1,(s.getFullYear()+"").substr(4-RegExp.$1.length)));for(let e in i)new RegExp("("+e+")").test(t)&&(t=t.replace(RegExp.$1,1==RegExp.$1.length?i[e]:("00"+i[e]).substr((""+i[e]).length)));return t}msg(e=t,s="",i="",r){const o=t=>{if(!t)return t;if("string"==typeof t)return this.isLoon()?t:this.isQuanX()?{"open-url":t}:this.isSurge()?{url:t}:void 0;if("object"==typeof t){if(this.isLoon()){let e=t.openUrl||t.url||t["open-url"],s=t.mediaUrl||t["media-url"];return{openUrl:e,mediaUrl:s}}if(this.isQuanX()){let e=t["open-url"]||t.url||t.openUrl,s=t["media-url"]||t.mediaUrl;return{"open-url":e,"media-url":s}}if(this.isSurge()){let e=t.url||t.openUrl||t["open-url"];return{url:e}}}};if(this.isMute||(this.isSurge()||this.isLoon()?$notification.post(e,s,i,o(r)):this.isQuanX()&&$notify(e,s,i,o(r))),!this.isMuteLog){let t=["","==============📣系统通知📣=============="];t.push(e),s&&t.push(s),i&&t.push(i),console.log(t.join("\n")),this.logs=this.logs.concat(t)}}log(...t){t.length>0&&(this.logs=[...this.logs,...t]),console.log(t.join(this.logSeparator))}logErr(t,e){const s=!this.isSurge()&&!this.isQuanX()&&!this.isLoon();s?this.log("",`❗️${this.name}, 错误!`,t.stack):this.log("",`❗️${this.name}, 错误!`,t)}wait(t){return new Promise(e=>setTimeout(e,t))}done(t={}){const e=(new Date).getTime(),s=(e-this.startTime)/1e3;this.log("",`🔔${this.name}, 结束! 🕛 ${s} 秒`),this.log(),(this.isSurge()||this.isQuanX()||this.isLoon())&&$done(t)}}(t,e)}
