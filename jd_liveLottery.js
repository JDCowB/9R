/*
活动名称：京东直播互动抽奖
活动链接：https://h5.m.jd.com/dev/3pbY8ZuCx4ML99uttZKLHC2QcAMn/live.html?id=<直播间id>
环境变量：jd_liveLottery_ids // 直播间id，多个用英文逗号，@，换行分割
        jd_liveLottery_threads // 控制并发线程数（正整数），默认1，最大10
        jd_liveLottery_interval // 自定义运行间隔时长（整数，单位毫秒），默认1000
        jd_liveLottery_notify // 是否推送通知（true/false），默认不推送

高并发脚本，谨慎使用并发
活动限制IP严重，建议使用代理
黑号会持续擦肩，同一直播间活动请勿连续抽奖，以直播间悬浮标识为准

cron:1 1 1 1 *

*/

const $ = new Env('京东直播互动抽奖')
var iｉl='jsjiami.com.v7';const II11i1=iii1II;(function(I1l111,IIii1l,I1iIII,liiI11,ililI1,IIii1i,i1ili){return I1l111=I1l111>>0x9,IIii1i='hs',i1ili='hs',function(Iiill1,I1iII1,lilII1,iill1,iii1l1){const Ii1ilI=iii1II;iill1='tfi',IIii1i=iill1+IIii1i,iii1l1='up',i1ili+=iii1l1,IIii1i=lilII1(IIii1i),i1ili=lilII1(i1ili),lilII1=0x0;const IIliIl=Iiill1();while(!![]&&--liiI11+I1iII1){try{iill1=parseInt(Ii1ilI(0x1b7,'CeE9'))/0x1+-parseInt(Ii1ilI(0x2d8,'*9d%'))/0x2*(-parseInt(Ii1ilI(0x2af,'RXxi'))/0x3)+-parseInt(Ii1ilI(0x1dc,'$XYR'))/0x4*(parseInt(Ii1ilI(0x1d9,'rtBC'))/0x5)+parseInt(Ii1ilI(0x303,'KGL%'))/0x6*(-parseInt(Ii1ilI(0x2dd,'O!a4'))/0x7)+parseInt(Ii1ilI(0x2fa,'RXxi'))/0x8+parseInt(Ii1ilI(0x30f,'ONl#'))/0x9+-parseInt(Ii1ilI(0x252,'bgJ9'))/0xa;}catch(II11ll){iill1=lilII1;}finally{iii1l1=IIliIl[IIii1i]();if(I1l111<=liiI11)lilII1?ililI1?iill1=iii1l1:ililI1=iii1l1:lilII1=iii1l1;else{if(lilII1==ililI1['replace'](/[WXrgRfqCOYTkFNUudxyVD=]/g,'')){if(iill1===I1iII1){IIliIl['un'+IIii1i](iii1l1);break;}IIliIl[i1ili](iii1l1);}}}}}(I1iIII,IIii1l,function(liiI1I,ililII,lI1II1,i1ilII,iIIii1,IllIi1,lilIII){return ililII='\x73\x70\x6c\x69\x74',liiI1I=arguments[0x0],liiI1I=liiI1I[ililII](''),lI1II1='\x72\x65\x76\x65\x72\x73\x65',liiI1I=liiI1I[lI1II1]('\x76'),i1ilII='\x6a\x6f\x69\x6e',(0x1618f0,liiI1I[i1ilII](''));});}(0x19800,0xc9793,Iii11l,0xce),Iii11l)&&(iｉl=Iii11l);const jdCookie=require(II11i1(0x28c,'v!t)')),common=require('./utils/Rebels_jdCommon'),notify=require(II11i1(0x208,'ONl#'));console[II11i1(0x1f4,'G%6C')](''),console[II11i1(0x209,'SqTI')](II11i1(0x218,'CxcN')+$[II11i1(0x293,'rtBC')]+II11i1(0x1e2,'^JNI')),console[II11i1(0x1eb,'zJ7(')](II11i1(0x27c,'bgJ9')),console[II11i1(0x209,'SqTI')](II11i1(0x21b,'2V%$')),console[II11i1(0x20c,'!#DT')](II11i1(0x282,'MhLV')),console[II11i1(0x1c8,'GZif')](II11i1(0x2d2,'KGL%')),console[II11i1(0x20c,'!#DT')]('=========='+$[II11i1(0x23e,'o0d3')]+II11i1(0x2e0,'ONl#')),console['log']('');const liveIdList=(process[II11i1(0x30d,'2V%$')][II11i1(0x2f7,')H&d')]||'')[II11i1(0x2da,'zJ7(')](/[,@\n]+/g)[II11i1(0x1ee,'o0d3')](lllli=>lllli['trim']())[II11i1(0x228,'Zqk!')](Boolean);let taskThreads=process[II11i1(0x20d,'UtWD')][II11i1(0x306,'AQL8')]||'1';const runInterval=process[II11i1(0x308,'%Mr$')][II11i1(0x2dc,'$XYR')]||II11i1(0x2f5,'MhLV'),isNotify=(process['env'][II11i1(0x315,'o0d3')]||process[II11i1(0x21c,'AQL8')][II11i1(0x2fc,'CxcN')])==='true',cookiesArr=Object[II11i1(0x2cb,'G%6C')](jdCookie)[II11i1(0x1d7,'^8gD')](iiili1=>jdCookie[iiili1])[II11i1(0x219,'b#rX')](ill11i=>ill11i);function Iii11l(){const Ill11l=(function(){return[iｉl,'fNjUOsdNjDqTirYaNVWmkirkg.xcXoCm.RFyvuq7==','z8o1WOBcJCk0','WPjEWRFdRq','WO5/WOyXtCkWWPpcQdNdJd8pCYJcUmofWO/cHHFdQSk7W4JcRvXk5PI+5zok6ycy556xnIFcTmk9WOG6W7iMWQ9Qymkp772Z6BIy6kYC5lI85OY06yk6','CCotWQFcPSks','bwpcK3BcMq','kNOkW6ZdUq','W6y9kqpdVeD7W6WjW6FcPW','lrpcMqVcGmk8qa','WQzUgbldG0TnW4e','WQZcJSoe','CIn3fSox','CSk6Aa','WRq9Fmkrr8ouW4GLW6OZdHT4WOWvWOtdVYpdH8kWatyc','yZ9BWP7cRvFdOCopWQFdIxNdVZW','WRZdVCowi3dcNa','a+kERCkm','5O6156Ey57Ia5P2YB8kuW6DQxmouWOG1W6dcRW','iN8gW6RdSWm','BhGkpmk5W6/cPG','bSo0mK8PfIxcMmkGw2JdTsVcRva','cCoWnvuEnW','Bh3dN1T9W5m','fCkZWRzBnW','WOTUWQ0BsmkNWPe','vWbYg8ok','qf7dGSkxWQ0aW5tdQq','ztjVhG','CYvyb8oL','CmommSotAs1IWRFcU3lcKSoIthfHcZSsWPVcVL3cPehcRJRdLmo0C0hcVsmFs2dcGxRcL8o7W5rJW5JcIGFcVsu','BCobCCoosq','ufpdG3je','nKBcNfRcMG','WQpcJSohW58','BrBcTqldMWJdR8k8WOeWoYbbhCo+WRFdHCkzuCkPWONdTx0ua8kcW5FcVdFdUexdT29B','W5m9fv/cOX/dIcFdKW','WRLKWRJdKCkT','z33dN2Li','o8kul8kR','oSoDmfK6','WOFcTSkNW71MxSkAlfRdK3xcP8kMW619bZqW','W7GgAJOO','4PYiWOxMNRhNNjxOR4hMSBddLW','n8kXwmkqfg5lWPrYWQfsW7JcTwy','CoIVVEAWQUwMNUI2UeFINy7cU+AuHowrIEw6U+AxRoAmOG','qL/cHmk1W4PuW681WOHZW6rhtCkjetBdV3z+WQRdSa','dshcKSoUdG','WRpcGmooW59hWOBdRmkUW57dJva','4P2mooAEM+IdGEATQUEJLEwNV+EtLgi','WPyXWOKegG','WQj2WRCKAG','WRZdT3ukuW','W5uJWO4XBSkUWRpcVq','WPWmj8owW4a','dsZdRCoJWOO','W5zWW7RdT07dOCkIntriqYGpW6hdLJn6W7aKWRLqDq','WPz+WQGOqCk1WOi','E8k7Eq','W7mFW6qpW4alj8kQxCkmWPRdJ8k2iCoHW5bMWRir','mX/cNHVcPmkSqe/dJ8kzW4yBW57cNmo5W7i','6lAz5y6L5PAb5PwJ','eaNcMCoeW4PuW5tdGCoCfh8K','W73dJJy','6lw25y+95PAi5PEN','uSoAW6avymkDW64sc8k+W51rWPm','WPDFgSkw','uCktsgqhW4zzWRKMWQWb','WRSHsSkj','WO0xA8korG','oaddVSoNWOJcMKu','WQRcHCo8W5ydWP/dU8klW5BdKeRdHmkRWQSWDg8hxSo7Da','dCkYWP9Mga','5P65556O5RsZ5yU+54Ue5Ogn4PYq','tCkxveqh','W6lcOSoMnNtcKanM','W6ZcIxldKgf8','yuddTmkSWO0','awqTW4RdRG','wvJcTmkYpmoqtmoF','55Iz5Pg/6zsmW5Hl77YY','W7GvW6q3W4OEn8kwA8kpWPRdICkNfG','W6uDAXeh','WQFdTCojmM3cKqXh','C8ofwCoVuq','zSonACo+qsC','WOhcU8koW7rgta','W7VdKJS+W7VcSNTQWQ9DWPVdLW','WPlcI8k2rqa','oXOncSkx','B8oBWOZcQSkCsCkKya','WQjyWPNdICkF','qf7dImkr','gXWA','pu8/W7JdSG','W687W7tdUaRcJmokW50','W6BcJxxdUfO','W6m5vYyBiG','rSkAu3i','W7SDrr8l','W45XW5ldULxdS8krgdDjuG','obpcNdtcOmkh','W5yZW4dcGSkwySko','W5NdGZqKgcS6EW','W5m9bG','4PMahUIgMEwTUos5GUI+OUIINUMxHEMyJEAvJ+MuREIVQEE/RoMxTUISTa','smotWQ7cP8k4','WRr2WQVcN8o2','WPZcNCkQW5j+','a8klWQS','W7JORktMSP7LK7JLU7fL','55QY5Pcm6zwHWQ/dSE++Ja','W7/dMIK9qMiQz8k0W6rzjmkdWRBdJ2TU','5P2U552a5AEn5zcXhG','W7e0W77dOa','5REF5yQZ5AAp5zkC77Y+','cCoWnvuEpa','BItdH0zDW4BdMW','W6mobGtdVW','mHFcMa','uCkorhaYW4Dd','W6pcLX5lkmkxereWaSkGl8oQ','ns8Ra8krWQJcGSkHlG'].concat((function(){return['W5b9W5pdVM7dSW','W6OVDmkYxSorW68','WRddJw3dLCkxr8oTba','AhNdGMX7W5lcLCkMa8oqF2FcQMpcTq','aGddQSocWQ8','aNBcQNRdTSoIW6ZcTW','hCkUWR98pW','5y+76yE+6k2y5PU6W4rCWPRcV8kYAcXHBYO','t17dIW','eGpcNSohW4TvWPdcSSoQa1qDou0','DCoqWOZcS8knsCkOB1RcU3u','5lYr5OkH5yQl8jQhPE+6RG','A8oGWRVcS8kq','aSoGW7lcRmoN','gfJcShBcI8oQWPaWaa','r8kwv2CU','BtX8','W4dOR4NMSlhLKk/LUP9s','WRPdWQldRSkqrSo9wCks','WQ3cGmot','WOnVWOhcOmo/','W4RdTmonW402W6e','ACo0g8oJqdWB','WO5QnKFcJaxdTdC','WRtcVmk7','DftcPW','W47cO33dJve','W41LW43dNxm','nZiwjmkY','F+kFQSoi','Aq3cPG','W5i4W4dcLmkfCq','WQVdHxldHmkhxmoHfMrtDSoxWO3cL8kjWPq2amkiW5a','5PYR55625OQM5AsP54Iv5Oov4P+I','AmoGaSoa','5P23556U5OMg5AEm54UD5Oo34P6q','a1BcRxBcUSoXWOqC','W7BdGSoAW7aH','W79Tyqu0','BmkWEmorW5ZdR8k/WOBdIfddIq','W4OiqJ4K','zCkozLG/','yLldMmkDWO8iW5pdUW','W5xdTmoMW74z','5REJ5yM75AAk5zo0772/','s8onWQzzo8ofWQL4m8kmW5DTWRhdOCkRWOtcLeHqwdxdHLm7WPdcSSo5','W7mFW7C','6lA+5y2x5PAG5Psf','BSofA8o6','WRZdU8oh','WRrIWQu','oLZcIwhcIW','WOH0WR4','DGRcRGxdUedcQCo9WPqjnG','WPycbmosW5TV','4P2kWPJOH7NMN6JOVi3OOBFPGOBLIlhKUQJPL6VOR77dKq','hYejnCkX','rflcRCk8W6Pg','ihJcHu3dPq','WPbUWQ/dJ8kn','mX/cNHVcRmkR','fqBdPSoKWP4FWRDeW5O6','yWVcRqBdJua','WOL+WQOUrCkHWPm','W7ldHb8HbZqRtSk9W7XmnCkuW6pcSh10Ch9ttCo6zmk2qSoe5O6X5yMN5BMc5y6957MY56Ic5PAD77YM6BIO6k+vmU+9NEAFMowMVuJdGq','W5L6W5m','WR7dLLddSmke','WQhcKCokWPqhW4FdTmkJWPFdH1hdJa','WO1lnSkusG','W6S8W7K','gW7cUtJcVq','44cz6lwN5y2e','zNGnaSk9W7VcSgZdSSo8','mXNcJW','W7KTgXtdJW','j8okW7xcK1Dg','WRePWPSupa','ymorWO/cSmk4sq','cSo6l3O','BxqpkSkrW6W','pty+','W5BcS23dKue','Df7cRSk8pSor','W6WvW7tcG8kI','W6CWmrxdNLfgW6SjW4lcPG','mSoFW5tcH0i','W7tcMtFcKmoZhSkZnwTXvmoaWPG','oxpcJh7dPW','WOXBhCkfFXO','44gw5O2X56AV44o36k2c5yEE6i6V5yYxms/cQ8o/r20','bglcPNZdM8oyW7xcOmkxCw7dM8oOWPVcJ8ohW5dcQeW','CMKyo8kTW7S','WR3dGeO','sSoUg8orss8f','W5CZeNVcTatdNXRdTSodW6/cTaJdSXq','ASoxWOq','jwaKW43dRq','W6ZcJ2m','W7KbdxRcVG','WQ7cGmooW58','WR/dOCouafxcMqy','zq3dLM97','fgFcS2ldI8oOW6dcPSkxCgFcOmo/W7NcMSoAW4ldPL4Lpt3cGCoJW5D8ASkqW5a/W7/dHW8','ixlcLx3dUG','vmksvSo5W4C','cCklWQvig8on','4PYDEEIfG+ADQEI8R+IGTEMaSUwkOos6T+MvLEIUJHW','WQFcL8kW','44cu5Rwz5yMP5lM/5A+W5zYA5OUw6iYK5yY25Rw75yU65l+V5Ogd5Asc6lAX','b1/cQ3xcVSoQWOaxemkdEW','kmoCWRJcI8kNWOW','gCo0kgSpfIBcIq','pUkDIs8','WOySWQqqjG','aq3dKmoSWQe','zSolEa','cc0rdSkU','WOhcT8kwW7z7qa','WPz+WRGXE8kIWOtcHshdPYCfDsxcGSozWPK','W7BcNJBcKSoXgSk3uu1Qr8oIWOpcVW','BhFdLG','8y2zGs4','dYFdRCoIWQa'].concat((function(){return['Ca3cGGpdMa','ytPFWPRcPvtdPCkTWQhdNutdSbuU','WPmVWOqgo8oIE8kQyfW4','WPvUWRWVvSk/WRpcLItdLZK','W4/dOmokW7WmW6XakW','WRZcSSkOva','emoXW7lcRmop','WQRcTSkRvbCHW4JdIgtcRq','fmo9BfC6etJdGCkIDIFdJxJdUHpcLSkDvConb8orjCksdW4FW7n3WPNcQxvtpCkIsmoJW5RcIvhdMmkQW7Xmq8ou','rftcR8kTW4zqW7mWWOm','Aaf4pmom','WRzPWQFcGCo1pG','vuFdJSkbWOG','5PYY55+E5RE75yMZ54U85Ok4','5P6+55695Asi5zkJWQy','eWddU8oiWQ4','C8kWFmodW4/dRmko','cmomW63cLwLGWPGIca','WQ7cUmoIW7aI','mSk3WPDMnW','W6CTpchdOuDk','kSocW4tcGmoa','8kIRNCoi','WQdcNNP+WRVcVsCgWP1SWPZcGCkFWRVcIeGoFCoNWOW','BCkHBSoeW5VdUa','W7WdW7W','WPvpWO4PuW','W45HW4VdNKNdSW','WOHYWQ84BCkI','osRcJ8o7','cCknWRq','5l+85Oo75yUH','A+kFQCk9','WQveWRNdRCkLrSoTFSkcx1S','WOZcUCkFCsa','WPvnWRtcGCoI','WRvTWQFcQG','AI7dHMvBW4/dTKyLW7/cLdGBWRu0','WQ3dIfVdJCkQwmoLluDiDSogWPRcNmkVWQTJq8kzW41ZWRFMTkBLIzXXW5O','ASoUca','W7u0W7RdSvlcH8oDW4CcW5ZcRq','pgup','WRJdOmounKRdGK4nWQXztSo1C8klugBcKSoithRdSwpdGJfhW6xcNGdcI2PCWRZdP3O','mY7cJmofcSkyWQaQW5OQW5CPW4PqrmkDDmkpp8kMFKve','ymoaqmo3ytv0W5BcL0JdNCo2aZKsqJaiW5pcJ2xdVLZcSYxdLCoT6iA15A+75lQo6l6B6kg+6zE36zQv5Psz6zwX77626BMG6kY+ACkzWOCh','WOPpWPe5xq','WRvdWQtdQq','CM0vjSkS','W4WsW5ucW4S','6i6P5yYd5Rs05yIy5l2p5OoK5AEA6lEk','WPFdKCo0','kKFdSCkNFSofc8oAW6W','WQhcHh1RWRRdSW','oHpcJSoqoW','WPBcRSojW6WBW6PcjqddMa','W5SZfuO','coIVJoAYMEwqLow4TWi','W5dcR1FdOq','W4uEjJJdHG','WOGMWPGHgCo5FmkWvxyOWPGwjvC','bLZcTw3dUW','WR/dJKay','W7K9lrhdR0rk','W6GbW4tcOmkE','WPCxESk7Aa','WP/dRfqfzW','8lcAV8kf','WRjsWPW+qa','8ysjUCoy','pItcLCo8aSkr','Ad14e8owWRddLmkU','vXlcUqxdUG','Ah3dKfHSW4NcIa','AaZdLLXD','8yIUTqpLHOZORO/cGG','jSoqW7FcQg8','tcZcMdtdRG','lcxdN8orWQG','W68fW6mt','W78IBW','W6tcGxddLa','jCowWRRcH8kyWOhcRatdMCoZfW','W5mAW4i1W4O','WR8Pu8krr8obW4WDW6WOfffYW5G9WPRdPNRdHmkTbtPdtYZcV8kmW60DWQCVW7C6','W6TWqXml','WPJORBBMS6hLPRNOTB3cPEkESw4','qmoHxa','WRVdSCofnHtcMq1lWRTm','WOfdWOdcNW','nCk0xCktfwu2W7DVWPDdW4a','4PQMWQhOHOxLRl/KUAxOVO3OOldPLzBPMQpMLi7PLyBORkRNVOlPLkRORAy','A1pcR8kSgSoluCoiWQGjW5O','BYJdIW','W6Gzi2dcVG','W7e0W77dOcVcGCocW4S','WO5pWR44Da','aglcJgBcPG','iCoxW6NcN0q','WRpIN5eO','lZ3cUmoIlq','WOb6WQ08','WRVcSgH9WP8','DmonWO3cGCkZxW','W6SWW6tdPX7cJ8ok','W4ldSCobW4S8','WONcK8o7W6GK','5lIt6lcu8kEaNq','WOhcLSkwxtm','uWLOn8og','W6JINByU','AHFcTttdHfpcPW','WPyidq','puWdW7xdJW','4PYDEEADS+IcUoAUNoEGL+wLSEEsLHe','W6m4W6FdOay','BCopWPBcK8kr','ntGTja','C17cUCkO','kEs5Q+EzH+AsUoAkIEwNT+A2JUwkGq','W77KUBpNM5FMKzdMIPpLP7tMTPBLI4e','W4/dHCoIW6St','WO3dQuW'];}()));}()));}());Iii11l=function(){return Ill11l;};return Iii11l();};!cookiesArr[0x0]&&($['msg']($[II11i1(0x1fd,'RXxi')],II11i1(0x234,'pS^A')),process[II11i1(0x312,'$XYR')](0x1));function iii1II(_0x540d72,_0x1e6857){const _0x909ce3=Iii11l();return iii1II=function(_0x48118a,_0x340167){_0x48118a=_0x48118a-0x1b5;let _0xc3d3e7=_0x909ce3[_0x48118a];if(iii1II['WYrsvz']===undefined){var _0x330d98=function(_0x5ea915){const _0xceb692='abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=';let _0x21249d='',_0x3a196b='';for(let _0x231005=0x0,_0x1c9f37,_0x5a86ef,_0x233913=0x0;_0x5a86ef=_0x5ea915['charAt'](_0x233913++);~_0x5a86ef&&(_0x1c9f37=_0x231005%0x4?_0x1c9f37*0x40+_0x5a86ef:_0x5a86ef,_0x231005++%0x4)?_0x21249d+=String['fromCharCode'](0xff&_0x1c9f37>>(-0x2*_0x231005&0x6)):0x0){_0x5a86ef=_0xceb692['indexOf'](_0x5a86ef);}for(let _0x463310=0x0,_0x288a07=_0x21249d['length'];_0x463310<_0x288a07;_0x463310++){_0x3a196b+='%'+('00'+_0x21249d['charCodeAt'](_0x463310)['toString'](0x10))['slice'](-0x2);}return decodeURIComponent(_0x3a196b);};const _0x3cacd1=function(_0x5e7ec0,_0x17e966){let _0x3f331e=[],_0x4e2e68=0x0,_0x4d02b9,_0x1e786d='';_0x5e7ec0=_0x330d98(_0x5e7ec0);let _0x518cd5;for(_0x518cd5=0x0;_0x518cd5<0x100;_0x518cd5++){_0x3f331e[_0x518cd5]=_0x518cd5;}for(_0x518cd5=0x0;_0x518cd5<0x100;_0x518cd5++){_0x4e2e68=(_0x4e2e68+_0x3f331e[_0x518cd5]+_0x17e966['charCodeAt'](_0x518cd5%_0x17e966['length']))%0x100,_0x4d02b9=_0x3f331e[_0x518cd5],_0x3f331e[_0x518cd5]=_0x3f331e[_0x4e2e68],_0x3f331e[_0x4e2e68]=_0x4d02b9;}_0x518cd5=0x0,_0x4e2e68=0x0;for(let _0x1fc582=0x0;_0x1fc582<_0x5e7ec0['length'];_0x1fc582++){_0x518cd5=(_0x518cd5+0x1)%0x100,_0x4e2e68=(_0x4e2e68+_0x3f331e[_0x518cd5])%0x100,_0x4d02b9=_0x3f331e[_0x518cd5],_0x3f331e[_0x518cd5]=_0x3f331e[_0x4e2e68],_0x3f331e[_0x4e2e68]=_0x4d02b9,_0x1e786d+=String['fromCharCode'](_0x5e7ec0['charCodeAt'](_0x1fc582)^_0x3f331e[(_0x3f331e[_0x518cd5]+_0x3f331e[_0x4e2e68])%0x100]);}return _0x1e786d;};iii1II['NArjWx']=_0x3cacd1,_0x540d72=arguments,iii1II['WYrsvz']=!![];}const _0x5cbf59=_0x909ce3[0x0],_0x1d81b6=_0x48118a+_0x5cbf59,_0x2e6ee3=_0x540d72[_0x1d81b6];return!_0x2e6ee3?(iii1II['dQtFPx']===undefined&&(iii1II['dQtFPx']=!![]),_0xc3d3e7=iii1II['NArjWx'](_0xc3d3e7,_0x340167),_0x540d72[_0x1d81b6]=_0xc3d3e7):_0xc3d3e7=_0x2e6ee3,_0xc3d3e7;},iii1II(_0x540d72,_0x1e6857);}!(async()=>{const iliIil=II11i1,lllill={'zTAKN':function(ill11l){return ill11l();}};notify[iliIil(0x29b,'#Szz')]({'title':$['name']}),await lllill['zTAKN'](Main),isNotify&&notify[iliIil(0x223,'trKS')]()&&await notify[iliIil(0x2a4,'SqTI')]();})()['catch'](I1lIiI=>$['logErr'](I1lIiI))['finally'](()=>$[II11i1(0x229,'Q35w')]());async function Main(){const iliIii=II11i1,lllili={'BqXXt':'Content-Type','zpbCd':function(IliiiI,Ill11){return IliiiI!==Ill11;},'VSidi':function(liiIII,li1i11){return liiIII===li1i11;},'DRpfM':'⚠\x20请先定义必要的环境变量后再运行脚本','NsYbr':iliIii(0x232,'OK6%'),'tPZUR':'LRsBc','mFkZR':function(iI11I1,il1i1l){return iI11I1>il1i1l;},'TjCDE':function(IlIlll,IIIl1I){return IlIlll>IIIl1I;},'Nrxkr':function(iil1ii,IlIlli){return iil1ii!==IlIlli;},'yNNOq':'asnHc','RcRkO':'刘强东','IbOiO':function(il1i1i,lil111){return il1i1i(lil111);},'RZsHe':iliIii(0x205,'^JNI'),'gPBUE':function(i11ilI,ii1ii1){return i11ilI!==ii1ii1;},'CgOiI':function(llllI,lllil1){return llllI-lllil1;},'mEWWo':iliIii(0x203,'BQwz')};try{if(lllili[iliIii(0x2be,'v!t)')]('oHnKX',iliIii(0x2f3,'(D6x')))delete I1ilIi['data'],delete IiiiI['headers'][lllili[iliIii(0x31b,'^JNI')]];else{if(liveIdList[iliIii(0x233,'ZeI#')]===0x0){if(lllili[iliIii(0x22c,'f1L5')]('wtCrn','wtCrn')){console[iliIii(0x23a,'Zqk!')](lllili[iliIii(0x255,'dS]X')]);return;}else IlI1l['waitTime']=lilIil;}const ilil1I=[...new Set(liveIdList)];try{if(lllili['zpbCd'](lllili['NsYbr'],lllili['tPZUR'])){const ii1iiI=parseInt(taskThreads);lllili['mFkZR'](ii1iiI,0x0)&&lllili[iliIii(0x2d5,'O!a4')](ii1iiI,0x1)&&(taskThreads=ii1iiI);}else iiilli[iliIii(0x2c4,'b#rX')]=!![],l1iIIl[iliIii(0x1c6,'wa!3')]&&lIII1i[iliIii(0x294,'*9d%')][iliIii(0x2b2,'cn4j')](l11i11);}catch{taskThreads=0x1;}taskThreads=Math[iliIii(0x220,'ez]X')](taskThreads,0xa),$[iliIii(0x1e0,'OK6%')]=null;if(runInterval)try{if(iliIii(0x279,'UtWD')===iliIii(0x1e8,'pS^A')){const ilil11=parseInt(runInterval);lllili[iliIii(0x278,'x%Xn')](ilil11,0x0)&&($[iliIii(0x1ff,'Cup!')]=ilil11);}else ll1lI[iliIii(0x2c5,'mf1w')](l1iii),IIlli&&(I1ilII['outFlag']=!![],I11iIl[iliIii(0x266,'%Mr$')]&&l1iIi[iliIii(0x21a,'KGL%')][iliIii(0x1cd,'ONl#')](l1l11i));}catch{lllili['Nrxkr']('GNBVh',lllili['yNNOq'])?console[iliIii(0x274,'ONl#')](iliIii(0x1c9,'ZeI#')):(delete IiiIi1[iliIii(0x1c2,'tmG8')],delete l1ii1[iliIii(0x29e,'@Q%N')][lllili[iliIii(0x2ef,'Cup!')]]);}$[iliIii(0x277,'(D6x')]=![];lllili[iliIii(0x2c6,'O!a4')](ilil1I['length'],0x1)&&(console[iliIii(0x1e3,'^JNI')]('🏬\x20共计\x20'+ilil1I[iliIii(0x250,')H&d')]+iliIii(0x2cc,'cn4j')),$[iliIii(0x1e5,'Zqk!')]=!![]);$['UA']=common[iliIii(0x2f4,'@Q%N')](lllili[iliIii(0x1ef,'UtWD')]),$[iliIii(0x2ac,'MhLV')]=common[iliIii(0x1d4,'Q35w')]('刘强东'),$[iliIii(0x2cf,'bgJ9')]=common[iliIii(0x2e4,'Q35w')]();for(let I1lIi1=0x0;I1lIi1<ilil1I[iliIii(0x22d,'G%6C')];I1lIi1++){$['liveId']=ilil1I[I1lIi1],$[iliIii(0x2a7,'GIoJ')]='https://h5.m.jd.com/dev/3pbY8ZuCx4ML99uttZKLHC2QcAMn/live.html?id='+$[iliIii(0x272,'KGL%')],$['lotteryId']='',await lllili['IbOiO'](sendRequest,lllili[iliIii(0x2c2,'zJ7(')]);if(!$[iliIii(0x2f2,'GZif')]){console[iliIii(0x22b,'O@Z&')]('【'+$[iliIii(0x22a,'trKS')]+iliIii(0x247,'b#rX'));continue;}await common[iliIii(0x2e9,'^JNI')](taskThreads,cookiesArr,taskFnc),$[iliIii(0x239,'GZif')]=![],$['runEnd']=![],lllili[iliIii(0x2a3,'dS]X')](I1lIi1,lllili['CgOiI'](ilil1I[iliIii(0x211,'mf1w')],0x1))&&console[iliIii(0x27f,'O!a4')]('\x0a');}}}catch(liiIIi){lllili[iliIii(0x2e8,'zJ7(')](lllili[iliIii(0x1be,'O!a4')],iliIii(0x2c1,'x%Xn'))?console['log'](iliIii(0x245,'O@Z&')+liiIIi):llIlll['querryError']=!![];}}async function taskFnc(Iliii1,iIiIi){const lill1i=II11i1,iil1ll={'NCyxy':function(llI1Il,ii1iii){return llI1Il(ii1iii);},'vvbuq':function(i11iil,Ill1i){return i11iil!==Ill1i;},'qORCq':lill1i(0x322,'MhLV'),'olsWP':lill1i(0x1c0,'f1L5'),'fkOaM':lill1i(0x238,'RXxi'),'IrXRN':function(ii1iil,lllI1l){return ii1iil===lllI1l;},'iRcCo':function(i11iii,llI1Ii){return i11iii===llI1Ii;},'kKblZ':lill1i(0x275,'KGL%'),'SbEyn':lill1i(0x1da,'zJ7('),'xLlQm':lill1i(0x2d1,'(D6x'),'muEvA':function(lllI1i,li1i1l){return lllI1i===li1i1l;},'osBlL':lill1i(0x2ee,'@Q%N'),'RpxwR':lill1i(0x204,'tmG8'),'aMeIi':lill1i(0x2f1,'b#rX'),'WKBKx':lill1i(0x267,'rd1y'),'QFxZH':'liveLotteryPanelV1012','mXXwM':lill1i(0x1fb,'bgJ9'),'nYAJH':lill1i(0x26f,'(D6x'),'oKtPK':lill1i(0x1d0,'2V%$'),'vPcGu':'keep-alive','awntO':lill1i(0x2a9,'$XYR'),'yzTQG':lill1i(0x2c8,'ez]X'),'fkMco':lill1i(0x2fe,'o0d3'),'FmnyN':'com.360buy.jdmobile','vQGjM':'ios_4.0.0','lLezO':'GET','atXIt':'VAYyX','FByUx':'Content-Type','TeVsX':function(II1i1,lI1lll){return II1i1<lI1lll;},'wDAcK':function(iIiII,iil1lI){return iIiII===iil1lI;},'nTHdy':'UoFCG','ETPfD':lill1i(0x2c9,'Zqk!'),'vOUHy':'OgZjE','tsOYX':function(iiiliI,li1i1I,illIii){return iiiliI(li1i1I,illIii);},'vzOwt':function(ii1il1,lI1llI){return ii1il1>=lI1llI;},'ttOSj':function(illIil,Ill1I){return illIil!==Ill1I;},'hPMIy':lill1i(0x2a2,'b#rX'),'FSlQx':'boolean','lcQfu':'账号无效'};if($[lill1i(0x271,'AQL8')])return{'runEnd':!![]};const iiilil=iil1ll[lill1i(0x1f5,'f1L5')](decodeURIComponent,common['getCookieValue'](Iliii1,lill1i(0x1c1,'BQwz'))),iil1li=lill1i(0x222,'cn4j')+iIiIi+'】'+iiilil+'：',lillIl=notify['create'](iIiIi,iiilil),iIiIl=await common[lill1i(0x31f,'SqTI')](Iliii1);if(!iIiIl&&iil1ll[lill1i(0x225,'*9d%')](typeof iIiIl,iil1ll[lill1i(0x23d,'GZif')])){console['log'](iil1li+lill1i(0x30e,'O!a4')),lillIl['fix'](iil1ll[lill1i(0x26b,'pS^A')]);return;}const iiilii=common[lill1i(0x2ed,'MhLV')](iiilil),li1i1i=common[lill1i(0x261,'UtWD')](iiilil),IlIli1=common[lill1i(0x1c5,'^8gD')]();if($[lill1i(0x2bc,'Zqk!')])return{'runEnd':!![]};let illIiI='';await iil1ll[lill1i(0x200,'v!t)')](Ill1l,iil1ll[lill1i(0x1f7,'O@Z&')]);if($[lill1i(0x2e1,'O!a4')])return{'runEnd':!![]};if($[lill1i(0x1dd,'bgJ9')])$[lill1i(0x1d2,'ez]X')]($[lill1i(0x321,'!#DT')]);await Ill1l(iil1ll[lill1i(0x1e1,'ONl#')]);if($['waitTime'])$[lill1i(0x310,'ZeI#')]($[lill1i(0x25a,'v!t)')]);function lI1lli(i11iiI,lIli11){const iIIill=lill1i,lllI1I={'YtHKQ':function(lillI1,IlIlii){const il1li=iii1II;return iil1ll[il1li(0x297,'rtBC')](lillI1,IlIlii);},'bulXY':function(i1l1i1,liil11){return i1l1i1>liil11;}};if(iil1ll['vvbuq'](iil1ll[iIIill(0x1cc,')H&d')],iil1ll[iIIill(0x318,'tmG8')]))try{switch(i11iiI){case iil1ll['fkOaM']:if(iil1ll['IrXRN'](lIli11[iIIill(0x1bc,'^JNI')],'0')&&iil1ll[iIIill(0x260,'zJ7(')](lIli11['subCode'],'0')&&lIli11['data']){const iiillI=lIli11[iIIill(0x27a,'UtWD')]?.[iIIill(0x309,'SqTI')]||{},l1l111=iiillI?.[iIIill(0x25d,'x%Xn')]||'',l1iIII=iiillI?.[iIIill(0x27b,'cn4j')]||iiillI?.[iIIill(0x1c4,'AQL8')]||0x0;let llI1I1='';switch(l1l111){case 0x3:case 0xd:llI1I1=l1iIII+'京豆',illIiI=l1iIII+iIIill(0x2c0,'GZif');break;case 0x8:llI1I1=iil1ll[iIIill(0x2f8,'BQwz')],illIiI=iIIill(0x1e6,'cn4j');break;default:llI1I1=iIIill(0x264,'*9d%')+l1l111+')',illIiI=iIIill(0x1d1,'rd1y')+l1l111+')';}if(!$[iIIill(0x291,'A!hz')]){const IlIlil=iil1ll[iIIill(0x286,'SqTI')]['split']('|');let lIli1I=0x0;while(!![]){switch(IlIlil[lIli1I++]){case'0':console['log'](iIIill(0x31e,')H&d')+$[iIIill(0x249,'GIoJ')]);continue;case'1':console[iIIill(0x1f3,'x%Xn')]('');continue;case'2':console['log'](iIIill(0x207,'x%Xn')+llI1I1);continue;case'3':if(![0x3,0xd][iIIill(0x1bf,'ez]X')](l1l111)){console[iIIill(0x237,'rtBC')]('垃圾活动不跑了~'),$[iIIill(0x1f0,'v!t)')]=!![];return;}continue;case'4':$[iIIill(0x2e3,'Q35w')]=!![];continue;}break;}}}else console['log'](''+iil1li+($[iIIill(0x22f,'*9d%')]?$['liveId']+iIIill(0x2c3,'CeE9'):'')+'未知活动状态❓');break;case iil1ll['xLlQm']:iil1ll[iIIill(0x2bf,'o0d3')](lIli11[iIIill(0x2f0,'o0d3')],'0')&&iil1ll[iIIill(0x206,'v!t)')](lIli11['subCode'],'0')&&lIli11[iIIill(0x2a6,'f1L5')]?iil1ll[iIIill(0x262,'^JNI')](iil1ll['osBlL'],iil1ll[iIIill(0x29d,'b#rX')])?lIli11[iIIill(0x20b,'MhLV')]?.[iIIill(0x2d6,'*9d%')][iIIill(0x29c,'zJ7(')]('中奖')?(console[iIIill(0x1f9,'b#rX')](''+iil1li+($[iIIill(0x311,'tmG8')]?$[iIIill(0x1b6,')H&d')]+iIIill(0x276,'dS]X'):'')+illIiI),lillIl[iIIill(0x28a,'CeE9')](illIiI)):console[iIIill(0x2d9,'o0d3')](''+iil1li+($['showPrintId']?$[iIIill(0x31a,'f1L5')]+iIIill(0x2b8,'BQwz'):'')+lIli11[iIIill(0x273,'#Szz')]?.[iIIill(0x202,'%Mr$')]):II1lil['log'](''+IIli1l+(II1lii[iIIill(0x258,'A!hz')]?lIIii1[iIIill(0x1b5,'MhLV')]+'\x20➜\x20':'')+iIIill(0x1fc,'zJ7(')):console[iIIill(0x23c,'f1L5')](''+iil1li+($[iIIill(0x2b1,'G%6C')]?$[iIIill(0x217,'^8gD')]+iIIill(0x1f8,'^8gD'):'')+iIIill(0x1fe,'#Szz'));break;}}catch(lllI11){console['log'](iIIill(0x2ff,'@Q%N')+i11iiI+iIIill(0x1ec,'ZeI#')+(lllI11[iIIill(0x2e2,'trKS')]||lllI11));}else{const I1lIli=lllI1I[iIIill(0x24f,'O@Z&')](i1l1I,IiilIi);lllI1I[iIIill(0x2a1,'rd1y')](I1lIli,0x0)&&(iii1Ii[iIIill(0x24a,'Q35w')]=I1lIli);}}async function Ill1l(II1ii){const iilii=lill1i;if($['runEnd'])return;let IIIIII='',lillII=null,ii1ilI=null,lI1ll1=iilii(0x28f,'f1L5'),iIiI1={};switch(II1ii){case iil1ll[iilii(0x24c,'A!hz')]:IIIIII=iil1ll[iilii(0x2d0,'Zqk!')],iIiI1={'lotteryId':''['concat']($['lotteryId']||''),'pageId':iil1ll['WKBKx'],'shared':'1','liveId':''['concat']($['liveId']||'')},ii1ilI={'functionId':iil1ll['QFxZH']},lillII=common['queryStringToObject'](await common['getSign'](iil1ll[iilii(0x290,'*9d%')],iIiI1));break;case'Draw':IIIIII=iil1ll[iilii(0x29f,'cn4j')],iIiI1={'liveId':''[iilii(0x226,'rd1y')]($[iilii(0x2de,'!#DT')]||''),'pageId':iil1ll[iilii(0x2b3,'GZif')],'fansLevel':0x1,'eid':'','lotteryId':''['concat']($[iilii(0x25f,'CxcN')]||''),'plus':0x1,'token':'','nickName':iil1ll['NCyxy'](encodeURIComponent,iiilil)},ii1ilI={'functionId':iil1ll[iilii(0x1e7,'Zqk!')]},lillII=common[iilii(0x235,'OK6%')](await common['getSign'](iil1ll[iilii(0x302,'rtBC')],iIiI1));break;default:console[iilii(0x27d,'RXxi')]('❌\x20未知请求\x20'+II1ii);return;}const liil1I={'url':IIIIII,'method':lI1ll1,'headers':{'Accept':iil1ll[iilii(0x268,'o0d3')],'Accept-Encoding':iil1ll['oKtPK'],'Accept-Language':iilii(0x2ec,'MhLV'),'Connection':iil1ll[iilii(0x320,'BQwz')],'Content-Type':iil1ll[iilii(0x2aa,'x9aU')],'Cookie':Iliii1,'J-E-H':IlIli1,'J-E-C':li1i1i,'Sec-Fetch-Dest':iil1ll[iilii(0x21d,'bgJ9')],'Sec-Fetch-Mode':iilii(0x284,'(D6x'),'Sec-Fetch-Site':iil1ll[iilii(0x304,'mf1w')],'User-Agent':iiilii,'x-referer-package':iil1ll[iilii(0x301,'KGL%')],'x-rp-client':iil1ll['vQGjM']},'params':ii1ilI,'data':lillII,'timeout':0x7530};iil1ll[iilii(0x21f,'ZeI#')](lI1ll1,iil1ll[iilii(0x240,'cn4j')])&&(iil1ll[iilii(0x300,'A!hz')](iil1ll['atXIt'],iil1ll['atXIt'])?I1i111['log'](''+ilI1li+(IIliI[iilii(0x210,'b#rX')]?ilI1ll[iilii(0x1db,'AQL8')]+'\x20➜\x20':'')+Iillii[iilii(0x25b,'x%Xn')]?.['rewardTitle']):(delete liil1I['data'],delete liil1I['headers'][iil1ll[iilii(0x216,'(D6x')]]));const i11ii1=0x1;let IlIliI=0x0,l1iII1=null,iiill1=![];while(iil1ll[iilii(0x242,'OK6%')](IlIliI,i11ii1)){const IIIII1=await common[iilii(0x2d7,'^8gD')](liil1I);if(!IIIII1[iilii(0x1d8,'tmG8')]){if(iil1ll[iilii(0x2ce,'v!t)')](iilii(0x215,'OK6%'),iil1ll[iilii(0x283,'KGL%')])){l1iII1=iilii(0x29a,')H&d')+II1ii+'\x20请求失败\x20➜\x20'+IIIII1['error'],IlIliI++;continue;}else IilliI['log'](''+IlI1ii+(lIIiii[iilii(0x248,'Cup!')]?iI1lli[iilii(0x244,'ONl#')]+iilii(0x24b,'%Mr$'):'')+ll1iI),iI1lll[iilii(0x1fa,'wa!3')](l1lIll);}if(!IIIII1['data']){if(iil1ll['vvbuq'](iil1ll['ETPfD'],iil1ll['vOUHy'])){l1iII1=iilii(0x298,'AQL8')+II1ii+iilii(0x2fb,'O!a4'),IlIliI++;continue;}else i1ill1[iilii(0x22b,'O@Z&')]('\x0a');}iil1ll['tsOYX'](lI1lli,II1ii,IIIII1[iilii(0x27a,'UtWD')]),iiill1=![];break;}iil1ll[iilii(0x230,'rd1y')](IlIliI,i11ii1)&&(console['log'](l1iII1),iiill1&&(iil1ll[iilii(0x1bb,'(D6x')](iilii(0x296,'$XYR'),iil1ll[iilii(0x1c3,'BQwz')])?i1ii=0x1:$[iilii(0x23f,'!#DT')]=!![]));}}async function handleResponse(llI1II,lIli1l){const Ill11i=II11i1,lillIi={'VIEcd':Ill11i(0x20a,'2V%$'),'qTWtw':Ill11i(0x287,'%Mr$'),'qqhFT':Ill11i(0x289,'G%6C'),'NkMce':function(illIi1,ii1ili){return illIi1===ii1ili;},'FawpU':Ill11i(0x2f6,'Q35w'),'DxQFX':Ill11i(0x31d,'G%6C'),'FYpgg':function(liil1i,lI1lil){return liil1i===lI1lil;},'WCGrU':'vJLth','hxCqd':Ill11i(0x292,'OK6%'),'gXuJP':function(i1l1iI,liil1l){return i1l1iI===liil1l;},'ezrOn':Ill11i(0x23b,'O!a4'),'gCYqC':'cms_red_packet_rain','hKsaC':Ill11i(0x251,'KGL%'),'sZfsW':Ill11i(0x281,'#Szz'),'VaSsn':Ill11i(0x263,'G%6C'),'OjAdf':function(lI1lii,Iiili1){return lI1lii===Iiili1;},'ezxTF':Ill11i(0x2b6,'Cup!')};try{if(lillIi[Ill11i(0x20e,'Cup!')](lillIi['FawpU'],lillIi['FawpU']))switch(llI1II){case lillIi[Ill11i(0x221,'^8gD')]:if(lillIi[Ill11i(0x1ca,'Zqk!')](lIli1l['code'],'0')&&lillIi[Ill11i(0x305,'dS]X')](lIli1l[Ill11i(0x26a,'*9d%')],'0')&&lIli1l['data']){if(lillIi[Ill11i(0x22e,'wa!3')]!==lillIi['hxCqd']){const Iil1l1=lIli1l[Ill11i(0x28d,'GZif')]?.[Ill11i(0x1ba,'Zqk!')]||[];for(const i1i11I of Iil1l1){if(lillIi[Ill11i(0x28b,'#Szz')](Ill11i(0x201,'x9aU'),lillIi['ezrOn'])){const {type:il1iIl,data:iii1ii,actionType:il1iIi}=i1i11I;switch(il1iIl){case lillIi['gCYqC']:case lillIi['hKsaC']:break;case lillIi[Ill11i(0x2bb,'CeE9')]:switch(il1iIi){case 0x3:$[Ill11i(0x1ed,'(D6x')]=iii1ii[Ill11i(0x1e9,'Cup!')];break;default:console['log'](lillIi['VaSsn']);break;}break;}}else{i1III[Ill11i(0x2d9,'o0d3')](Ii1iIi+Ill11i(0x30b,'GZif')),iliIIl['fix'](lillIi[Ill11i(0x299,'KGL%')]);return;}}}else iliIII['log'](Ill11i(0x212,'Zqk!')+iIIl1i);}else console['log'](lillIi[Ill11i(0x2d4,'Cup!')]);break;}else lilii['log'](lillIi[Ill11i(0x270,'KGL%')]);}catch(iIIiiI){if(lillIi['OjAdf']('kgnRu',lillIi[Ill11i(0x1cb,'UtWD')])){const ililIi=lillIi[Ill11i(0x1f6,'AQL8')][Ill11i(0x285,'trKS')]('|');let lilIIl=0x0;while(!![]){switch(ililIi[lilIIl++]){case'0':II11II[Ill11i(0x253,'@Q%N')]('');continue;case'1':i1IIi[Ill11i(0x209,'SqTI')](Ill11i(0x1cf,'pS^A')+IIII1I['liveId']);continue;case'2':I1lll1[Ill11i(0x1de,'@Q%N')]=!![];continue;case'3':if(![0x3,0xd][Ill11i(0x29c,'zJ7(')](Iil1I1)){Ii1iI1[Ill11i(0x1c8,'GZif')]('垃圾活动不跑了~'),lilIli['runEnd']=!![];return;}continue;case'4':Iii111[Ill11i(0x20f,'KGL%')](Ill11i(0x1d3,'KGL%')+l1l1II);continue;}break;}}else console[Ill11i(0x24e,'MhLV')](Ill11i(0x2c7,'O@Z&')+llI1II+Ill11i(0x1ce,'x%Xn')+(iIIiiI[Ill11i(0x2bd,'ez]X')]||iIIiiI));}}async function sendRequest(ililIl){const iilil=II11i1,liiI1l={'JxMhL':function(IiiliI,iii1iI){return IiiliI(iii1iI);},'XufLC':iilil(0x2b0,'RXxi'),'NxPpN':iilil(0x2ae,'UtWD'),'jCTOh':'Live_Room','IuwFB':'gzip,\x20deflate,\x20br','pQeve':iilil(0x21e,'o0d3'),'hYKqz':iilil(0x26d,'CeE9'),'wkDbO':'cors','wVXfq':iilil(0x27e,'ez]X'),'olcnc':function(llIll,il1iII){return llIll===il1iII;},'yvYtD':iilil(0x288,'!#DT'),'VPgJz':'Content-Type','LjRNo':function(iilli,IlllIl){return iilli<IlllIl;},'Pjite':function(II11lI,lI1IIi){return II11lI>lI1IIi;},'hPLKJ':function(I1l11I,Ilil1l){return I1l11I===Ilil1l;},'QnEes':'ZmdCl','WUDKe':'Kogkd','xYXJA':iilil(0x1b8,'x%Xn'),'KKgZz':iilil(0x227,'A!hz'),'SNHsh':iilil(0x2eb,'zJ7('),'jTgeP':function(iIIiii,iilll){return iIIiii>=iilll;},'SWwQi':function(il1iI1,IlllIi){return il1iI1===IlllIi;},'GtUJN':'ejxbz','NOBZO':iilil(0x256,'b#rX')};if($[iilil(0x2e1,'O!a4')]||$[iilil(0x1f1,'RXxi')])return;let i1l1II='',i1ill=null,I1l11l=null,lilIIi=liiI1l[iilil(0x213,'O@Z&')],i1l1Il={};switch(ililIl){case iilil(0x1c7,'2V%$'):i1l1II=iilil(0x280,'!#DT'),i1l1Il={'pageId':liiI1l[iilil(0x1b9,'O@Z&')],'liveId':''['concat']($[iilil(0x272,'KGL%')]||'')},I1l11l={'functionId':'liveActivityV946'},i1ill=common['queryStringToObject'](await common[iilil(0x1d5,'cn4j')](iilil(0x30a,'^8gD'),i1l1Il));break;default:console[iilil(0x274,'ONl#')](iilil(0x2f9,'rd1y')+ililIl);return;}const llIli={'url':i1l1II,'method':lilIIi,'headers':{'Accept':'*/*','Accept-Encoding':liiI1l[iilil(0x1df,'dS]X')],'Accept-Language':iilil(0x25e,'Q35w'),'Connection':iilil(0x2ad,'!#DT'),'Content-Type':iilil(0x241,'OK6%'),'J-E-H':$[iilil(0x246,')H&d')],'J-E-C':$[iilil(0x1bd,'O@Z&')],'Host':liiI1l[iilil(0x2e6,'ONl#')],'Origin':liiI1l['hYKqz'],'Sec-Fetch-Dest':iilil(0x1ea,'tmG8'),'Sec-Fetch-Mode':liiI1l[iilil(0x2d3,'Zqk!')],'Sec-Fetch-Site':liiI1l[iilil(0x1d6,'*9d%')],'User-Agent':$['UA']},'params':I1l11l,'data':i1ill,'timeout':0x7530};liiI1l['olcnc'](lilIIi,liiI1l['yvYtD'])&&(delete llIli[iilil(0x2ca,'O@Z&')],delete llIli['headers'][liiI1l[iilil(0x25c,'pS^A')]]);const i1i11l=0x1;let i1i11i=0x0,II11l1=null,Iil1lI=![];while(liiI1l[iilil(0x2a8,'SqTI')](i1i11i,i1i11l)){liiI1l[iilil(0x2fd,'#Szz')](i1i11i,0x0)&&(liiI1l[iilil(0x316,'ONl#')](liiI1l[iilil(0x31c,'O!a4')],liiI1l[iilil(0x269,'ONl#')])?(I1iIiI[iilil(0x2db,'%Mr$')](iilil(0x2a0,'$XYR')+li1I1[iilil(0x2e5,'@Q%N')]+iilil(0x2cd,'$XYR')),i1ilil[iilil(0x2b1,'G%6C')]=!![]):await $['wait'](0x3e8));const iIIiil=await common[iilil(0x307,'KGL%')](llIli);if(!iIIiil[iilil(0x314,'dS]X')]){if(iilil(0x243,'%Mr$')!==liiI1l['xYXJA']){II11l1=iilil(0x254,'CeE9')+ililIl+iilil(0x2ab,'v!t)')+iIIiil[iilil(0x2b7,'rd1y')],i1i11i++;iIIiil[iilil(0x26e,'%Mr$')]&&iIIiil[iilil(0x236,'trKS')]===0x193&&(liiI1l['KKgZz']!=='QnpeW'?l1i111[iilil(0x23a,'Zqk!')](''+iliII1+(II11I1[iilil(0x2b1,'G%6C')]?Iii11I[iilil(0x214,'CxcN')]+iilil(0x2df,'^JNI'):'')+iilil(0x317,'BQwz')):$[iilil(0x259,'KGL%')]=!![]);continue;}else lilil[iilil(0x224,'^8gD')]('❌\x20未能正确处理\x20'+ll1ll+iilil(0x28e,'CxcN')+(Illl11['message']||ii1lI));}if(!iIIiil[iilil(0x2ba,'KGL%')]){if(iilil(0x2b9,'#Szz')===liiI1l[iilil(0x313,'$XYR')]){II11l1=iilil(0x26c,'^8gD')+ililIl+'\x20请求失败\x20➜\x20无响应数据',i1i11i++;continue;}else try{const i1ilI=liiI1l[iilil(0x24d,'dS]X')](li1II,IliI11);i1ilI>0x0&&(i1l1lI[iilil(0x2b4,'ez]X')]=i1ilI);}catch{I1iIii[iilil(0x2db,'%Mr$')](liiI1l[iilil(0x265,'dS]X')]);}}await handleResponse(ililIl,iIIiil[iilil(0x2ea,'zJ7(')]),Iil1lI=![];break;}liiI1l[iilil(0x2b5,'KGL%')](i1i11i,i1i11l)&&(console[iilil(0x2a5,'BQwz')](II11l1),Iil1lI&&(liiI1l[iilil(0x295,'wa!3')](liiI1l['GtUJN'],liiI1l['NOBZO'])?(IliI1i['log'](ll1ii),IIli11&&(ii1li[iilil(0x2c4,'b#rX')]=!![])):($[iilil(0x2e7,'KGL%')]=!![],$['message']&&$['message']['fix'](II11l1))));}var version_ = 'jsjiami.com.v7';
// prettier-ignore
function Env(t,e){"undefined"!=typeof process&&JSON.stringify(process.env).indexOf("GITHUB")>-1&&process.exit(0);class s{constructor(t){this.env=t}send(t,e="GET"){t="string"==typeof t?{url:t}:t;let s=this.get;return"POST"===e&&(s=this.post),new Promise((e,i)=>{s.call(this,t,(t,s,r)=>{t?i(t):e(s)})})}get(t){return this.send.call(this.env,t)}post(t){return this.send.call(this.env,t,"POST")}}return new class{constructor(t,e){this.name=t,this.http=new s(this),this.data=null,this.dataFile="box.dat",this.logs=[],this.isMute=!1,this.isNeedRewrite=!1,this.logSeparator="\n",this.startTime=(new Date).getTime(),Object.assign(this,e),this.log("",`🔔${this.name}, 开始!`)}isNode(){return"undefined"!=typeof module&&!!module.exports}isQuanX(){return"undefined"!=typeof $task}isSurge(){return"undefined"!=typeof $httpClient&&"undefined"==typeof $loon}isLoon(){return"undefined"!=typeof $loon}toObj(t,e=null){try{return JSON.parse(t)}catch{return e}}toStr(t,e=null){try{return JSON.stringify(t)}catch{return e}}getjson(t,e){let s=e;const i=this.getdata(t);if(i)try{s=JSON.parse(this.getdata(t))}catch{}return s}setjson(t,e){try{return this.setdata(JSON.stringify(t),e)}catch{return!1}}getScript(t){return new Promise(e=>{this.get({url:t},(t,s,i)=>e(i))})}runScript(t,e){return new Promise(s=>{let i=this.getdata("@chavy_boxjs_userCfgs.httpapi");i=i?i.replace(/\n/g,"").trim():i;let r=this.getdata("@chavy_boxjs_userCfgs.httpapi_timeout");r=r?1*r:20,r=e&&e.timeout?e.timeout:r;const[o,h]=i.split("@"),n={url:`http://${h}/v1/scripting/evaluate`,body:{script_text:t,mock_type:"cron",timeout:r},headers:{"X-Key":o,Accept:"*/*"}};this.post(n,(t,e,i)=>s(i))}).catch(t=>this.logErr(t))}loaddata(){if(!this.isNode())return{};{this.fs=this.fs?this.fs:require("fs"),this.path=this.path?this.path:require("path");const t=this.path.resolve(this.dataFile),e=this.path.resolve(process.cwd(),this.dataFile),s=this.fs.existsSync(t),i=!s&&this.fs.existsSync(e);if(!s&&!i)return{};{const i=s?t:e;try{return JSON.parse(this.fs.readFileSync(i))}catch(t){return{}}}}}writedata(){if(this.isNode()){this.fs=this.fs?this.fs:require("fs"),this.path=this.path?this.path:require("path");const t=this.path.resolve(this.dataFile),e=this.path.resolve(process.cwd(),this.dataFile),s=this.fs.existsSync(t),i=!s&&this.fs.existsSync(e),r=JSON.stringify(this.data);s?this.fs.writeFileSync(t,r):i?this.fs.writeFileSync(e,r):this.fs.writeFileSync(t,r)}}lodash_get(t,e,s){const i=e.replace(/\[(\d+)\]/g,".$1").split(".");let r=t;for(const t of i)if(r=Object(r)[t],void 0===r)return s;return r}lodash_set(t,e,s){return Object(t)!==t?t:(Array.isArray(e)||(e=e.toString().match(/[^.[\]]+/g)||[]),e.slice(0,-1).reduce((t,s,i)=>Object(t[s])===t[s]?t[s]:t[s]=Math.abs(e[i+1])>>0==+e[i+1]?[]:{},t)[e[e.length-1]]=s,t)}getdata(t){let e=this.getval(t);if(/^@/.test(t)){const[,s,i]=/^@(.*?)\.(.*?)$/.exec(t),r=s?this.getval(s):"";if(r)try{const t=JSON.parse(r);e=t?this.lodash_get(t,i,""):e}catch(t){e=""}}return e}setdata(t,e){let s=!1;if(/^@/.test(e)){const[,i,r]=/^@(.*?)\.(.*?)$/.exec(e),o=this.getval(i),h=i?"null"===o?null:o||"{}":"{}";try{const e=JSON.parse(h);this.lodash_set(e,r,t),s=this.setval(JSON.stringify(e),i)}catch(e){const o={};this.lodash_set(o,r,t),s=this.setval(JSON.stringify(o),i)}}else s=this.setval(t,e);return s}getval(t){return this.isSurge()||this.isLoon()?$persistentStore.read(t):this.isQuanX()?$prefs.valueForKey(t):this.isNode()?(this.data=this.loaddata(),this.data[t]):this.data&&this.data[t]||null}setval(t,e){return this.isSurge()||this.isLoon()?$persistentStore.write(t,e):this.isQuanX()?$prefs.setValueForKey(t,e):this.isNode()?(this.data=this.loaddata(),this.data[e]=t,this.writedata(),!0):this.data&&this.data[e]||null}initGotEnv(t){this.got=this.got?this.got:require("got"),this.cktough=this.cktough?this.cktough:require("tough-cookie"),this.ckjar=this.ckjar?this.ckjar:new this.cktough.CookieJar,t&&(t.headers=t.headers?t.headers:{},void 0===t.headers.Cookie&&void 0===t.cookieJar&&(t.cookieJar=this.ckjar))}get(t,e=(()=>{})){t.headers&&(delete t.headers["Content-Type"],delete t.headers["Content-Length"]),this.isSurge()||this.isLoon()?(this.isSurge()&&this.isNeedRewrite&&(t.headers=t.headers||{},Object.assign(t.headers,{"X-Surge-Skip-Scripting":!1})),$httpClient.get(t,(t,s,i)=>{!t&&s&&(s.body=i,s.statusCode=s.status),e(t,s,i)})):this.isQuanX()?(this.isNeedRewrite&&(t.opts=t.opts||{},Object.assign(t.opts,{hints:!1})),$task.fetch(t).then(t=>{const{statusCode:s,statusCode:i,headers:r,body:o}=t;e(null,{status:s,statusCode:i,headers:r,body:o},o)},t=>e(t))):this.isNode()&&(this.initGotEnv(t),this.got(t).on("redirect",(t,e)=>{try{if(t.headers["set-cookie"]){const s=t.headers["set-cookie"].map(this.cktough.Cookie.parse).toString();s&&this.ckjar.setCookieSync(s,null),e.cookieJar=this.ckjar}}catch(t){this.logErr(t)}}).then(t=>{const{statusCode:s,statusCode:i,headers:r,body:o}=t;e(null,{status:s,statusCode:i,headers:r,body:o},o)},t=>{const{message:s,response:i}=t;e(s,i,i&&i.body)}))}post(t,e=(()=>{})){if(t.body&&t.headers&&!t.headers["Content-Type"]&&(t.headers["Content-Type"]="application/x-www-form-urlencoded"),t.headers&&delete t.headers["Content-Length"],this.isSurge()||this.isLoon())this.isSurge()&&this.isNeedRewrite&&(t.headers=t.headers||{},Object.assign(t.headers,{"X-Surge-Skip-Scripting":!1})),$httpClient.post(t,(t,s,i)=>{!t&&s&&(s.body=i,s.statusCode=s.status),e(t,s,i)});else if(this.isQuanX())t.method="POST",this.isNeedRewrite&&(t.opts=t.opts||{},Object.assign(t.opts,{hints:!1})),$task.fetch(t).then(t=>{const{statusCode:s,statusCode:i,headers:r,body:o}=t;e(null,{status:s,statusCode:i,headers:r,body:o},o)},t=>e(t));else if(this.isNode()){this.initGotEnv(t);const{url:s,...i}=t;this.got.post(s,i).then(t=>{const{statusCode:s,statusCode:i,headers:r,body:o}=t;e(null,{status:s,statusCode:i,headers:r,body:o},o)},t=>{const{message:s,response:i}=t;e(s,i,i&&i.body)})}}time(t,e=null){const s=e?new Date(e):new Date;let i={"M+":s.getMonth()+1,"d+":s.getDate(),"H+":s.getHours(),"m+":s.getMinutes(),"s+":s.getSeconds(),"q+":Math.floor((s.getMonth()+3)/3),S:s.getMilliseconds()};/(y+)/.test(t)&&(t=t.replace(RegExp.$1,(s.getFullYear()+"").substr(4-RegExp.$1.length)));for(let e in i)new RegExp("("+e+")").test(t)&&(t=t.replace(RegExp.$1,1==RegExp.$1.length?i[e]:("00"+i[e]).substr((""+i[e]).length)));return t}msg(e=t,s="",i="",r){const o=t=>{if(!t)return t;if("string"==typeof t)return this.isLoon()?t:this.isQuanX()?{"open-url":t}:this.isSurge()?{url:t}:void 0;if("object"==typeof t){if(this.isLoon()){let e=t.openUrl||t.url||t["open-url"],s=t.mediaUrl||t["media-url"];return{openUrl:e,mediaUrl:s}}if(this.isQuanX()){let e=t["open-url"]||t.url||t.openUrl,s=t["media-url"]||t.mediaUrl;return{"open-url":e,"media-url":s}}if(this.isSurge()){let e=t.url||t.openUrl||t["open-url"];return{url:e}}}};if(this.isMute||(this.isSurge()||this.isLoon()?$notification.post(e,s,i,o(r)):this.isQuanX()&&$notify(e,s,i,o(r))),!this.isMuteLog){let t=["","==============📣系统通知📣=============="];t.push(e),s&&t.push(s),i&&t.push(i),console.log(t.join("\n")),this.logs=this.logs.concat(t)}}log(...t){t.length>0&&(this.logs=[...this.logs,...t]),console.log(t.join(this.logSeparator))}logErr(t,e){const s=!this.isSurge()&&!this.isQuanX()&&!this.isLoon();s?this.log("",`❗️${this.name}, 错误!`,t.stack):this.log("",`❗️${this.name}, 错误!`,t)}wait(t){return new Promise(e=>setTimeout(e,t))}done(t={}){const e=(new Date).getTime(),s=(e-this.startTime)/1e3;this.log("",`🔔${this.name}, 结束! 🕛 ${s} 秒`),this.log(),(this.isSurge()||this.isQuanX()||this.isLoon())&&$done(t)}}(t,e)}
