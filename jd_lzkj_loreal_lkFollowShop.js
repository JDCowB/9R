/*
活动名称：关注店铺有礼（超级无线）
活动链接：https://lzkj-isv.isvjcloud.com/prod/cc/interactsaas/index?activityType=10069&templateId=<模板id>&activityId=<活动id>&prd=cjwx
		https://lzkj-isv.isvjcloud.com/prod/cc/interaction/v1/index?activityType=10069&templateId=<模板id>&activityId=<活动id>&prd=cjwx
		https://lorealjdcampaign-rc.isvjcloud.com/interact/index?activityType=10069&templateId=<模板id>&activityId=<活动id>&prd=cjwx
环境变量：jd_lzkj_loreal_lkFollowShop_url // 活动链接
		jd_lzkj_loreal_lkFollowShop_opencard // 是否入会（true/false），默认不入会
        jd_lzkj_loreal_lkFollowShop_Notify // 是否推送通知（true/false），默认不推送
        jd_lzkj_loreal_lkFollowShop_break // IP被限制后继续执行，默认退出运行（true/false）

cron:1 1 1 1 *
============Quantumultx===============
[task_local]
#关注店铺有礼（超级无线）
1 1 1 1 * jd_lzkj_loreal_lkFollowShop.js, tag=关注店铺有礼（超级无线）, enabled=true

*/

const $ = new Env('关注店铺有礼（超级无线）')
var iｉl='jsjiami.com.v7';const II11=iii1II;if(function(IIIIl1,liiilI,lI111l,liiii1,IIiiIl,l1ilIl,IIiiIi){return IIIIl1=IIIIl1>>0x2,l1ilIl='hs',IIiiIi='hs',function(l1ilIi,l11iIi,ll11li,iliIlI,lI111I){const I1iI11=iii1II;iliIlI='tfi',l1ilIl=iliIlI+l1ilIl,lI111I='up',IIiiIi+=lI111I,l1ilIl=ll11li(l1ilIl),IIiiIi=ll11li(IIiiIi),ll11li=0x0;const IlilI=l1ilIi();while(!![]&&--liiii1+l11iIi){try{iliIlI=-parseInt(I1iI11(0x240,'xA*$'))/0x1+-parseInt(I1iI11(0x2be,'4xm!'))/0x2*(-parseInt(I1iI11(0x494,'pbH6'))/0x3)+parseInt(I1iI11(0x203,'7u1o'))/0x4+-parseInt(I1iI11(0x416,'V#04'))/0x5+-parseInt(I1iI11(0x452,'7u1o'))/0x6*(-parseInt(I1iI11(0x2e9,'c9im'))/0x7)+parseInt(I1iI11(0x3be,'84dQ'))/0x8+-parseInt(I1iI11(0x208,'xA*$'))/0x9;}catch(llIi1){iliIlI=ll11li;}finally{lI111I=IlilI[l1ilIl]();if(IIIIl1<=liiii1)ll11li?IIiiIl?iliIlI=lI111I:IIiiIl=lI111I:ll11li=lI111I;else{if(ll11li==IIiiIl['replace'](/[BRwQtUrLXVfpWJlbTn=]/g,'')){if(iliIlI===l11iIi){IlilI['un'+l1ilIl](lI111I);break;}IlilI[IIiiIi](lI111I);}}}}}(lI111l,liiilI,function(IliIII,II1l,liiiiI,II1i,illli1,I1lII1,Ill111){return II1l='\x73\x70\x6c\x69\x74',IliIII=arguments[0x0],IliIII=IliIII[II1l](''),liiiiI=`\x72\x65\x76\x65\x72\x73\x65`,IliIII=IliIII[liiiiI]('\x76'),II1i=`\x6a\x6f\x69\x6e`,(0x159ed9,IliIII[II1i](''));});}(0x2f0,0x49440,Iii11l,0xbe),Iii11l){}function iii1II(_0x7c84f2,_0xf82763){const _0x2b2a57=Iii11l();return iii1II=function(_0x6de246,_0x83695){_0x6de246=_0x6de246-0x1ee;let _0x3d7857=_0x2b2a57[_0x6de246];if(iii1II['nzhKch']===undefined){var _0x56551d=function(_0x27d2ac){const _0x8c274b='abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=';let _0x21a478='',_0xbcf7a5='';for(let _0x1074ca=0x0,_0x3e81d5,_0x3a17ba,_0x1e3fc9=0x0;_0x3a17ba=_0x27d2ac['charAt'](_0x1e3fc9++);~_0x3a17ba&&(_0x3e81d5=_0x1074ca%0x4?_0x3e81d5*0x40+_0x3a17ba:_0x3a17ba,_0x1074ca++%0x4)?_0x21a478+=String['fromCharCode'](0xff&_0x3e81d5>>(-0x2*_0x1074ca&0x6)):0x0){_0x3a17ba=_0x8c274b['indexOf'](_0x3a17ba);}for(let _0x517f76=0x0,_0x190c96=_0x21a478['length'];_0x517f76<_0x190c96;_0x517f76++){_0xbcf7a5+='%'+('00'+_0x21a478['charCodeAt'](_0x517f76)['toString'](0x10))['slice'](-0x2);}return decodeURIComponent(_0xbcf7a5);};const _0x45ff5c=function(_0x227f43,_0x509e93){let _0x5e02bf=[],_0x289922=0x0,_0x1b62d5,_0x188ee9='';_0x227f43=_0x56551d(_0x227f43);let _0x5e74d2;for(_0x5e74d2=0x0;_0x5e74d2<0x100;_0x5e74d2++){_0x5e02bf[_0x5e74d2]=_0x5e74d2;}for(_0x5e74d2=0x0;_0x5e74d2<0x100;_0x5e74d2++){_0x289922=(_0x289922+_0x5e02bf[_0x5e74d2]+_0x509e93['charCodeAt'](_0x5e74d2%_0x509e93['length']))%0x100,_0x1b62d5=_0x5e02bf[_0x5e74d2],_0x5e02bf[_0x5e74d2]=_0x5e02bf[_0x289922],_0x5e02bf[_0x289922]=_0x1b62d5;}_0x5e74d2=0x0,_0x289922=0x0;for(let _0x38223e=0x0;_0x38223e<_0x227f43['length'];_0x38223e++){_0x5e74d2=(_0x5e74d2+0x1)%0x100,_0x289922=(_0x289922+_0x5e02bf[_0x5e74d2])%0x100,_0x1b62d5=_0x5e02bf[_0x5e74d2],_0x5e02bf[_0x5e74d2]=_0x5e02bf[_0x289922],_0x5e02bf[_0x289922]=_0x1b62d5,_0x188ee9+=String['fromCharCode'](_0x227f43['charCodeAt'](_0x38223e)^_0x5e02bf[(_0x5e02bf[_0x5e74d2]+_0x5e02bf[_0x289922])%0x100]);}return _0x188ee9;};iii1II['MJptEE']=_0x45ff5c,_0x7c84f2=arguments,iii1II['nzhKch']=!![];}const _0x1ca191=_0x2b2a57[0x0],_0x1d1dba=_0x6de246+_0x1ca191,_0x25b830=_0x7c84f2[_0x1d1dba];return!_0x25b830?(iii1II['XMjbRM']===undefined&&(iii1II['XMjbRM']=!![]),_0x3d7857=iii1II['MJptEE'](_0x3d7857,_0x83695),_0x7c84f2[_0x1d1dba]=_0x3d7857):_0x3d7857=_0x25b830,_0x3d7857;},iii1II(_0x7c84f2,_0xf82763);}function Iii11l(){const iliIli=(function(){return[...[iｉl,'BQrXjVsJVjfRiWnLatQlmLwi.nwcVbpom.TvUnU7==','WO56mSo8AsldQ1m','CKJdLs0','W5fElSolWOyq','WRJdNqGiaCk1B8kxW6FdIa','W61hqa','4P+co+ACSUIbK+AUG+EHR+wMU+ErGIy','5lIp5AwP6ycY55+/','BraeW77cQW','WPhdKfdcVd/cSbFLV47LP5/JGypKUAJKU6JOTjhLJ7y','W77cMXJcV8oqzCk/qgOTj8oRxMBcVSoMW5lcHSozFaPNx3ORESkYbmo3WPflBSkUs8og5REq5yMN6zc45O+c','EGmh','CshcVmkjW4O','WRVcQuVdMvC','WQFcQuldNMddImofA2JdLmoi','wIVcMG4','WOiuW5C5WRhcRYFcT8k5WQdcK3m','8jASH8oY5Oon5zw+6i6v5BYE5A2654QQW4a','WPVcOCo0W4D3lSkZW6hcTSkJW7RcMa','WQ/dVe9EyG','W44PvSoRqG','ySkdW4/cSM1VW5XgyG','rtxcRSkxW7W','DvqjBgdcL8k1','5yY66ysw6k2/5PQjjH/dLmobWPChWPWbb2m','WOhcNKlcH8oa','WORdP0XisW7cKW','5BAj5Ac45z+Y5z2z','WR3dNWGa','p8osWQ3cQg5iW4u','zmoiW7yzWQ3dPmkb','WRn0W4WPla','Ce4ureJcK8kH','AeqowLpcM8kHWPm','W4u9ACooWQWCae7cOqtdLCkN','oUE7SUACOU+8PUs4H+AVL+AuU+EbJEACS+wqQSo6','C08ot37cGG','CuNdLcWZD8kEWOFcMa','8yMSRSo25Ogd5zE36i2q5B6z','jI3cJgLSWRu','WRXJW4u/gmkiW4NdJG','uhtdPqGq','lWCF','s8oRWQhdK8kdrCoS','WRddKbuvj8k1DCk6W4hdH2GU','W6pdOf00WOiU','8kc0IU+4LCod5lIc5lQg5lUb','qmo6W7y4WPC','WQVdIXiKgCk4','WOKhW5yGWR4','sSk2W5G8WOK','sSk0W7Ou','W5BcLh7dNGm','kfq4W4hcNWZcOhrPW4qSl8k6WRhdGCkiCG','WOuyW488WQJcSqdcPSkcWQK','bqBdGhtcTW','W5/dH3W8WR8','WP9tW6iF','W4ZcTWNdK3i','l8kGbs3dVWWY','gJdcTNbSW7zVl8kxWOVcJ1O','W7pdH8ozW5BdTSo+lCkWfSojWOFdJG','WOhcR8oPW4fAimk6W6e','W7ZcKdtcP8oeB8k4EG','z8osW6u','dYRcQgHF','WRxcVw3cRmopF8kO','44k45lI95lIh6lA+5y28','W7xcRN9D','vuurcmoPW48f','WRLYW5KYe8kDW6NdJmkM','W6ddKCodW4ddRmo7','DcZdMeVdHJL2W6rR','WRxdKrS','FWlcVG','zIRcUmkmW7y','DHVcNSkWW5G','qSk6W6K','W7VdISoeW7hdKSo2mCkqlColWO/dHq','W4ldU8o9eGu','W4vcoa','5yMe5ywW5BUm6zgO5lYW5zcv5AA+6lst776O5REJ5yM95lQw6zUm5BU46zo05lYp5zkU5yYu5lUg','W5/dRNyPWPm','W6v3FmoDpa','6AcF6ksY5zQe54Ur77Yp','i14R','BLldGq','W5DznCoR','WRFdGSkLxqRcGgS','pSkQhZtdJJaYWQhdJa','WPb8nSo3','W7xdGCozW5ddSCo6lCkclComWOBdHmoIWQ/cGSkAcq','mYZcJ21aWQm','W6a+v8oTWQC','WOxdP0u','W73dT3ebWR4','oXxcGCkBWO/dJCoCia','W6hcVwjgW7X9kdu8','W6zls8oVg8kcWQS','WR7cRuddKwW','WPhMIyFKUzFLRiJNIBZcUG','qmoNWQO','WQvZW58DeCkBW6C','W6VcMW7dVNVdU1dcQW','bZdcJmk8WPK','W75PCCouWOviW5eIAq','W7lcLbpdOKxdS1pcMNS4WQhcMG','WRldK8kIxHJdNse+','WQyGW5eJWOy','W7ZdLCogW7xdTW','5Rw35yUR57ol5z6p77+t','W7uUFCo1EmotW6RdTa','ESkwW5rRW5W','W7NcPwVdNdi','W4TLkCo9tMldRfxcI8kXWRSNW7KDB3BcGSkLWQNcKri','yJFdIq','jcxcLhW','WOpcUSo/W65Ts8kDWOxdV0JdJq','AmkMW6WWWOu','uf8mimobW4Sr','WOBdGIhdVZZdGW','W694BmohWPzOW4S9t8kM','5AAo5zoO5BEh5yYJ5A2p','WO/dOvO','WOPmh8otBa','W7FdQCoGW67dQa','WO4sW5aJWQBcOty','WRFdRrxdUsO','W7lcLJ8','zftdNG','BdBdHxJdHG','DmkgW71AW4a','4P2ohEAEJoEEOoIUQUAXKSox','dCkZj0BcUW','kd8dwXa','xmkfW6TNW6Sy','BJRdRL3dMrX9W5zIF8kdl3zBA2jzhZWzmmk1e8kFtComW5q7WReaWPpdV2vuWOVcQCkbW7ldU+MBQowjL+wqGUE7P+E7G+AlJ+IHSo+/IHdcQmkCW6iDe3VcKXn87721','W5Dcifen','W65RcxGWeW','WP91W44Pm8kBW63dJW','pCo7WO/cKfW','mJhcJLHNWQm','5AwW5zgp5BsG5y2X5A2U','xCk9W6efWOH3WOFcVa','yX/cSmk6W5JdO8kyeCot','W69jjeyj','oSkKadhdGG4','W55Ne0KO','xY/cGaRdUv9RWOO','peu+W73cGG7cU1r/','jSocWOVcRMTkW4jRvG','iowVJEEkQ0q','WQlcMLddLgi','WPBcTSoRW6vr','DJFcNCkmW6K','W5jycSo/WR4','WQVLVk7LP7pVVPdMMkdNGzZLHypMN4tLKlJcQq','5P+i6icK6iY85y2r55sZ5OIv6yQD5P6/5l2l5Ogv','qSkFW6i','aVcqL48','W7NWSk+J77MU','CfJdLtucFCkeWOy','W77cKc7cVCoPyCkXEG','hY7dPLlcIG','j8otWORcT1PaW5HQ','amofWPZcTuTmW4zO','W5ldO3JdQCoi','W64LASoGxW','W6pdONddMCo+','lHlcMq','WPJdMcJdKZW','lZhcLfTLWQyn','W47dHCoT','WOpcU8oZW6XAjq','xCkkW6DTW6O','xZ/cNt/dIfy','kcldHgu','obNcM8kmWO/dICosj8oH','W7ZcNW7dG2FdTM3cR2yYWQNcKunKsq','WQaYW6azWRa','8ls/MYa','rY7cPXxdJvD2','W7NdJh47WOm','5P+B55YR5RAM5yIb54Qc5OgaW7C','W6ZdKeRdS8or','iZBdHelcT8ofW4O','W6pcNI7cPW','W79bu8o5fa','5lIM6zIN5Pst5ysJ5RcV5BMr6zkP55EM5OUA5yYB5lUT5zoWW48','s35Et8kM','sfuwpSoAW4mrhW','W5VdUxtdR8ocW4Oe','W4/dTg/dLCoUW5qqW7GuWOO','WPFcP8oL','dCoxWRBcHfm','W4DknmoV','WRJcUfxdG0BdVmofyW','5P+d552T5Rsz5yQu54Qy5OgHW4C','emkAsmkXxG','sSoHWRu','eZivDxy','WR1erCkgWRO','D0qoww3cKCk3','W69MfxGMgSkZaW','aqRcQ25j','hZlcTNG','WPxdLdVdQsBdHSkanuy','s1fBF8kCW4a','svjdECk2','W47dG8o5eWnjr8kguZe','W6hdKmomW7hdT8oS','WQbIW7q3b8krW6RdTCkZWRhdI3SuWR/cPh9XpCopWP0sEuhcMCkqfhZcQ8kGWOLTW4VdHCkUW4C3','W4Pfi8oIWP0qW5OH','6i+j5yYnqCktEenIiSoXW5ZcUwxLPyhOT4y','W694BmoRWO5LW6STA8kN','W5RdPhxdNCoLW4m','sSkrW7fd','laaeCcldKM8','W67dPKCwWPGIWRpdL0hcNq','mSotWO3cLwbEW5TIqCougCo4W4FdOmoZW7el','W6DbxW','WRhdKq8vgCk9DSkl','vL8c','WQNdImk7sW','o8k8iaRdVq','WPldNJC','W6hdO1WEWPS','WQNdLXi1gmk3FSka','4PQRWP3ORBxLOltLHzJMORNLV6NMRRNNOPxNMOVLJ4FPHy4','5BMn6zgD6zcO5O6l772XWO96zCoXW73dLmo8mmoimsjwC8o7cuNcRCkxAYnHW53dN3mCWOFcSmoGi8oIW53cSq','W67dPKCaWOiNWPxdINJcKCozWOm','W5RdMCo7oGjA','WPhcSSoIW7Djv8kh','Bq7dMv7dJriMWR8IiG','cWHuF8k9WP1qeSoLtCozdWu','WPXOW4ytla','AtpdPKNdRW','baBcHfrS','pYVdN3tcLCofW4bN'],...(function(){return[...['WRBdImkX','W7fSaq','5Rsz5yQx5BcY5PYW5B+U5Aw/77+/5BYB5AsT5Pwk6zw3772w','t8k2W7OMWRj3WP7cRmkK','772Y5PUr5lUp5y+o5PY26iAf5PY35Pw55O+c77++6kYi6igR57oB5l+W6ici6l+56kgv5y+G6Asb77Yh','WOf7lq','cdZcR3W','WQVOR5NMSBRLPQ3OTz/dHEkDKSkb5PE/5zcA5BMc5PEx5O61','DaumFgJcKmkFWPW','W6Xtiv40','jSkLiwBcQXNdIG','WRfyc8owta','tmoHWRVdJSkRtmoVWOS','8k2MRE+7OmoV5l+45Ogg5yQb','vfeikW','ECoyW7eVWP7dQmkvWR0','W710DCol','W47cMZhcISoV','4PQIhEITKEweJEwVH+s5MEw8SUILOoEzPEEmQEwHLowpU+MgPUwsQUwhNEI9R+IIREIfKoADOW','qrNcIZldHa','k8kwsSkNDW','4PIXW6/OR7ZLHBtLRipKUBRLVOZOP5NNM53NJiZLO4dLJPlPHAJLKBpLHOROVPJOOQ/OHyVMNza','WRVcSK7dGhhdNmoz','gWJdM2NcMa','t8k2W7OCWRb/WP7cOmkEoW','pxSoW5RcNa','zt3dHvJdLr5JW7bhDa','W6NcNWNdPKRdUvlcQNe','WP3cOCo6','oCkLcaNdHbq5','iIBdH2BcUSoxW4HxhXG','fcWJv0a','8yMWJ8o256Mu5Rg/','WOLWkmoHsYRdQG','WPlcSmocW4Pi','wSkFW65hW6S','5REZ5yMX5BcH5z6yaW','nGSYvhFcSSkXlJdcGCk+','W5VdPxRdQSo/W7mkW7qw','AWSwFa','WO5FFmkDWOC','8y2uIo+4Qmkq','WO3dQvzD','tYVcGb/dS0b0','W4ZdJCoHhG','WOj8iW','DvmutwxcMa','smoNWRhdI8kSq8oKWOe','5P+Z5B6+5AA3','WQdcUSoEW6zW','WQHaFmk/WPa','W61QcfWwhmkLcG','W65RcxG3fSkTaq','FGJcQSkZW5ZdJCkt','WRddG8kcqqdcGMa','pZRdIg/cNq','WQVcTKNdHeBdH8od','W6tdGCodW6hdP8oTfSkG','ASkuW5XgW6i','WOOzW4a8WRlcOJBcVq','W4NdSv4XWRO','6i6r5y2yWONdTmknsCoSWORcNUwMJ+I3Kq','E1enrMxcLCkZWOa/ySoQW63dVSkiWQPyWOeGW7SFFKrGuSkPqXFcO2VcM00','WR3cNComW6vs','WO8yW4q','wSk8W6mq','WO7cMNpdVeC','WPNdOuXOqqVcGSoU','yaBcSmkWW6/dN8ky','W7LBvSozfmkb','W7ZcVgW','BH0gW7VcVh3cSspcOq','wH7cR8kuW5ldGCktgCkb','ksRcG3f8WQmpWPa','W7RcNIRcTG','W6pcQNHmW4zEoJ8','yrJcT8kfW5pdJG','W77dI8ok','d8kcnLZcRW','pCkOgdtdMXaOWR7dQSk3','W7/dGCoEW7BdO8o4oG','kL86','WOL2eSo7ya','WR7cTWvIW4fZW5ldSKlcQSo2WRpdPG','p8koDCkrqW','5P+j5AcC5z6t5zYq','BMVcLwLGWQSzW4W1W53cS8osWPnjWOZdUSooEb5zgmk4jK3dILRcRq','5P6H6iot6i6p5y2k55ws5OUs5RE15yIj54QP5Oow','zLZdKIq','pmoyWP3cON0','BLldGsWZ','fmk/rCkpA0zCeSo2W5BcPv0rWO9FehBcGaNcGL5rWQFdVbFcGSkMW51cWPWYhKivW4ddP2WaW6CX5PQ55zgq5yAz5l+A77+eWQeNohbVx8oTa8oXiU+9So+9SoM7SEITVos6MUwgHEs9OW','B1JdLty8D8ks','W5xcR2ddLYnUWPFcKr/cKJBcLqlcJG','FrSbW6lcLxFcQJ7cJrK','W6ddGmomW5BdOW','pvq/W6tcSWRcVvzJ','ua4BW67cPG','dc4EFG','EGutzgNcHSkHWPeXvG','W5WMCSojWOeudu3cKq','tmoHWRVdJSkHtCoTWOhcISoqWPlcRW','pYWIsMy','oq8tAJxdG3BdTq','WQDJW5GOhmkDW6u','W4xdTgJdQ8oQW4ag','WRLkqCkBWRxdUaqwWQ0cW7T8','W7JcOxHzW6Th','itddLW','sZ0aW5pcLa','5RER5yM75Bci5z+2WPy','W6BcIINcLSoeAG','FSoXW4C5WRu','W6pcUMv5W7Dx','5O+s56sh57M15PYAyc3dISoCW5ZcU8oQhLtcMq','5lQY5A6y5zYH','fdZcSxLI','ptlcUhPd','WQFdNWhdMtm','lCk4jIZdUW','W7fhd1GH','W7FcPNm','oCkLiwxcLr3dGdVcKq','gYixuce','u14bk8o9','W4ldG8o8esvqCSkb','WORcVmoQW6n+umkA','W7NcMJtcOmolACkW','W7XOECoYcW','sKimnmoGW6adfCou','WR7cSMpcUW','WOuEW5S','kH/cM8kMWPBdJ8onn8orEry','W5/dShldRa','kIRdIa','WQpcUgFcRSoKESkY','svGkpSolW48phq','WO7dSKTmaKdcG8oLgCopW6rkuJZcV8k0ea','smkzW70','iqSgzJ7dKgG','cdJcQ2LiW6P1','WOH6pa','W5xdT0ehWO8','FmoYfuBcQqNdIqu','EIezW5lcQa','kX4KsMVcVSkWlq','xCkBW6XsW5CjrW','WOJcMSo8W6nA','WOxcUSowW4bq','WRHSW6mFja','WRXiqCkt','nmovWO3cK3XDW44','gJdcTNbSW7zVl8kwWOdcKW','mmkKcW','772q5Bs55OM85yUc6iwh5yUr55IN6k235PAv6lE05z+l5z2PWODZ','WQ9ixmkg','gmkYyG','sfuviSoKW40h','omkQgdW','Cauy','4PMuWPFORRJLO5hLH4VMOPVLV7VMRkpNOzVNM67PKRBMJz8','lGSjvY7dI38','dmk+ACkttKbfkG','df4IW6dcIqFcPH9sW5eWjq','WOldMcddKXq','j8kVihdcQXldHtVcL0FdS8ogW4JcVSk6W4RcUSo8W60','W6BdPfSKWQC','5RAu5yU65BEY57MZ5P6W772/57Q35P205PsE6zAE776P','WOL0kW','E8opW6SLWQtdI8khWRFcNG','ivGVW7/cOGJcV1C','WQpcNmkCWRtcUSkSBCkUfSoxWRJdMCog','WR9mqCkNWRddTaiPWPyxW6D2W60NW6mEyq','dSkPC8kzDgnximo/','mXKfW6ldJgVcRslcTLbHb8kpW4RdSmoYoa3cG8kAW5/cKmkVsLldQqu','ESoxWONcRIPzW4P+rmkiemoqW67dOmo0W7qbc0FdJ8opvKxcLSkuW4NdQxNcICoZpYBdIsJdHhPattRdJrWgW7pdLthcP8o5WPD8WPPe','Ef5xna','lSk+aHJdGX0','kcZdNMe','W6BdTLldHeRdHCoeig/dG8ogogFdOCkBWORdRCkJW6FdPG','W6FcLGJcGSot','6i685y2RWQilWQ7dRSkdWRtdM+wKVUI0UU++Ga','F08l','jXXafZhdI8oVW4LRma','mXq+vh3cVCkLjq','kSkhctddTq','W4Thd8oOWOi','44cY5O+V56ss44cl6kYz5yE86i2e5y+nWQxdK8oSjZJdSW','WO17kmo3wdK','bHObtr8','WQlcPMdcM8oyAW','5yIV5yEG5BQK6zkP5l+S5zcE5AEw6lAB77YG5REd5yIC5lIJ6zUz5BI96zgm5l+u5zgg5y2j5lMW','5P636io+6i+r5y+E55wr5OMa6yQ05PYN5lYl5OoC','EKZdN8o7','WOKtW7C/WQZcOZ0','jXpcIa','pSkajdZdMW','jL8OW7hcLa','WQNdJmk/xJNcKMa','FtSBuu0','icZdLW','lcVcH1H7WRu','E0ijq3RcN8kMWO0dF8oO','W4LpfmoHWOmrW5e','W7BdLSomW7ldKSoTnSk+jW','qmooW6KEWRq','WORcTSo4W7n1q8keWPK','e8k+ACkqCePt','WQnOW48+bq','kLWqyetcGSkxWO0','5yIF5yAL5BQE6zgd5l2Q5zgE5AEj6lEe772E5REm5yUZ5lIY6zI35BMR6zcE5l2g5zo75yYY5lIF5zcavG','W7THxSoraG','WP/cMCkJcGr8y8kLCq','W4/cSMddGXvpWPBcHZ0','5REz5yMX5Bw55lIjoW','kvG0','mXq+vhdcTSkW','WRjtrSkxWPm','xCkHW68bWRnL','i14RW73cGG','W59QeMK1','WQbPW4i1pSkvW6tdJW','W6r/r8ocWPPQW5uBASkTiMDCktRdHmkGwmo4yfFdM8kmCwxdO0BcOSowWOaA','vCoRWRZdHmkStCo9WO3cPCoh','eZZcSw10W752mW','mZdcKNrNWQadWOuE','BmkpW5G8WPi','W49ejW','W4i3C8otWO4uaq','W67dPKC6WOaVWPpdH3JcGCoeWOm','qCkaW6bmW4yDwYTrWQTV','5RwI5yUt5BAL5lQ0fa','oqNcGCkkWO7dGG','W6lcPfTBW6S','5P2M6ik+6iYh5y+s55EZ5OQt6yUz5P2b5l6m5OcB776w','zmkHiMxcUvhdHJhcGepdRmoxW4RcOW','tL8ok8oR','W5ddR8opkc0','44cs5lQr5lQ66lwJ5y6Q','iXn6ExRdV8k5iL7cGSoVaf0+WPL7WR5AeCkMubbbWOfkvIZcUtrUW50/yI0MsxJdRx4rvSkvWPXUeCotW5G'],...(function(){return['W5RcUgddJq','W4XVymo7WQW','mbWaCaO','WOxcOCo2W4XA','5RA05yIT5lU26zId5BMH6zk85l+95zoM5y+U5lU2','af0BW5NcPa','4P+KWOZLV4BLIllMTzFLIPBNSA/LNAxVVlq','cdlcR3W3W7bPp8kKWPVcKq','WO5Xbmo+ucBdPwNdImk3WQC2W70duxNcNCkqWQFcNa0scdDThgaDa24pqqC','shONamo1','WQtcOxVcUW','WQ7dO1Pywa','WPD9oSoGtXJdVfpdLSkrWRe','pvGNW5FcQa','rL5CEW','W4Lph8oIWPiFW5unW6ZdIryxE8kUWO3dHJZcTmo1WQJdICkEm1u','WOhdHW45oW','W6NcNWNdPKRdT07cQq','5P+G5BYg5AwG','W7BcNWNdPxtdVvG','W7VdG14+WRa','iCkVo3VcJHVdNa','W7JWLz60','W6tcLINcH8ofzCkWCq','CXOAzKxcKmkaWP0lvmo0','W59HpSkV','u14wk8o3W5O','ECoWzspdSKJcNZ7cU0JdI8oxW7G','DeaqtW','CtZdOxBdOa','kG8Lu1RcTmkQlbW','W47dVNFdTmoKW5aWW7eCWP8','fmk5W6RcL8oBgSk9WP3cSSo/WRhcT34','xXCBW7/cHNdcQMRcKar4da','WRr+hSoOtW','W7pdRCoEW5pdJq','W5RdICoMdZnDE8kkwq','zmkgW4NdStW','zCoCW686','v1uwpCoKW4Kh','WRJcUfpdMe3dImoAAG','W7xcNdpcGmoEB8kNA1iRomoR','W7NdTxiYWO4','o8oFWPRcReTmW4zO','77+95lQ65y6y5PAv5O2t','A+IST+AWKowtMow5NL4','xCkyW6PvW4WrtG','oCk1pfdcPbO','isBdG3FcUSodW4G','W4hdGSo2eXLACCkD','WOHgD8kRWQy','kYBdHfhcQCoiW71JhXxdUSkztq3cJG','W5W6B8oqWQescu4','5P2u6icM6i6T5yY155s55OIA5Rsn5yUL54IS5Ok4','FNibb8oG','D0uXfmoK','W6pcQNHmW4zqjJW8','WQ7cT0hdLwa','obGJu0lcUSk3mZhcISkIvq','gCkTDSkVsW','6i+I5y2GW5NcK2PgW45Jd+wMLUI1ME++UG','iHlcJmkJWPxdGSoCpq','W4tdVNW','rmoVWQhdHCk3umoL','o8kPpehcPrxdIJe','W7P0C8olWO4','BX4nywJcLSkBWP8N','W4FdUmoYW4f2mSkYW7a','WRNcS23dPxy','EmovW60VWOJdOq','wCk0W6Cb','WPBcQ8oZW7X1','k+ITIUAZGowLRUI3PmkL4P26W7O','W53cTMtdGbC','W7rTfw0laW','W7qGz8o1DColW7C','8yMsGrxNQOJMS5C','W5RdTLyHWRGNWORdMW','W7/dT1OPWPmpWONdMem','WO9pl8oQtW','WRHJW5GRiSkxW7pdJq','CbCs','DK4A','bSkJySkBAvvonCoIW4hcR0aiWPT4bgxcVH7cLKPgWQJdLWFcLCkUW7PvWPqVcfKmW4RdUZrxWRbP','W7HTbxOab8k0nmkdW50','dqNcRe1S','jaSuCtRdHx4','nb4KsvxcTmkM','fmk5W6hcLmoBB8orWPxcLSo7WRi','WROzfSkVvmou','W6ldNuSgWPK','auaXiCoUW4Smrq','WOT3W6O3ka','W6blqCoV','ka0tus/dG2NdPgldK1rB','uSoHWRNdHCkm','W587BSo0WOayauu','W73dOeaJWQKRWPtdMq','WQtcTKa','B8oCW7y+','lIhcL39OWRqpWRyvW5q','ufPBASkXW5FcNh/cGW','CX/dNuNdGq','obtcJSk9WOxdS8okk8o2qH4','g8kooa','W7hcPr3cNCo9','WRZdJSk4tWFcI3C','W6ZcScdcI8oS','WPxdLdVdKYtdJSkaoxWo','oXOKu1FcMSkTlaO','pdhdMx7cVSoWW5rYca','W6FcLYJcO8oKB8k4EG','xSkzW6T2W6Oxtce','WQCtW7O0WQa','xW7cNbddTa','W5nomeCS','WO/cVmo4W7r6rCkm','pX4MyYm','W5rQCSoeWQ0','mXq+vhFcVmkNlW','WPVdVuX5qaq','laar','Euajswq','W4aNDmoMWOmsaW','W6xcU0bvW70','W7xcNdpcUSoCz8kHzK8M','ka0tAY3dI2/dQx/dNG','W7JcKca','laaeCcldKM/dGf/dLa','gcmRwY0','WQrpsmoScCokWQFdJ2VcSSkKW4BcUaS','kZevDeq','W5JcUGWiafe','ssVcHXS','t8kLW74zWQ91WOVcRCk+mmklWPdcUZWnW77dOgNdQxFcJ8osW7lcIKRcNx/dS8oWksNdPmoi','W7XXumoQWRK','WQtcO0ZdMG','5AwS5zoX5BAx5ysM6ygT5y2/5A+U5lU+77695lIX5Q6Q5PAu54oV5P2y5zgxiq','r+s5UEs7Los7V1S','WPpcMmoGW510','m8oFWOe','tcNcHYNdKLnSWPJdGG','WOpcUSo/W5nIuSkm','W7NcPvjmW5e','W71WCCoEWRj0W5e','WPRdVfbvqaFcJSoMbG','xmkvW7zsW5OrwIG','rUobK+A2I+wkRowFQ+wFPoocVa','EmojW7a2WQ/dOSkpWRZcGG','r8kKW7jfW7y','oXSjrZxdHG','o8kUgaJdNXumWQBdKCkYWPzmW7KCW7K','4P+xW5ROHAdMNRROV4xOO5BPGBRLI77KUPlPLyRORkVdVG','8kInGKZMGldLLlhOJ47LV4S','aW0VqNe','jHNcNmk8WOhdGCoC','WPXRvSkeWRe','W5xcSNJdTrK','fmk0C8knuKjskmotW5FcSvC','vCoMWR3dKmkSq8oKWOe','CKNdUtu0FG','WOJWU7E8','ibNcISk/W43dH8ovj8oYBG','8kg/MSoI','W6n+A8oDWOfMW5O','W4BdICoIhq1nCCk7tI0','WRLYW4OVcmkj','5yU85yAU5BU76zkN5l635zcH5OMm5yMy','W6NdGCo3nW4','l8kUaJNdOXyOWQ7dHCkQ','AauuBwG','CaiEW6e','WRtcMWRdVZRdRLZcVx98WQlcM1TTvmkNBa00BK4zWOyRWOhcHG0','aJ3cTCkfWO8','cmkkgutcNa','WPb6mmo3ra','mHy8wwW','WRuwW7CGWRi','W7HptSo5pmkkWQldJxdcOmkFW4NcVra','W5xcR2ddLZLOWP7cJG','WRtdMW8sfSk7FG','6i6R5y68jfXPWPRcL8kxa+wKL+I2Vq','swtdUI4JWQCVl8kYWRpcUKHT','vty6W4FcQa','AYVdHxFdJXzW','crxcM8kUWQW','5P+B6icZ6iYQ5y2/5Rsp5yUP57kS5zYp','z8o4WQldRmk4','W6Pntmo1dmkmWRRdMeVcRSkMW4i','mooaOow7SUMsTowsIoELNUobS1S','WPNdKJZdItpdGmkr','W7zEcSoiWOi','WQNdK8kKrWxcGgD3W7G','5Rw05yQz5lQj6zUe5BM76zkt5l+i5zgQ5y+e5lQM5zkMpG','W4NcPwFdNrv0WRhcHq','tLbp','sfbbDmkTW5VcL34','W6j0FW','qCkGW7OZWQP3WO0','jCoFWPFcK2PgW45J','BG0BW47cJxO','o3KHW4pcPG','kdhdKxpcI8owW4r4ca','aXqpBJC','j8otWORcT1PoW4rPsG','qsxcLa','44gU5OYl56sG44oY6k+M5ywL6i6b5y6BW5NdLSk4uXNcHG','WPdcOxNdKf9YWPNcKJNdMdFcNchcK8kimmomWODcWO5hhNC7oWJdVM/cRSkMWQv6yCoiWOT1otSdFq','5P+Z6igd6i+l5y6355wF5OUR6yMV5P6T5l2p5Ood77Ym','5AEP5zcb5zce56wj772Q','W6/cLhZdKYi','ctBcSwLfW7jOmq','5yQA5ywv5BUY6zk05l6F5zo25Awt6lwD77695Rsb5yIJ5lQ46zIg5BQQ6zkk5l2f5zcb5y2y5lUM5zgqW4W','lshcK25OWQap','nwZcIaFcKsvzW59OyCkA','WOWhW4y+WOtcPYhcQSk4WQVcJW','5BMo6zge5zgX56Ar772TW78','obGJu0lcUSk3mYZcLW','WQHYW5WIea','ASkYW6zuW7C','W415uCoqlW','uGZcKSkHW5i','W6FcUfFdMqZdImouE1tdKmobCMNdS8k3WRFdOCkbW6ZdRLm','WPdcRCoPW7PaimkJW7hcJa','BCkXW7S0WPC','kL8VW6BcLrNcPG','WPlcQ8oIW71+BmkiWPhdJW','5RsH5yQj5BAp57U55P2t77+657Ib5P6R5PAG6zE5776E','xJ7cKG7dK0e','lq8tyW','CqCOCeO','o8oDWPhcOK4','WP3dMtZdNYddKW','Bow9G+wLU++8IoAAGEEaNEweOoADP+wrIGO','suqxj8oRW4KlhSoi','wdKiFfW','uaNdOgxdJq'];}())];}())];}());Iii11l=function(){return iliIli;};return Iii11l();};const jdCookie=require('./jdCookie'),common=require('./utils/Rebels_jdCommon'),notify=require(II11(0x419,'iqqg')),getToken=require(II11(0x476,')bbR')),{wuxianDefense}=require('./utils/Rebels_H'),{loreal_savePrize}=require('./utils/Rebels_savePrize');console[II11(0x48b,'AzV8')](''),console['log'](II11(0x47a,'$Mrl')+$[II11(0x3d1,'84dQ')]+II11(0x2ec,'R5Gc')),console[II11(0x39b,'xA*$')](II11(0x2de,'g9#p')),console['log'](II11(0x41e,'%STT')),console[II11(0x462,'pbH6')]('jd_lzkj_loreal_lkFollowShop_Notify\x20//\x20是否通知（true/false），默认不通知'),console[II11(0x24a,')bbR')](II11(0x35c,'4xm!')),console['log']('=========='+$[II11(0x204,'$Mrl')]+II11(0x435,'AwON')),console[II11(0x2b5,'OC66')]('');const activityUrl=process[II11(0x414,'fej]')][II11(0x4a1,'6vad')]||process[II11(0x261,'v3F#')][II11(0x1f7,'7Hz#')]||'',joinMember=process[II11(0x37d,'1F#o')][II11(0x3a7,'hFAt')]===II11(0x1f2,'5u4E'),isNotify=process[II11(0x479,'$Mrl')]['jd_lzkj_loreal_lkFollowShop_Notify']===II11(0x32b,'7Hz#'),hotbreak=process[II11(0x3c8,'6vtX')][II11(0x1f0,'6vtX')]==='true';let cookie='',originCookie='';const cookiesArr=Object[II11(0x245,'@3wo')](jdCookie)[II11(0x46b,'6vtX')](iI1IlI=>jdCookie[iI1IlI])[II11(0x2fb,'iqqg')](l1i1Il=>l1i1Il);!cookiesArr[0x0]&&($[II11(0x42f,'AzV8')]($[II11(0x40d,'g9#p')],II11(0x47e,'$EE&')),process['exit'](0x1));!(async()=>{const l1ilII=II11,ill1I1={'bLeIw':function(Ii1I11,IllIli){return Ii1I11===IllIli;},'BitaL':'eXsAx','CZZCx':'⚠\x20请填写格式正确的链接','jpupy':l1ilII(0x412,'sSWX'),'fWupR':l1ilII(0x2e4,'0W2h'),'gTnLo':l1ilII(0x468,'7u1o'),'UkiAk':l1ilII(0x26a,'@3wo'),'xOgXF':l1ilII(0x293,'$Zdd'),'gxvLe':function(ii1Ii,ii1Il){return ii1Ii===ii1Il;},'iAvUH':'ZLUaL','hMvWY':l1ilII(0x3b8,'pWF('),'KdaHQ':function(l1iII,iI1Ill){return l1iII+iI1Ill;},'AlJYQ':'活动入口：','wAlxb':function(lilI1,IIIi1){return lilI1<IIIi1;},'JIBOB':function(i1llli,i1llll){return i1llli+i1llll;},'QfkIU':l1ilII(0x288,'AwON'),'vtgaO':function(iI1Ili,llIIiI){return iI1Ili+llIIiI;},'MWktJ':function(iI1111){return iI1111();},'hjYpH':l1ilII(0x3fd,'tYDN')};if(!activityUrl){if(ill1I1[l1ilII(0x2e0,'kl6p')](ill1I1[l1ilII(0x2a1,'1F#o')],ill1I1[l1ilII(0x49f,'i7t&')])){console['log'](l1ilII(0x3d5,'AwON'));return;}else l1il1I['log']('❓'+Iiili+'\x20'+IilIli[l1ilII(0x2d2,'84dQ')](li1));}const l1i1II=common[l1ilII(0x398,')bbR')](activityUrl);if(!l1i1II){console[l1ilII(0x486,'1F#o')](ill1I1[l1ilII(0x353,'$7mK')]);return;}$['activityUrl']=activityUrl,$[l1ilII(0x34d,'6vad')]=common['getUrlParameter'](activityUrl,ill1I1[l1ilII(0x305,'0W2h')]),$[l1ilII(0x2a4,'@3wo')]=common[l1ilII(0x27f,'sSWX')](activityUrl,ill1I1[l1ilII(0x429,'SnS[')]),$[l1ilII(0x491,'R5Gc')]=l1i1II[l1ilII(0x3b1,'Ke*0')],$[l1ilII(0x210,')bbR')]=l1i1II[l1ilII(0x42a,'v3F#')];let ili111='';if($[l1ilII(0x313,'g9#p')]){if($['hostname']['includes'](ill1I1['gTnLo']))ili111=ill1I1['UkiAk'];else $[l1ilII(0x4a3,'ImeA')]['includes'](ill1I1[l1ilII(0x253,'g9#p')])&&(ill1I1[l1ilII(0x36d,'$esU')](ill1I1['iAvUH'],ill1I1[l1ilII(0x391,'$EE&')])?ili111=$['pathname']['replace'](/\/index$/,''):liIlI[l1ilII(0x35b,'tYDN')]=!![]);$[l1ilII(0x227,'xA*$')]=l1ilII(0x33f,'(s6n')+$['hostname'],$['newbaseUrl']='https://'+$[l1ilII(0x3cb,'pbH6')]+ili111,$['origin']=$['baseUrl'];}if(!$['activityId']||!ili111||!$['hostname']){console[l1ilII(0x462,'pbH6')](ill1I1[l1ilII(0x360,'c9im')]);return;}notify['config']({'title':$['name']}),console[l1ilII(0x32a,'AwON')](ill1I1['KdaHQ'](ill1I1['AlJYQ'],$[l1ilII(0x447,'1F#o')]));for(let Iii1=0x0;ill1I1[l1ilII(0x24e,'4xm!')](Iii1,cookiesArr[l1ilII(0x301,'V#04')]);Iii1++){$[l1ilII(0x43f,'84dQ')]=ill1I1[l1ilII(0x39c,'SnS[')](Iii1,0x1),cookie=cookiesArr[Iii1],originCookie=cookiesArr[Iii1],common[l1ilII(0x385,'1F#o')](originCookie),$[l1ilII(0x235,'V#04')]=decodeURIComponent(common['getCookieValue'](cookie,ill1I1['QfkIU'])),$['UA']=common[l1ilII(0x22f,'$esU')]($[l1ilII(0x35f,'hFAt')]),$[l1ilII(0x30d,'hFAt')]=common[l1ilII(0x464,'v3F#')](l1ilII(0x23b,'%STT')),$['te']=ill1I1[l1ilII(0x337,')bbR')](Math['floor'](Math['random']()*0x2328),0x3e8),$['message']=notify['create']($[l1ilII(0x493,'hFAt')],$[l1ilII(0x35f,'hFAt')]),$[l1ilII(0x46d,'fej]')]='',console[l1ilII(0x3c3,'(s6n')](l1ilII(0x2dd,'U6]T')+$[l1ilII(0x41c,'c9im')]+'】'+($[l1ilII(0x213,'c9im')]||$[l1ilII(0x379,'c9im')])+'******\x0a'),await ill1I1['MWktJ'](Main),common['unsetCookie']();if($[l1ilII(0x2eb,'$Mrl')]||$['runEnd'])break;}isNotify&&notify[l1ilII(0x394,'3Prf')]()&&(l1ilII(0x259,'0W2h')!==ill1I1[l1ilII(0x277,'Kp8Q')]?(IlIll1[l1ilII(0x39b,'xA*$')]('❓'+IlIII+'\x20'+ilil1l[l1ilII(0x31a,'hFAt')](illlIi)),I1lIii['skipRun']=!![]):(notify['updateContent'](ill1I1['KdaHQ'](notify[l1ilII(0x2ee,'uxV&')],l1ilII(0x27b,'AzV8')+$['activityUrl'])),await notify[l1ilII(0x2d6,'AwON')]()));})()[II11(0x262,'$Mrl')](ii1il=>$[II11(0x48c,'iqqg')](ii1il))[II11(0x252,'(s6n')](()=>$[II11(0x475,'AzV8')]());async function Main(){const ii1II1=II11,l1iIlI={'mmWxL':ii1II1(0x41a,'@3wo'),'dqDEc':ii1II1(0x29d,'pbH6'),'szbOo':'⚠\x20请填写格式正确的变量','ttKid':ii1II1(0x2cf,'c9im'),'qhquH':function(iI111I,IIIlI1){return iI111I!==IIIlI1;},'TfQIY':'iRdGv','uLEft':'NXTiP','gwLWP':ii1II1(0x224,'c9im'),'ZvxxE':ii1II1(0x49e,'fej]'),'BcUak':ii1II1(0x371,'R5Gc'),'rJBNp':function(i1lIiI,IiiIl){return i1lIiI(IiiIl);},'Nbhuu':ii1II1(0x366,'sSWX'),'epjQE':'1005','jCwdA':'qUlJU','OlqZR':ii1II1(0x28f,'sSWX'),'dcVIO':function(ii1l1l,l1lli1){return ii1l1l===l1lli1;},'RLpRz':'uExzX','CJKQV':ii1II1(0x21f,'84dQ'),'rLzuZ':ii1II1(0x2bc,'84dQ'),'FebeB':ii1II1(0x4b7,'V#04'),'vooiF':function(IiiIi,ii1l1i){return IiiIi!==ii1l1i;},'bKHav':function(l1iIl1,ii1iI){return l1iIl1!==ii1iI;},'WMsEg':ii1II1(0x1f5,'fej]'),'NMVOU':'gJBFz','Pxzjo':ii1II1(0x295,'1F#o'),'nfoMm':ii1II1(0x453,'$Zdd'),'dOHaN':ii1II1(0x270,')bbR'),'PudSu':ii1II1(0x298,'SnS['),'PTujR':ii1II1(0x322,'ljmD'),'EWrsA':ii1II1(0x3a9,'%STT'),'bvmyg':function(IIIil,IIIii){return IIIil(IIIii);},'XaOCV':ii1II1(0x255,'SnS['),'AaKao':ii1II1(0x20d,'c9im'),'siOQy':ii1II1(0x2a2,'$esU'),'vpAax':function(iI111i,I1I1l1){return iI111i===I1I1l1;},'syxkF':ii1II1(0x36b,'ImeA'),'DAQkZ':'已发完','tHmWJ':function(iI111l,i1lIii){return iI111l+i1lIii;},'OtfOD':'yyyy-MM-dd\x20HH:mm','VnmHQ':ii1II1(0x438,'ImeA'),'mcIiJ':'OhdKg','qAkZo':function(III11i,i1lIil){return III11i>i1lIil;},'ZqjjM':ii1II1(0x2e8,'I7HK'),'pwnUM':ii1II1(0x2c4,'@3wo'),'oQFaQ':ii1II1(0x359,'7u1o'),'TWQTn':ii1II1(0x271,'84dQ'),'lDiPX':ii1II1(0x34e,'0YO^'),'nARRO':ii1II1(0x32f,'ljmD'),'vLemX':function(III11l,llIl1i){return III11l===llIl1i;},'evGpe':'SFyGJ'};try{if(l1iIlI[ii1II1(0x457,'$esU')]===l1iIlI[ii1II1(0x264,'Kp8Q')]){$[ii1II1(0x278,'6vad')]=![],$[ii1II1(0x4b6,'$esU')]='',$[ii1II1(0x3f6,'i7t&')]='';if($['runEnd']||$['outFlag'])return;$[ii1II1(0x2f1,'c9im')]=await getToken(originCookie,$[ii1II1(0x3ee,'OC66')]);if(!$[ii1II1(0x3f9,'(s6n')]){if(l1iIlI[ii1II1(0x2dc,'$Zdd')](l1iIlI[ii1II1(0x344,'tYDN')],l1iIlI[ii1II1(0x433,'pWF(')])){console[ii1II1(0x410,'ljmD')](l1iIlI[ii1II1(0x3b4,'sSWX')]),$[ii1II1(0x413,'ljmD')][ii1II1(0x274,'c9im')](ii1II1(0x400,'xA*$'));return;}else{if(li1Ii[ii1II1(0x383,'OC66')]||Iliiii['outFlag']||i1illI[ii1II1(0x30f,'sSWX')])return;i1IIl['log'](l1iIlI[ii1II1(0x3c0,'4xm!')]),I1lll1[ii1II1(0x413,'ljmD')]['fix']('未能获取用户活动状态');return;}}await sendRequest(l1iIlI['ZvxxE']);if($[ii1II1(0x260,'uxV&')]||$['outFlag']||$['skipRun'])return;if(!$[ii1II1(0x292,'pbH6')]){console[ii1II1(0x3df,'$esU')](ii1II1(0x4ad,'AzV8')),$['message'][ii1II1(0x34f,'uxV&')](l1iIlI[ii1II1(0x3f4,'R5Gc')]);return;}await $[ii1II1(0x448,'3Prf')](0x1f4);if($[ii1II1(0x4a0,'hFAt')]){switch($['joinCode']){case ii1II1(0x484,'1F#o'):await l1iIlI[ii1II1(0x3dc,'fej]')](sendRequest,l1iIlI['Nbhuu']),await $[ii1II1(0x22e,'x2V9')](0x1f4),await l1iIlI[ii1II1(0x26b,'SnS[')](sendRequest,'login');if($[ii1II1(0x381,'$esU')]||$[ii1II1(0x2ae,'x2V9')]||$[ii1II1(0x233,'I7HK')])return;await $['wait'](0x1f4);break;case l1iIlI['epjQE']:await sendRequest(l1iIlI['Nbhuu']),await $['wait'](0x1f4),await sendRequest(l1iIlI[ii1II1(0x282,'SnS[')]);if($[ii1II1(0x31b,'ljmD')]||$[ii1II1(0x37f,'iqqg')]||$[ii1II1(0x455,'tYDN')])return;await $['wait'](0x1f4);case ii1II1(0x473,'v3F#'):if(joinMember){const IiiII=await common[ii1II1(0x420,'eqmc')]($['venderId']);if(IiiII){if(l1iIlI[ii1II1(0x36c,')bbR')]!==l1iIlI[ii1II1(0x456,'R5Gc')])Iil1l1[ii1II1(0x329,'fej]')](i1i11I),il1iIl&&(!iIIiiI&&(liiI1l[ii1II1(0x38d,'AzV8')]=!![],i1l1II[ii1II1(0x32c,'(s6n')]&&lilIIi[ii1II1(0x39e,'$Mrl')][ii1II1(0x43c,'Kp8Q')](i1l1Il)));else{console[ii1II1(0x3df,'$esU')](l1iIlI['OlqZR']),await l1iIlI[ii1II1(0x1f1,'84dQ')](sendRequest,l1iIlI[ii1II1(0x357,'tYDN')]);if($['runEnd']||$['outFlag']||$[ii1II1(0x3bc,'R5Gc')])return;await $[ii1II1(0x45e,'0YO^')](0x1f4);}}else{if(l1iIlI['dcVIO'](l1iIlI[ii1II1(0x43e,'v3F#')],l1iIlI[ii1II1(0x296,'7u1o')])){IlI1l[ii1II1(0x314,'pWF(')](ii1II1(0x478,'pWF(')),lilIil[ii1II1(0x4a7,'qTiq')]['fix'](l1iIlI['dqDEc']);return;}else{console[ii1II1(0x3b0,'@3wo')](l1iIlI['rLzuZ']),$[ii1II1(0x1fb,'U6]T')][ii1II1(0x2fe,'v3F#')](ii1II1(0x325,'6vtX'));return;}}}else{console[ii1II1(0x48b,'AzV8')](ii1II1(0x2a9,'fej]')),$[ii1II1(0x2a6,'$7mK')][ii1II1(0x347,'4xm!')](l1iIlI[ii1II1(0x345,'eqmc')]);return;}break;default:if(l1iIlI[ii1II1(0x467,'$7mK')]($[ii1II1(0x2d5,'6vtX')],'1001')){if(l1iIlI[ii1II1(0x487,'sSWX')](l1iIlI[ii1II1(0x30e,'U6]T')],l1iIlI[ii1II1(0x25b,'i7t&')])){console[ii1II1(0x3c4,'i7t&')]($[ii1II1(0x34b,'84dQ')]),$['message'][ii1II1(0x339,'xA*$')]($[ii1II1(0x49b,'SnS[')]);return;}else iIli11['log']('❓'+Iiiil+'\x20'+Iiiii[ii1II1(0x2f9,'AwON')](l11i1I)),IiII[ii1II1(0x489,'(s6n')]=!![];}break;}if($[ii1II1(0x3ab,'3Prf')]||$[ii1II1(0x263,'qTiq')]||$[ii1II1(0x30f,'sSWX')])return;}else{if(l1iIlI['Pxzjo']!==l1iIlI[ii1II1(0x3b6,'V#04')]){if($[ii1II1(0x34c,'$7mK')]||$['outFlag']||$[ii1II1(0x455,'tYDN')])return;console[ii1II1(0x31e,'kl6p')](ii1II1(0x21d,'%STT')),$[ii1II1(0x42b,'hFAt')]['fix'](l1iIlI[ii1II1(0x2ce,'pbH6')]);return;}else I1ilIi[ii1II1(0x321,'x2V9')]('❓'+IiiiI+'\x20'+llIlli[ii1II1(0x206,'SnS[')](llIlll));}if($[ii1II1(0x491,'R5Gc')][ii1II1(0x225,'1F#o')](l1iIlI['dOHaN'])&&$[ii1II1(0x33b,'U6]T')][ii1II1(0x3a8,'7Hz#')](ii1II1(0x346,'6vtX'))){if(l1iIlI['dcVIO'](ii1II1(0x3a4,'$EE&'),l1iIlI['PudSu'])){await l1iIlI[ii1II1(0x1f1,'84dQ')](sendRequest,l1iIlI[ii1II1(0x2ba,'eqmc')]);if(!$[ii1II1(0x406,'uxV&')]){console[ii1II1(0x45c,'sSWX')]('获取\x20pinToken\x20失败！'),$[ii1II1(0x42c,'3Prf')][ii1II1(0x45f,'%STT')](l1iIlI[ii1II1(0x340,'0W2h')]);return;}await $['wait'](0x1f4);}else{iii1Il[ii1II1(0x267,'g9#p')](l1iIlI[ii1II1(0x382,'tYDN')]);return;}}if($[ii1II1(0x361,'iqqg')]||$['outFlag']||$[ii1II1(0x44a,'5u4E')])return;if($['index']===0x1){await l1iIlI['bvmyg'](sendRequest,l1iIlI[ii1II1(0x396,'c9im')]);if($[ii1II1(0x4ab,'1F#o')]||$[ii1II1(0x2a0,'4xm!')]||$['skipRun'])return;switch($[ii1II1(0x42d,'0YO^')]){case l1iIlI[ii1II1(0x2c5,'kl6p')]:break;case'':console['log'](l1iIlI[ii1II1(0x477,'g9#p')]),$[ii1II1(0x336,'@3wo')]['fix'](l1iIlI['siOQy']),$[ii1II1(0x481,'5u4E')]=!![];return;default:console['log'](ii1II1(0x1ee,'JL85')+$['activityType']+ii1II1(0x3c7,'ImeA')),$[ii1II1(0x2bd,'iqqg')]['fix'](ii1II1(0x342,'AzV8')+$[ii1II1(0x4a8,'V#04')]+ii1II1(0x214,'$7mK')),$[ii1II1(0x2b0,'$Zdd')]=!![];return;}if($['runEnd']||$[ii1II1(0x319,'84dQ')])return;await $['wait'](0x1f4);}if(l1iIlI[ii1II1(0x25d,'v3F#')]($[ii1II1(0x488,'fej]')],0x1)){await l1iIlI[ii1II1(0x231,'eqmc')](sendRequest,ii1II1(0x2b2,'AzV8')),await $[ii1II1(0x3ea,'pbH6')](0x1f4);const IIIll=$[ii1II1(0x33d,'6vad')][0x0]?.[ii1II1(0x444,'84dQ')],I1I1il=$[ii1II1(0x236,'V#04')][0x0]?.[ii1II1(0x256,'AzV8')],l1llii=$['prizeInfo'][0x0]?.['leftNum'];let liII1=l1llii>=0x1,I1I1ii=''+IIIll+(l1iIlI['vpAax'](I1I1il,0x5)?ii1II1(0x272,'pbH6'):l1iIlI[ii1II1(0x306,'x2V9')](I1I1il,0x3)?l1iIlI[ii1II1(0x3fa,'AzV8')]:'')+'，'+(l1llii>=0x1?'剩余'+l1llii+'件':l1iIlI[ii1II1(0x38c,'3Prf')]);console['log'](($['shopName']&&ii1II1(0x2c0,'Ke*0')+$[ii1II1(0x21c,'qTiq')]+'\x0a')+ii1II1(0x3b9,'(s6n')+$[ii1II1(0x2fc,'hFAt')]+'\x0a活动奖品：'+I1I1ii+'\x0a'),notify['updateContent'](l1iIlI[ii1II1(0x2b1,'fej]')](notify[ii1II1(0x3fb,')bbR')],($[ii1II1(0x44b,'84dQ')]&&ii1II1(0x2a5,'84dQ')+$[ii1II1(0x287,'xA*$')])+'\x0a【活动奖品】'+I1I1ii));const l1llil=$[ii1II1(0x404,'x2V9')](l1iIlI[ii1II1(0x480,'v3F#')],$[ii1II1(0x311,'ljmD')]),IIIlIi=$[ii1II1(0x32e,'6vtX')](l1iIlI['OtfOD'],$['actEndTime']);switch($['actStatus']){case 0x0:const llIl1I=Date['now']();if($[ii1II1(0x3ba,'V#04')]&&llIl1I<$[ii1II1(0x246,'v3F#')]){if(l1iIlI[ii1II1(0x3bf,'hFAt')]===l1iIlI[ii1II1(0x415,'6vtX')])!IiiliI&&(IlllIl['outFlag']=!![],II11lI[ii1II1(0x23f,'SnS[')]&&Ilil1l[ii1II1(0x2ff,'xA*$')][ii1II1(0x49a,'fej]')](iIIiii));else{console[ii1II1(0x486,'1F#o')](ii1II1(0x3e7,')bbR')+l1llil+ii1II1(0x2d1,'AzV8')),$['message'][ii1II1(0x3b5,'$7mK')](ii1II1(0x3c5,'$EE&')+l1llil),$[ii1II1(0x304,'Ke*0')]=!![];return;}}if($[ii1II1(0x3aa,'6vad')]&&l1iIlI[ii1II1(0x273,'R5Gc')](llIl1I,$[ii1II1(0x3ae,'V#04')])){if(l1iIlI['dcVIO'](ii1II1(0x405,')bbR'),l1iIlI[ii1II1(0x25e,'6vad')]))lil11I={'ecyText':Iliii1['encrypt']({'actId':iIiIi[ii1II1(0x421,'$Zdd')],...iil1ll},iiilil[ii1II1(0x258,'tYDN')],iil1li['te'])};else{console[ii1II1(0x462,'pbH6')](ii1II1(0x499,'R5Gc')+IIIlIi+ii1II1(0x2f7,'$Mrl')),$[ii1II1(0x23f,'SnS[')][ii1II1(0x355,'AwON')](ii1II1(0x46a,'qTiq')+IIIlIi),$[ii1II1(0x304,'Ke*0')]=!![];return;}}break;case 0x1:console['log'](ii1II1(0x431,'5u4E')+l1llil+ii1II1(0x370,'@3wo')),$['message'][ii1II1(0x274,'c9im')]('活动尚未开始，开始时间：'+l1llil),$[ii1II1(0x27e,'v3F#')]=!![];return;case 0x2:console[ii1II1(0x314,'pWF(')](ii1II1(0x4aa,'SnS[')+IIIlIi+'\x20结束，下次早点来吧~'),$['message'][ii1II1(0x354,'g9#p')](ii1II1(0x2cb,'$Mrl')+IIIlIi),$[ii1II1(0x40f,'kl6p')]=!![];return;default:$[ii1II1(0x275,'OC66')]&&(console[ii1II1(0x226,'3Prf')]('未知活动状态\x20'+$[ii1II1(0x2c7,'$esU')]),$[ii1II1(0x42b,'hFAt')]['fix'](ii1II1(0x399,'uxV&')+$['actStatus']),$[ii1II1(0x2d7,'7Hz#')]=!![]);break;}if(!liII1){if(l1iIlI[ii1II1(0x212,'V#04')](l1iIlI['pwnUM'],l1iIlI['oQFaQ']))lI1Iil=ii1II1(0x4ae,'7u1o');else{console[ii1II1(0x403,'0W2h')](l1iIlI[ii1II1(0x2d4,'4xm!')]),$[ii1II1(0x4a7,'qTiq')][ii1II1(0x395,'$esU')](l1iIlI[ii1II1(0x43b,'i7t&')]),$[ii1II1(0x3bb,'JL85')]=!![];return;}}}await l1iIlI['rJBNp'](sendRequest,l1iIlI[ii1II1(0x39a,'%STT')]),await $[ii1II1(0x2e3,'OC66')](0x1f4);if($[ii1II1(0x474,'sSWX')]||$[ii1II1(0x33a,'hFAt')]||$[ii1II1(0x407,'kl6p')])return;$[ii1II1(0x207,'3Prf')]?(await l1iIlI[ii1II1(0x365,'i7t&')](sendRequest,'saveFollowInfo'),await $['wait'](0x1f4)):l1iIlI[ii1II1(0x47c,'sSWX')](l1iIlI[ii1II1(0x320,'kl6p')],'SFyGJ')?(console[ii1II1(0x332,'uxV&')](ii1II1(0x390,'0W2h')),$[ii1II1(0x3cd,'7u1o')][ii1II1(0x3b5,'$7mK')]('仅限新用户参与')):iIII1l['runEnd']=!![];}else iil1iI[ii1II1(0x30a,'0W2h')]=IlIllI[ii1II1(0x2cd,'v3F#')]?.[ii1II1(0x426,'pbH6')];}catch(iIi1i){console[ii1II1(0x39b,'xA*$')](ii1II1(0x280,'U6]T')+iIi1i);}}async function handleResponse(l1iIll,l1iIli){const iliIll=II11,iIi1l={'UuJFj':iliIll(0x2b6,'%STT'),'VXwWA':iliIll(0x2aa,'eqmc'),'LvneE':iliIll(0x271,'84dQ'),'XdvWv':iliIll(0x209,'$Zdd'),'gvlLZ':iliIll(0x495,'eqmc'),'yrgrQ':function(i1lIlI,l1lliI){return i1lIlI===l1lliI;},'KskAu':function(I1I1iI,IIIlII){return I1I1iI!==IIIlII;},'vIMhu':iliIll(0x36e,'kl6p'),'hlOfj':iliIll(0x251,'g9#p'),'UxuEv':function(iiIiI1,ili1Il){return iiIiI1===ili1Il;},'VvIoD':iliIll(0x443,'@3wo'),'aQdYK':function(ili1Ii,Iilll1){return ili1Ii===Iilll1;},'PkEze':function(ll11I,iIi1I){return ll11I===iIi1I;},'PBOoI':function(liIIl,IlI1lI){return liIIl===IlI1lI;},'KGtgV':iliIll(0x32d,'sSWX'),'tFmmF':function(liIIi,IilllI){return liIIi===IilllI;},'BtxUL':iliIll(0x451,'V#04'),'ZdvYE':iliIll(0x35d,'i7t&'),'DSwtZ':iliIll(0x48f,'ljmD'),'kTaRD':iliIll(0x26f,'6vad'),'pOfMx':iliIll(0x3e5,'R5Gc'),'CduAQ':iliIll(0x1fa,'hFAt'),'INOLK':iliIll(0x436,'eqmc'),'Jzhll':'UYxBz','hhtIe':iliIll(0x49c,'0YO^'),'oMOvO':iliIll(0x46f,'0YO^'),'dTXRs':function(iI1lIi,l1lllI){return iI1lIi!==l1lllI;},'eMMkj':function(llliIi,i1lIli){return llliIi!==i1lIli;},'ubPGC':iliIll(0x25a,'OC66'),'VaTpu':function(i1lIll,ll11ii){return i1lIll===ll11ii;},'qsJqV':'WWpfD','YuuRg':iliIll(0x29a,'@3wo'),'qPGVM':function(liIlii,llii1l){return liIlii===llii1l;},'FsbEC':function(liIlil,llii1i){return liIlil(llii1i);},'XyrXL':function(ll11il,iI1lIl){return ll11il!==iI1lIl;},'sFOsq':iliIll(0x4ac,'Kp8Q'),'hRhDD':iliIll(0x2ef,'ImeA'),'LLcsy':iliIll(0x418,'0W2h'),'jWhmi':iliIll(0x237,'6vtX'),'MWtmt':iliIll(0x31f,'kl6p'),'FtmbL':iliIll(0x4a5,'x2V9')};try{switch(l1iIll){case iliIll(0x41d,'AwON'):if(iIi1l[iliIll(0x2f3,'hFAt')](l1iIli[iliIll(0x2b4,'c9im')],0x0)&&l1iIli[iliIll(0x397,'7Hz#')])iIi1l[iliIll(0x37c,'3Prf')]('eZDLT',iIi1l[iliIll(0x38a,'V#04')])?lili1[iliIll(0x32a,'AwON')]('❓'+ll1l1+'\x20'+IllIIi[iliIll(0x427,'qTiq')](IllIIl)):($[iliIll(0x4af,'84dQ')]=l1iIli?.[iliIll(0x2f0,'Ke*0')]?.[iliIll(0x297,'6vtX')],$[iliIll(0x29b,'eqmc')]=l1iIli?.[iliIll(0x461,'sSWX')]?.[iliIll(0x47b,'SnS[')],$[iliIll(0x4a9,'tYDN')]=$['joinInfo']?.[iliIll(0x200,'pbH6')],$['shopId']=l1iIli?.['data']?.[iliIll(0x22d,'pWF(')],$[iliIll(0x3fc,'ljmD')]=common[iliIll(0x21b,'AzV8')]($[iliIll(0x2e2,')bbR')],iIi1l[iliIll(0x2ea,'kl6p')]),$[iliIll(0x363,'x2V9')]=l1iIli?.['data']?.[iliIll(0x3f7,'i7t&')],$[iliIll(0x2ac,'$EE&')]=$['joinInfo']?.[iliIll(0x2e6,'$esU')]?.[iliIll(0x376,'g9#p')],$['joinDes']=$['joinInfo']?.[iliIll(0x286,'%STT')]?.['joinDes']);else l1iIli[iliIll(0x343,'I7HK')]?iIi1l[iliIll(0x47d,'7Hz#')]!==iIi1l['hlOfj']?(lilIl1[iliIll(0x409,'Kp8Q')](i1l1ii[iliIll(0x445,'5u4E')],iIi1l[iliIll(0x2a7,'7Hz#')]),i1l1[iliIll(0x4b3,'eqmc')](0x1)):(console[iliIll(0x486,'1F#o')](l1iIll+'\x20'+l1iIli['resp_msg']),$[iliIll(0x23e,'v3F#')][iliIll(0x354,'g9#p')](l1iIli['resp_msg']),$[iliIll(0x44f,'ImeA')]=!![]):iIi1l['UxuEv'](iIi1l['VvIoD'],iIi1l[iliIll(0x3eb,'0YO^')])?console['log']('❓'+l1iIll+'\x20'+JSON[iliIll(0x279,'uxV&')](l1iIli)):(I1ilII[iliIll(0x2ab,'$EE&')](I11iIl+'\x20'+l1l11l['resp_msg']),IilIil['message'][iliIll(0x380,'JL85')](l1iIi['resp_msg']),l1l11i['skipRun']=!![]);break;case'follow':if(iIi1l[iliIll(0x35a,'v3F#')](l1iIli[iliIll(0x40a,'$Zdd')],0x0)){}else l1iIli['resp_msg']?(console[iliIll(0x462,'pbH6')](l1iIll+'\x20'+l1iIli[iliIll(0x3d2,'pWF(')]),$[iliIll(0x42c,'3Prf')][iliIll(0x380,'JL85')](l1iIli[iliIll(0x343,'I7HK')]),$[iliIll(0x407,'kl6p')]=!![],['未开始','结束','不存在','不在'][iliIll(0x3c9,'ImeA')](Iil1=>l1iIli[iliIll(0x368,'OC66')]['includes'](Iil1))&&($[iliIll(0x408,'@3wo')]=!![])):console[iliIll(0x3b2,'84dQ')]('❓'+l1iIll+'\x20'+JSON[iliIll(0x36a,'c9im')](l1iIli));break;case iliIll(0x300,'Ke*0'):if(iIi1l[iliIll(0x20a,'6vtX')](l1iIli[iliIll(0x43d,'7u1o')],0x0)&&l1iIli['data']){l1iIli=JSON['parse'](l1iIli[iliIll(0x461,'sSWX')]);if(iIi1l[iliIll(0x326,'V#04')](l1iIli[iliIll(0x20c,'JL85')],0x0)&&l1iIli['data'])$['pinToken']=l1iIli?.[iliIll(0x26d,'OC66')]?.['pinToken'],$['encryptPin']=l1iIli?.['data']?.['encryptPin'];else{if(iIi1l[iliIll(0x4b5,'v3F#')](l1iIli[iliIll(0x24d,'$EE&')],0x3e8))console['log'](l1iIll+'\x20'+l1iIli['resp_msg']),$[iliIll(0x41f,'AwON')][iliIll(0x324,'7Hz#')](l1iIli['resp_msg']),$['skipRun']=!![];else l1iIli[iliIll(0x39f,'i7t&')]?(console['log'](l1iIll+'\x20'+l1iIli[iliIll(0x368,'OC66')]),$[iliIll(0x492,'%STT')][iliIll(0x2df,'pbH6')](l1iIli[iliIll(0x238,'hFAt')]),$[iliIll(0x3bc,'R5Gc')]=!![]):(console[iliIll(0x4a6,'7Hz#')]('❓'+l1iIll+'\x20'+JSON[iliIll(0x22a,'pbH6')](l1iIli)),$[iliIll(0x3d9,')bbR')]=!![]);}}else{if(iIi1l[iliIll(0x30c,'V#04')]('AUorR',iliIll(0x417,'%STT')))console['log']('❓'+l1iIll+'\x20'+JSON['stringify'](l1iIli));else{Iliil1['log'](i1III[iliIll(0x2f4,'$Mrl')]),Ii1iIi[iliIll(0x442,'g9#p')]['fix'](iliIIl['joinDes']);return;}}break;case iIi1l[iliIll(0x303,'pWF(')]:if(iIi1l[iliIll(0x1fc,'V#04')](l1iIli['resp_code'],0x0)&&l1iIli[iliIll(0x1f6,'$EE&')])$[iliIll(0x211,'g9#p')]=l1iIli['data']?.[iliIll(0x3e9,'3Prf')],$['actEndTime']=l1iIli[iliIll(0x1f6,'$EE&')]?.[iliIll(0x3e0,'sSWX')],$['actStatus']=l1iIli[iliIll(0x3ac,'tYDN')]?.[iliIll(0x3c6,'x2V9')],!$[iliIll(0x222,'SnS[')]&&($[iliIll(0x310,'ImeA')]=String(l1iIli['data']?.[iliIll(0x45a,'c9im')]||''));else l1iIli[iliIll(0x27a,'tYDN')]?(console[iliIll(0x3df,'$esU')](l1iIll+'\x20'+l1iIli[iliIll(0x375,'AwON')]),$['message']['fix'](l1iIli[iliIll(0x454,'SnS[')])):iIi1l[iliIll(0x4b4,'6vad')]!==iIi1l[iliIll(0x3d4,'g9#p')]?console['log']('❓'+l1iIll+'\x20'+JSON[iliIll(0x369,'fej]')](l1iIli)):l1iII1[iliIll(0x3ed,'uxV&')]={'ecyText':iiill1[iliIll(0x2c9,'fej]')]({'actId':lIli1i[iliIll(0x2c1,'SnS[')],...IIIII1},I1lIlI['pinToken'],ii1ill['te'])};break;case iIi1l[iliIll(0x2d3,'pbH6')]:if(iIi1l['PkEze'](l1iIli[iliIll(0x3de,'U6]T')],0x0)){if(iIi1l[iliIll(0x490,'pWF(')](iIi1l['kTaRD'],iliIll(0x458,'hFAt'))){const llii11='1|7|6|4|3|2|5|0'['split']('|');let Iillli=0x0;while(!![]){switch(llii11[Iillli++]){case'0':ilI1li[iliIll(0x1fd,'7u1o')]=IIliI['joinInfo']?.[iliIll(0x428,'xA*$')]?.['joinDes'];continue;case'1':IIlii[iliIll(0x229,'6vad')]=IlI1il?.[iliIll(0x24b,'pWF(')]?.[iliIll(0x3e6,'tYDN')];continue;case'2':I1i11I[iliIll(0x3c2,'AzV8')]=llIliI?.[iliIll(0x3a1,'ImeA')]?.[iliIll(0x257,'g9#p')];continue;case'3':l1lIll['venderId']=I1l1II[iliIll(0x386,'U6]T')](IIli1I[iliIll(0x200,'pbH6')],iIi1l['VXwWA']);continue;case'4':ll1iI['shopId']=iI1lll?.[iliIll(0x2f0,'Ke*0')]?.[iliIll(0x35e,'i7t&')];continue;case'5':I1l1I1[iliIll(0x25f,'SnS[')]=I1i111[iliIll(0x3cf,'xA*$')]?.[iliIll(0x2f6,'qTiq')]?.['joinCode'];continue;case'6':lIIiii[iliIll(0x3e8,'SnS[')]=iI1lli[iliIll(0x440,'JL85')]?.[iliIll(0x2bf,'0W2h')];continue;case'7':IilliI['joinInfo']=IlI1ii?.[iliIll(0x41b,'AwON')]?.['joinInfo'];continue;}break;}}else $[iliIll(0x498,'eqmc')]=l1iIli?.['data']?.[iliIll(0x364,'kl6p')]||[];}else{if(l1iIli[iliIll(0x1f9,'U6]T')]){if(iIi1l['KskAu'](iliIll(0x3f5,'0YO^'),iIi1l[iliIll(0x496,'@3wo')])){if(II1i1['status']===0x1f4&&lI1lll)Ill1I['data']={'ecyText':i11iiI[iliIll(0x3ad,'v3F#')]({'actId':lIli11[iliIll(0x266,'v3F#')],...lllI1I},lillI1[iliIll(0x2af,'c9im')],IlIlii['te'])};else[0x193,0x1ed]['includes'](lI1llI[iliIll(0x3a6,'ljmD')])&&(i1l1i1=!![]);}else console[iliIll(0x372,'tYDN')](l1iIll+'\x20'+l1iIli['resp_msg']),[iIi1l[iliIll(0x367,'i7t&')],'结束',iIi1l[iliIll(0x29f,'$Zdd')],'不在'][iliIll(0x3d3,'6vad')](ll111=>l1iIli[iliIll(0x3d2,'pWF(')]['includes'](ll111))&&($['runEnd']=!![]),$[iliIll(0x28c,'6vad')][iliIll(0x3f0,'6vtX')](l1iIli[iliIll(0x465,'%STT')]);}else{if(iIi1l[iliIll(0x2b3,'v3F#')]===iIi1l[iliIll(0x356,'4xm!')]){i1ilii[iliIll(0x462,'pbH6')](iliIll(0x2b8,'Ke*0')),iIIII1[iliIll(0x23f,'SnS[')][iliIll(0x2d9,'@3wo')](iliIll(0x483,'i7t&'));return;}else console[iliIll(0x239,'$Zdd')]('❓'+l1iIll+'\x20'+JSON['stringify'](l1iIli));}}break;case iIi1l['oMOvO']:if(iIi1l['yrgrQ'](l1iIli[iliIll(0x220,'Kp8Q')],0x0)&&l1iIli[iliIll(0x348,'iqqg')])iIi1l['dTXRs'](iliIll(0x2a3,'xA*$'),iliIll(0x23d,'ImeA'))?$['followShop']=l1iIli[iliIll(0x397,'7Hz#')]?.[iliIll(0x3a5,'JL85')]:(iiilll['log'](lI11Il+'\x20'+lIII1i[iliIll(0x2f5,'$Mrl')]),l11i11[iliIll(0x3f8,'kl6p')][iliIll(0x449,'AzV8')](IilIl1[iliIll(0x40e,'Kp8Q')]),lIII1l[iliIll(0x30f,'sSWX')]=!![]);else{if(l1iIli[iliIll(0x249,'V#04')]){if(iIi1l[iliIll(0x351,'ljmD')](iIi1l[iliIll(0x205,'4xm!')],iIi1l['ubPGC'])){II1li1['log'](iIi1l[iliIll(0x424,'$Zdd')]),l1lIlI[iliIll(0x3e4,'6vtX')]['fix'](iliIll(0x362,'xA*$')),IiiIl1[iliIll(0x35b,'tYDN')]=!![];return;}else[iliIll(0x3f3,'Ke*0'),'结束',iIi1l['INOLK'],'不在'][iliIll(0x3b3,'(s6n')](liIliI=>l1iIli[iliIll(0x392,'84dQ')][iliIll(0x219,'JL85')](liIliI))&&($[iliIll(0x432,'g9#p')]=!![]),console['log'](l1iIll+'\x20'+l1iIli['resp_msg']),$['message'][iliIll(0x446,'0W2h')](l1iIli[iliIll(0x392,'84dQ')]),$['skipRun']=!![];}else iIi1l[iliIll(0x299,'0W2h')](iIi1l[iliIll(0x36f,'7Hz#')],iIi1l[iliIll(0x43a,'sSWX')])?(console[iliIll(0x2ad,'6vad')]('❓'+l1iIll+'\x20'+JSON['stringify'](l1iIli)),$['skipRun']=!![]):(delete lI1lli['data'],delete Ill1l['headers'][iIi1l['XdvWv']]);}break;case iIi1l['YuuRg']:if(iIi1l[iliIll(0x3cc,'i7t&')](l1iIli[iliIll(0x423,'fej]')],0x0)){const iiIiIi=l1iIli[iliIll(0x459,'0YO^')];if(iiIiIi)switch(iiIiIi['prizeType']){case 0x1:console[iliIll(0x48b,'AzV8')](iliIll(0x28b,'ImeA')+iiIiIi['prizeName']+'\x20🐶'),$['message'][iliIll(0x3a3,'$EE&')](iiIiIi[iliIll(0x31c,'4xm!')]+'🐶');break;case 0x2:console[iliIll(0x486,'1F#o')]('🗑️\x20优惠券'),$[iliIll(0x29c,'Ke*0')][iliIll(0x47f,'6vtX')](iliIll(0x3d0,'1F#o'));break;case 0x3:const l1lll1=l1iIli[iliIll(0x384,'AzV8')]['addressId'],IilI=iiIiIi[iliIll(0x470,'%STT')];console['log'](iliIll(0x2e5,'xA*$')),console['log'](iliIll(0x2b9,'eqmc')+IilI);if(iiIiIi[iliIll(0x393,'3Prf')])console[iliIll(0x410,'ljmD')](iliIll(0x328,'U6]T')+iiIiIi[iliIll(0x216,'tYDN')]);const liIlli={'baseUrl':$['baseUrl'],'newbaseUrl':$[iliIll(0x3e1,'AzV8')],'cookie':originCookie,'ua':$['UA'],'token':$[iliIll(0x38f,'@3wo')],'prizeName':IilI,'orderCode':l1lll1,'activityUrl':$[iliIll(0x45b,'ImeA')]},lil11=await iIi1l[iliIll(0x34a,'x2V9')](loreal_savePrize,liIlli);!isNotify&&lil11&&(iIi1l[iliIll(0x1f8,'Ke*0')](iIi1l['sFOsq'],'BdSsG')?await notify[iliIll(0x4a2,'xA*$')]($[iliIll(0x20e,'pWF(')]+'中奖通知',iliIll(0x317,'3Prf')+$[iliIll(0x37b,'I7HK')]+'】'+$[iliIll(0x3f2,'xA*$')]+iliIll(0x338,'U6]T')+IilI+iliIll(0x45d,'sSWX')+$[iliIll(0x349,'R5Gc')]):lIli1l['te']=lillIi);$[iliIll(0x39e,'$Mrl')][iliIll(0x42e,'Kp8Q')](IilI+'('+(lil11?iIi1l['hRhDD']:iIi1l[iliIll(0x33c,'1F#o')])+')🎁');break;case 0x4:case 0xb:console['log']('🗑️\x20'+iiIiIi[iliIll(0x444,'84dQ')]+'\x20🎟️'),$['message'][iliIll(0x232,'i7t&')](iliIll(0x3ec,')bbR')+iiIiIi[iliIll(0x2ca,'R5Gc')]+iliIll(0x374,'Ke*0'));break;case 0x5:console[iliIll(0x31e,'kl6p')]('🗑️\x20专享价'),$[iliIll(0x218,'AzV8')][iliIll(0x202,'84dQ')](iliIll(0x302,'%STT'));break;case 0x6:console[iliIll(0x23a,'$Mrl')]('🎉\x20'+iiIiIi['prizeName']+iliIll(0x289,'3Prf')),$[iliIll(0x4a7,'qTiq')][iliIll(0x2f8,'$Mrl')](iliIll(0x388,'qTiq')+iiIiIi[iliIll(0x46c,'pWF(')]+iliIll(0x373,'$EE&'));break;case 0x7:case 0x8:case 0x9:case 0xa:case 0xc:console[iliIll(0x2ab,'$EE&')](iliIll(0x281,'sSWX')+iiIiIi['prizeName']+'\x20🎁'),$['message'][iliIll(0x2d0,'$7mK')](iliIll(0x2fa,'(s6n')+iiIiIi[iliIll(0x335,'Kp8Q')]+iliIll(0x1fe,'0YO^'));!isNotify&&await notify[iliIll(0x291,'sSWX')]($['name']+iliIll(0x2db,'$EE&'),iliIll(0x4b1,'AwON')+$['index']+'】'+$[iliIll(0x3f2,'xA*$')]+'\x0a抽中\x20'+iiIiIi['prizeName']+'\x0a\x0a'+$['activityUrl']);break;default:console['log'](iiIiIi);break;}else console['log'](iliIll(0x234,'0YO^')),$[iliIll(0x20f,'84dQ')]['insert'](iliIll(0x3e3,'(s6n'));}else l1iIli[iliIll(0x378,'c9im')]?(console[iliIll(0x267,'g9#p')](l1iIll+'\x20'+l1iIli[iliIll(0x2bb,'ImeA')]),[iIi1l[iliIll(0x2c8,'x2V9')],'结束',iIi1l['INOLK'],'不在'][iliIll(0x3b3,'(s6n')](lllI1=>l1iIli[iliIll(0x392,'84dQ')][iliIll(0x3a8,'7Hz#')](lllI1))&&(iIi1l[iliIll(0x48a,'pbH6')](iIi1l[iliIll(0x323,'JL85')],iIi1l[iliIll(0x3e2,'SnS[')])?lIli1I[iliIll(0x318,'Kp8Q')]={'ecyText':II1il['encrypt']({'actId':lllI11[iliIll(0x3dd,'4xm!')],...I1lIll},I1lIli[iliIll(0x334,'1F#o')],II1ii['te'])}:$['runEnd']=!![]),$['message'][iliIll(0x3f0,'6vtX')](l1iIli[iliIll(0x238,'hFAt')])):console[iliIll(0x2ad,'6vad')]('❓'+l1iIll+'\x20'+JSON[iliIll(0x4a4,'iqqg')](l1iIli));break;}}catch(Ilii1){if(iIi1l[iliIll(0x3ff,'V#04')]!==iIi1l[iliIll(0x2e7,'uxV&')]){li1I1[iliIll(0x31d,'Ke*0')](iIi1l[iliIll(0x223,'%STT')]),i1ilil[iliIll(0x352,'0W2h')][iliIll(0x44d,'tYDN')](iliIll(0x482,'V#04'));return;}else console[iliIll(0x450,'6vtX')](iliIll(0x2da,'6vad')+l1iIll+iliIll(0x215,'7u1o')+(Ilii1['message']||Ilii1));}}async function sendRequest(ili1I1){const llliIl=II11,Iill={'csyoX':llliIl(0x463,'$7mK'),'AmbHb':function(l1llli,iI1lII){return l1llli(iI1lII);},'mXxUo':llliIl(0x3d8,'Kp8Q'),'ZHPMp':'POST','RICMM':'iOS','aIsVO':llliIl(0x241,'@3wo'),'ewMBd':'follow','DBcvr':llliIl(0x33e,'U6]T'),'DBdIe':llliIl(0x250,'sSWX'),'oIspo':llliIl(0x471,'$Zdd'),'Nvjrx':'basicInfo','ShNca':llliIl(0x2c6,')bbR'),'nqkpu':'drawPrize','WEuXw':'/api/prize/drawPrize','amKzO':llliIl(0x309,'fej]'),'BjkmA':'saveFollowInfo','TMaWj':llliIl(0x472,'c9im'),'TxQdk':'/prod/cc/interactsaas','CRpFs':llliIl(0x26e,'x2V9'),'btwym':llliIl(0x44c,'uxV&'),'ieLGq':llliIl(0x4b2,'SnS['),'CECIw':llliIl(0x39d,'0YO^'),'zYiwS':llliIl(0x1ef,'ImeA'),'zrcqC':function(ll11iI,l1i1I){return ll11iI===l1i1I;},'UMPDf':function(l1llll,I1I1ll){return l1llll===I1I1ll;},'QMLYv':llliIl(0x3d6,'OC66'),'LSQLf':llliIl(0x466,'fej]'),'oGYhW':function(lil1i,liiiil){return lil1i>liiiil;},'qjJUU':llliIl(0x377,'AzV8'),'iahwQ':'GClQZ','fnfeC':function(IIIIli,lllIi){return IIIIli!==lllIi;},'AqAlU':llliIl(0x3da,'AzV8'),'iTwgs':llliIl(0x4b0,'JL85'),'OlWMH':llliIl(0x21a,'0YO^'),'rrBRH':function(lil1l,lllIl){return lil1l===lllIl;},'rdaSa':llliIl(0x327,'@3wo'),'jSYDt':function(Iliii,illlii,I1lIIi){return Iliii(illlii,I1lIIi);},'QixyH':function(l1i1i,I1iI1i){return l1i1i>=I1iI1i;},'IEppl':'jrqLi','RDVPt':function(l1i1l,I1iI1l){return l1i1l===I1iI1l;},'tyjqE':llliIl(0x1f3,'uxV&')};if($[llliIl(0x217,'7u1o')]||$[llliIl(0x2f2,'pWF(')])return;let ili1II=$[llliIl(0x28d,'JL85')],liIllI=null,ll11i=null,iI1lI1=null,I1I1li=Iill['ZHPMp'];switch(ili1I1){case llliIl(0x37e,'$7mK'):ili1II+='/api/user-info/login',liIllI={'status':'1','activityId':$[llliIl(0x3db,'x2V9')],'tokenPin':$[llliIl(0x485,'0W2h')],'source':'01','shareUserId':$[llliIl(0x24f,'1F#o')]||'','uuid':$[llliIl(0x425,'SnS[')],'client':Iill[llliIl(0x2fd,'AwON')],'clientVersion':llliIl(0x26c,'uxV&'),'osVersion':Iill[llliIl(0x20b,'ljmD')],'model':llliIl(0x3bd,'4xm!'),'userAgent':$['UA']};break;case Iill['ewMBd']:ili1II+=llliIl(0x294,'U6]T'),liIllI={};break;case Iill[llliIl(0x284,'0YO^')]:I1I1li=Iill[llliIl(0x3c1,'iqqg')],ili1II+=Iill['oIspo'],iI1lI1={'status':'1','activityId':$[llliIl(0x254,'$7mK')],'jdToken':$[llliIl(0x389,'OC66')],'source':'01','shareUserId':$[llliIl(0x1f4,'6vtX')]||'','uuid':$['UUID'],'clientTime':Date['now'](),'shopId':$[llliIl(0x330,'iqqg')]};break;case Iill['Nvjrx']:ili1II+=Iill[llliIl(0x439,'$7mK')],liIllI={'activityId':$['activityId']};break;case Iill[llliIl(0x341,'ljmD')]:ili1II+=Iill[llliIl(0x430,'$Zdd')],liIllI={};break;case Iill['amKzO']:I1I1li=Iill[llliIl(0x411,'7u1o')],ili1II+=llliIl(0x2b7,'eqmc');break;case Iill['BjkmA']:I1I1li='GET',ili1II+=Iill['TMaWj'];break;default:console['log'](llliIl(0x358,'AwON')+ili1I1);return;}const l1i11=I1I1li==='POST'&&$[llliIl(0x210,')bbR')][llliIl(0x3fe,'0W2h')](Iill[llliIl(0x437,'iqqg')])&&wuxianDefense['isDefenseApi'](ili1II['replace']($[llliIl(0x24c,'iqqg')],'')[llliIl(0x2e1,')bbR')]('?')[0x0]);l1i11&&(ll11i={'ecyText':wuxianDefense[llliIl(0x3ad,'v3F#')]({'actId':$[llliIl(0x265,'g9#p')],...liIllI},$[llliIl(0x3b7,'Ke*0')],$['te'])});const IlI1li={'url':ili1II,'method':I1I1li,'headers':{'Accept':Iill['CRpFs'],'Accept-Encoding':Iill[llliIl(0x2c2,'hFAt')],'Accept-Language':Iill['ieLGq'],'Connection':llliIl(0x28a,'1F#o'),'Content-Type':llliIl(0x401,'$Mrl'),'Cookie':llliIl(0x40b,'kl6p')+$[llliIl(0x48e,'7Hz#')]+';\x20'+($['pinToken']?llliIl(0x243,'84dQ')+$[llliIl(0x248,'qTiq')]:'')+($['te']?llliIl(0x201,'6vtX')+$['te']:''),'Host':$[llliIl(0x313,'g9#p')],'Origin':$[llliIl(0x3f1,'$Mrl')],'Referer':$[llliIl(0x48d,'$Mrl')],'Sec-Fetch-Dest':Iill[llliIl(0x387,'0W2h')],'Sec-Fetch-Mode':'cors','Sec-Fetch-Site':Iill[llliIl(0x3a0,'ImeA')],'User-Agent':$['UA']},'params':iI1lI1,'data':l1i11?ll11i:liIllI,'timeout':0x7530};$['token']&&(IlI1li[llliIl(0x441,'R5Gc')][llliIl(0x38f,'@3wo')]=$[llliIl(0x247,'xA*$')]);Iill[llliIl(0x37a,'3Prf')](I1I1li,Iill[llliIl(0x21e,'84dQ')])&&(Iill[llliIl(0x3ce,'6vtX')](Iill[llliIl(0x2ed,'5u4E')],Iill[llliIl(0x269,'v3F#')])?(delete IlI1li[llliIl(0x461,'sSWX')],delete IlI1li[llliIl(0x44e,'v3F#')][Iill[llliIl(0x402,'$esU')]]):l1il1i['log']('❓'+ll1+'\x20'+iI1llI[llliIl(0x2a8,'(s6n')](llliii)));const IlI1ll=0x5;let ll11l=0x0,III111=null,liIll1=![];while(ll11l<IlI1ll){if(Iill['oGYhW'](ll11l,0x0)){if(Iill[llliIl(0x3d7,'%STT')](Iill[llliIl(0x22c,')bbR')],Iill[llliIl(0x469,'V#04')])){i1ili1[llliIl(0x3b0,'@3wo')](Iill['csyoX']);return;}else await $[llliIl(0x38e,'g9#p')](0x3e8);}const Iliil=await common['request'](IlI1li);if(!Iliil['success']){if(Iill[llliIl(0x221,')bbR')](Iill[llliIl(0x244,'hFAt')],Iill['AqAlU']))iIIl11['log']('未知活动状态\x20'+l1l1I1[llliIl(0x3a2,'$7mK')]),I1iIll[llliIl(0x25c,'R5Gc')][llliIl(0x395,'$esU')](llliIl(0x38b,'$esU')+I1lliI['actStatus']),llIllI[llliIl(0x434,'Kp8Q')]=!![];else{III111=ili1I1+llliIl(0x230,'pWF(')+Iliil['error'],ll11l++;if(Iliil[llliIl(0x2cc,'OC66')]){if(Iill['zrcqC'](Iliil[llliIl(0x49d,'x2V9')],0x1f4)&&l1i11)Iill['fnfeC'](Iill[llliIl(0x308,'eqmc')],Iill[llliIl(0x27d,'tYDN')])?IillIl['activityType']=Iill[llliIl(0x290,'JL85')](llliil,liIl1['data']?.[llliIl(0x276,'R5Gc')]||''):IlI1li[llliIl(0x307,'x2V9')]={'ecyText':wuxianDefense[llliIl(0x316,'5u4E')]({'actId':$[llliIl(0x2d8,'Ke*0')],...liIllI},$[llliIl(0x228,'7u1o')],$['te'])};else[0x193,0x1ed][llliIl(0x40c,'iqqg')](Iliil[llliIl(0x28e,'hFAt')])&&(liIll1=!![]);}continue;}}if(!Iliil['data']){if(Iill[llliIl(0x221,')bbR')](Iill[llliIl(0x331,'qTiq')],Iill[llliIl(0x4b8,'fej]')]))IiilIi=IiilIl[llliIl(0x312,'$esU')][llliIl(0x460,'84dQ')](/\/index$/,'');else{III111=ili1I1+llliIl(0x3ca,'@3wo'),ll11l++;if(l1i11){if(Iill[llliIl(0x333,'V#04')](Iill[llliIl(0x422,'ljmD')],llliIl(0x350,'6vtX')))IlI1li['data']={'ecyText':wuxianDefense['encrypt']({'actId':$['activityId'],...liIllI},$[llliIl(0x3b7,'Ke*0')],$['te'])};else{IiilI1['log'](Iill[llliIl(0x242,'V#04')]);return;}}continue;}}const I1lIIl=common[llliIl(0x3af,'c9im')](Iliil);switch(ili1I1){case Iill[llliIl(0x2c3,'tYDN')]:const l1i11l=common['getCookieValue'](I1lIIl,'te');l1i11l&&($['te']=l1i11l);break;}await Iill['jSYDt'](handleResponse,ili1I1,Iliil[llliIl(0x2f0,'Ke*0')]),liIll1=![];break;}Iill['QixyH'](ll11l,IlI1ll)&&(console['log'](III111),liIll1&&(Iill['UMPDf'](Iill[llliIl(0x30b,'AzV8')],llliIl(0x285,'eqmc'))?!hotbreak&&(Iill['RDVPt']('Gkxdv',Iill[llliIl(0x315,'ImeA')])?($['outFlag']=!![],$['message']&&$[llliIl(0x283,'1F#o')][llliIl(0x43c,'Kp8Q')](III111)):iil1ii['log']('❓'+IlIlli+'\x20'+il1i1i[llliIl(0x27c,'pWF(')](lil111))):(IiiIii[llliIl(0x1ff,'g9#p')]=IIlll?.[llliIl(0x3ef,'JL85')]?.['pinToken'],liliI[llliIl(0x268,'v3F#')]=ll1lI?.[llliIl(0x3ef,'JL85')]?.[llliIl(0x23c,'i7t&')])));}var version_ = 'jsjiami.com.v7';
// prettier-ignore
function Env(t,e){"undefined"!=typeof process&&JSON.stringify(process.env).indexOf("GITHUB")>-1&&process.exit(0);class s{constructor(t){this.env=t}send(t,e="GET"){t="string"==typeof t?{url:t}:t;let s=this.get;return"POST"===e&&(s=this.post),new Promise((e,i)=>{s.call(this,t,(t,s,r)=>{t?i(t):e(s)})})}get(t){return this.send.call(this.env,t)}post(t){return this.send.call(this.env,t,"POST")}}return new class{constructor(t,e){this.name=t,this.http=new s(this),this.data=null,this.dataFile="box.dat",this.logs=[],this.isMute=!1,this.isNeedRewrite=!1,this.logSeparator="\n",this.startTime=(new Date).getTime(),Object.assign(this,e),this.log("",`🔔${this.name}, 开始!`)}isNode(){return"undefined"!=typeof module&&!!module.exports}isQuanX(){return"undefined"!=typeof $task}isSurge(){return"undefined"!=typeof $httpClient&&"undefined"==typeof $loon}isLoon(){return"undefined"!=typeof $loon}toObj(t,e=null){try{return JSON.parse(t)}catch{return e}}toStr(t,e=null){try{return JSON.stringify(t)}catch{return e}}getjson(t,e){let s=e;const i=this.getdata(t);if(i)try{s=JSON.parse(this.getdata(t))}catch{}return s}setjson(t,e){try{return this.setdata(JSON.stringify(t),e)}catch{return!1}}getScript(t){return new Promise(e=>{this.get({url:t},(t,s,i)=>e(i))})}runScript(t,e){return new Promise(s=>{let i=this.getdata("@chavy_boxjs_userCfgs.httpapi");i=i?i.replace(/\n/g,"").trim():i;let r=this.getdata("@chavy_boxjs_userCfgs.httpapi_timeout");r=r?1*r:20,r=e&&e.timeout?e.timeout:r;const[o,h]=i.split("@"),n={url:`http://${h}/v1/scripting/evaluate`,body:{script_text:t,mock_type:"cron",timeout:r},headers:{"X-Key":o,Accept:"*/*"}};this.post(n,(t,e,i)=>s(i))}).catch(t=>this.logErr(t))}loaddata(){if(!this.isNode())return{};{this.fs=this.fs?this.fs:require("fs"),this.path=this.path?this.path:require("path");const t=this.path.resolve(this.dataFile),e=this.path.resolve(process.cwd(),this.dataFile),s=this.fs.existsSync(t),i=!s&&this.fs.existsSync(e);if(!s&&!i)return{};{const i=s?t:e;try{return JSON.parse(this.fs.readFileSync(i))}catch(t){return{}}}}}writedata(){if(this.isNode()){this.fs=this.fs?this.fs:require("fs"),this.path=this.path?this.path:require("path");const t=this.path.resolve(this.dataFile),e=this.path.resolve(process.cwd(),this.dataFile),s=this.fs.existsSync(t),i=!s&&this.fs.existsSync(e),r=JSON.stringify(this.data);s?this.fs.writeFileSync(t,r):i?this.fs.writeFileSync(e,r):this.fs.writeFileSync(t,r)}}lodash_get(t,e,s){const i=e.replace(/\[(\d+)\]/g,".$1").split(".");let r=t;for(const t of i)if(r=Object(r)[t],void 0===r)return s;return r}lodash_set(t,e,s){return Object(t)!==t?t:(Array.isArray(e)||(e=e.toString().match(/[^.[\]]+/g)||[]),e.slice(0,-1).reduce((t,s,i)=>Object(t[s])===t[s]?t[s]:t[s]=Math.abs(e[i+1])>>0==+e[i+1]?[]:{},t)[e[e.length-1]]=s,t)}getdata(t){let e=this.getval(t);if(/^@/.test(t)){const[,s,i]=/^@(.*?)\.(.*?)$/.exec(t),r=s?this.getval(s):"";if(r)try{const t=JSON.parse(r);e=t?this.lodash_get(t,i,""):e}catch(t){e=""}}return e}setdata(t,e){let s=!1;if(/^@/.test(e)){const[,i,r]=/^@(.*?)\.(.*?)$/.exec(e),o=this.getval(i),h=i?"null"===o?null:o||"{}":"{}";try{const e=JSON.parse(h);this.lodash_set(e,r,t),s=this.setval(JSON.stringify(e),i)}catch(e){const o={};this.lodash_set(o,r,t),s=this.setval(JSON.stringify(o),i)}}else s=this.setval(t,e);return s}getval(t){return this.isSurge()||this.isLoon()?$persistentStore.read(t):this.isQuanX()?$prefs.valueForKey(t):this.isNode()?(this.data=this.loaddata(),this.data[t]):this.data&&this.data[t]||null}setval(t,e){return this.isSurge()||this.isLoon()?$persistentStore.write(t,e):this.isQuanX()?$prefs.setValueForKey(t,e):this.isNode()?(this.data=this.loaddata(),this.data[e]=t,this.writedata(),!0):this.data&&this.data[e]||null}initGotEnv(t){this.got=this.got?this.got:require("got"),this.cktough=this.cktough?this.cktough:require("tough-cookie"),this.ckjar=this.ckjar?this.ckjar:new this.cktough.CookieJar,t&&(t.headers=t.headers?t.headers:{},void 0===t.headers.Cookie&&void 0===t.cookieJar&&(t.cookieJar=this.ckjar))}get(t,e=(()=>{})){t.headers&&(delete t.headers["Content-Type"],delete t.headers["Content-Length"]),this.isSurge()||this.isLoon()?(this.isSurge()&&this.isNeedRewrite&&(t.headers=t.headers||{},Object.assign(t.headers,{"X-Surge-Skip-Scripting":!1})),$httpClient.get(t,(t,s,i)=>{!t&&s&&(s.body=i,s.statusCode=s.status),e(t,s,i)})):this.isQuanX()?(this.isNeedRewrite&&(t.opts=t.opts||{},Object.assign(t.opts,{hints:!1})),$task.fetch(t).then(t=>{const{statusCode:s,statusCode:i,headers:r,body:o}=t;e(null,{status:s,statusCode:i,headers:r,body:o},o)},t=>e(t))):this.isNode()&&(this.initGotEnv(t),this.got(t).on("redirect",(t,e)=>{try{if(t.headers["set-cookie"]){const s=t.headers["set-cookie"].map(this.cktough.Cookie.parse).toString();s&&this.ckjar.setCookieSync(s,null),e.cookieJar=this.ckjar}}catch(t){this.logErr(t)}}).then(t=>{const{statusCode:s,statusCode:i,headers:r,body:o}=t;e(null,{status:s,statusCode:i,headers:r,body:o},o)},t=>{const{message:s,response:i}=t;e(s,i,i&&i.body)}))}post(t,e=(()=>{})){if(t.body&&t.headers&&!t.headers["Content-Type"]&&(t.headers["Content-Type"]="application/x-www-form-urlencoded"),t.headers&&delete t.headers["Content-Length"],this.isSurge()||this.isLoon())this.isSurge()&&this.isNeedRewrite&&(t.headers=t.headers||{},Object.assign(t.headers,{"X-Surge-Skip-Scripting":!1})),$httpClient.post(t,(t,s,i)=>{!t&&s&&(s.body=i,s.statusCode=s.status),e(t,s,i)});else if(this.isQuanX())t.method="POST",this.isNeedRewrite&&(t.opts=t.opts||{},Object.assign(t.opts,{hints:!1})),$task.fetch(t).then(t=>{const{statusCode:s,statusCode:i,headers:r,body:o}=t;e(null,{status:s,statusCode:i,headers:r,body:o},o)},t=>e(t));else if(this.isNode()){this.initGotEnv(t);const{url:s,...i}=t;this.got.post(s,i).then(t=>{const{statusCode:s,statusCode:i,headers:r,body:o}=t;e(null,{status:s,statusCode:i,headers:r,body:o},o)},t=>{const{message:s,response:i}=t;e(s,i,i&&i.body)})}}time(t,e=null){const s=e?new Date(e):new Date;let i={"M+":s.getMonth()+1,"d+":s.getDate(),"H+":s.getHours(),"m+":s.getMinutes(),"s+":s.getSeconds(),"q+":Math.floor((s.getMonth()+3)/3),S:s.getMilliseconds()};/(y+)/.test(t)&&(t=t.replace(RegExp.$1,(s.getFullYear()+"").substr(4-RegExp.$1.length)));for(let e in i)new RegExp("("+e+")").test(t)&&(t=t.replace(RegExp.$1,1==RegExp.$1.length?i[e]:("00"+i[e]).substr((""+i[e]).length)));return t}msg(e=t,s="",i="",r){const o=t=>{if(!t)return t;if("string"==typeof t)return this.isLoon()?t:this.isQuanX()?{"open-url":t}:this.isSurge()?{url:t}:void 0;if("object"==typeof t){if(this.isLoon()){let e=t.openUrl||t.url||t["open-url"],s=t.mediaUrl||t["media-url"];return{openUrl:e,mediaUrl:s}}if(this.isQuanX()){let e=t["open-url"]||t.url||t.openUrl,s=t["media-url"]||t.mediaUrl;return{"open-url":e,"media-url":s}}if(this.isSurge()){let e=t.url||t.openUrl||t["open-url"];return{url:e}}}};if(this.isMute||(this.isSurge()||this.isLoon()?$notification.post(e,s,i,o(r)):this.isQuanX()&&$notify(e,s,i,o(r))),!this.isMuteLog){let t=["","==============📣系统通知📣=============="];t.push(e),s&&t.push(s),i&&t.push(i),console.log(t.join("\n")),this.logs=this.logs.concat(t)}}log(...t){t.length>0&&(this.logs=[...this.logs,...t]),console.log(t.join(this.logSeparator))}logErr(t,e){const s=!this.isSurge()&&!this.isQuanX()&&!this.isLoon();s?this.log("",`❗️${this.name}, 错误!`,t.stack):this.log("",`❗️${this.name}, 错误!`,t)}wait(t){return new Promise(e=>setTimeout(e,t))}done(t={}){const e=(new Date).getTime(),s=(e-this.startTime)/1e3;this.log("",`🔔${this.name}, 结束! 🕛 ${s} 秒`),this.log(),(this.isSurge()||this.isQuanX()||this.isLoon())&&$done(t)}}(t,e)}
