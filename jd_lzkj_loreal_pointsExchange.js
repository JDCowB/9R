/*
活动名称：积分兑换（超级无线）
活动链接：https://lzkj-isv.isvjcloud.com/prod/cc/interactsaas/index?activityType=10079&templateId=<模板id>&activityId=<活动id>&prd=cjwx
环境变量：jd_lzkj_loreal_pointsExchange_url // 活动链接
		jd_lzkj_loreal_pointsExchange_opencard // 是否入会（true/false），默认不入会
        jd_lzkj_loreal_pointsExchange_Notify // 是否推送通知（true/false），默认不推送
        jd_lzkj_loreal_pointsExchange_break // IP被限制后继续执行，默认退出运行（true/false）

cron:1 1 1 1 *
============Quantumultx===============
[task_local]
#积分兑换（超级无线）
1 1 1 1 * jd_lzkj_loreal_pointsExchange.js, tag=积分兑换（超级无线）, enabled=true

*/

const $ = new Env('积分兑换（超级无线）')
var iｉl='jsjiami.com.v7';const l1i11i=iii1II;(function(lllIi,lil1l,lllIl,Iliii,illlii,I1lIIi,l1i1i){return lllIi=lllIi>>0x8,I1lIIi='hs',l1i1i='hs',function(I1iI1i,l1i1l,I1iI1l,illlil,Iliil){const l11iII=iii1II;illlil='tfi',I1lIIi=illlil+I1lIIi,Iliil='up',l1i1i+=Iliil,I1lIIi=I1iI1l(I1lIIi),l1i1i=I1iI1l(l1i1i),I1iI1l=0x0;const I1lIIl=I1iI1i();while(!![]&&--Iliii+l1i1l){try{illlil=-parseInt(l11iII(0x2ef,'&e)c'))/0x1*(parseInt(l11iII(0x101,'gp8q'))/0x2)+-parseInt(l11iII(0x26b,'xkeQ'))/0x3*(-parseInt(l11iII(0x256,'9v!1'))/0x4)+parseInt(l11iII(0x1cd,'81z2'))/0x5+-parseInt(l11iII(0x100,'KPp5'))/0x6+-parseInt(l11iII(0x327,'1Oi2'))/0x7+parseInt(l11iII(0x2c3,'G(44'))/0x8*(parseInt(l11iII(0x112,'M)w4'))/0x9)+parseInt(l11iII(0x1a4,'usiy'))/0xa;}catch(l1ilI1){illlil=I1iI1l;}finally{Iliil=I1lIIl[I1lIIi]();if(lllIi<=Iliii)I1iI1l?illlii?illlil=Iliil:illlii=Iliil:I1iI1l=Iliil;else{if(I1iI1l==illlii['replace'](/[XKePGFgNfWpJknuAM=]/g,'')){if(illlil===l1i1l){I1lIIl['un'+I1lIIi](Iliil);break;}I1lIIl[l1i1i](Iliil);}}}}}(lllIl,lil1l,function(l1l1Il,lil1I,l1l1Ii,IIIIlI,l1i11l,liiil1,lllII){return lil1I='\x73\x70\x6c\x69\x74',l1l1Il=arguments[0x0],l1l1Il=l1l1Il[lil1I](''),l1l1Ii=`\x72\x65\x76\x65\x72\x73\x65`,l1l1Il=l1l1Il[l1l1Ii]('\x76'),IIIIlI=`\x6a\x6f\x69\x6e`,(0x15b8a0,l1l1Il[IIIIlI](''));});}(0xcd00,0xf3e29,Iii11l,0xcf),Iii11l)&&(iｉl=0x202);const jdCookie=require(l1i11i(0x195,'(07r')),common=require('./utils/Rebels_jdCommon'),notify=require(l1i11i(0x23c,'RCFv')),getToken=require(l1i11i(0x14c,'(eGp')),{wuxianDefense}=require(l1i11i(0x2bd,'d%ER')),{loreal_savePrize}=require(l1i11i(0x21a,'(Gyg'));function Iii11l(){const I1iI1I=(function(){return[...[iｉl,'NjGsjupFiPAaKKmXiJ.MckAofemgP.nvf7WGFXeu==','W7KQp3CkWOCatq','d13cQCkmW4K','sWqo','tCkDta','ybFdKmo4W7a','5Rs35yUP5lQF6zU35BMt6zgP5l2u5zca5y2j5lUL','WRW1jhyNW4yfqCknfsmzWOKHW75QWRqbW7vzCa','mCohWP1+WPm','WPqtWQ4RgmoQj1K','fCo5WQvWWPVcGa','h2LHW75Z','kt7cImoO','ECkvCCkfW6RdOCoqtW','g8ooWQNdHL4','5RwB5yIK5BAL5lUxWO4','W7uSlG','mmoPcmoH','Caf6','5Rse5yQk5Bk95P+b5B6h5AEF772V5B6H5AsR5PwT6zAV77Y5','E8kEA8kA','WOyyWRuYimoIpKu','cLlcQmksW7VcHmkp','WP7cTbdcV0C','fmosqSoqW4u','rCoLWRe3q8kUWR0tW7be','WOtcLZ3cQuBdHLiu','W6JcV8kYivJdRMVcSLxdHdeHW7xdHmk7sGGxW5qGxmkWsWftkmoN','wSoFW5LzWOS','DNNdR1RdU1GRoxdcK8onumoWWO4tu3nHxSoMFCov','WORcR8k0vSkpW7hdPSoU','m8oWF8oz','jCogWQv3WPG','dvJcSSkpW4NcI8kfWOZdN3BcKmo+W5BcSa','cSkUfmotWQtcOr59mmoW','mspcMG','g8kMuN0','s1RdGuvSWOvM','B3BdHCkAW4a','yJBdRmouW4Wp','C3JdO8k5W44','W79lzCkhACkyWQZcJG','poocKoA3PowlU+wCVEwEGEodMa','omkMf8k+W54','o8ktm8keW5eTW50AwG','fSocWRRdHKBdJN/cMSk9WQW','WR9frXVdJq','dXeECSkRWQ/cKW7cJSoyWR8','ttjfkmkF','yIBdSCoHW70gxSkd','eSo5orZdGmk6','gCkOwa','beH5W6bmW5hcHCoxWQazWOi','BhJdJCoSW6Kkt03cVW','W4iTrCosWQdcRGe','b8kItgJcNmoFWO7dNW','CKxcGgmPW7a','DqfAW4iw','W78QmxaT','5yUm5yAY5BIt6zo55l2z5zot5As26lE7772M5REu5yQ15lIe6zQD5BQm6zcI5lYz5zkT5y6z5lIB','tspdNupdTq','W5pdHSohstqTWR0','iCkLbmklW5C','WOdcIJK','zSkcE8oMdmoZvG','wb7dKKhdV8ok','wvhdMLTtWOf1W7Wnva','aCoViWRdMSk/yYbi','FmkuDq','r8kBuW','lItcNmo/W48zxwFcRmoypW','5P23556P5REg5yIL54IC5OgndG','zmkuECkmW7e','xmozW4njWQtdVSkTWOvAwq','WOtcHCkenMS1WONdRIbaWOu','umkQWOBdMCkiua7cSa','dSoLndldOmk/EJa','6Aku6ksZ5zUS54QU776f','kmoIW7NcOhy','ALxdH2hdRq','v8oJWQS6E8kOWR0dW4jeW6xdLW','cSkUfmoUWQVcUa8','4P27b+IeS+ADP+I9IoIIMUMcH+wjRos5H+MwJEISNCks','rSkuqCkzW7e','eCkrq8o8W6m','W7SEA8ovWOi','f1BcR8kjW7tcGSkhWPK','dmoJma','W7LbFCkswa','77Yh5BwV5OM95yMd6iws5yIu55M26k2h5PEK6lEK5z+75zYdAmkw','WP8uWOuUfmoOox9fWRPGAJSFw0/dQmokftOBs8omW6NdHHpdSwpdI8obWRSkcYtdHmoEW55M','b8kIbW','W7TSWRHCW7pcTa','qezapW','g8kPA8oAW4hcScC','WPhdHmoTWPXW','zcaSW4lcLmoHjYldRG','W58Zqq','u/c7JyG','44k/5lIK5lQV6lAO5y64','eg9lWRxcNhm','5Rwm5yIj5Boi5z6hea','bSoJoZxdGCkP','dCkSyCoyW6RcTt0AW6jV','aCoOW43cGwJdJmkyB8oiESkskKmvq8kJpfFcL2NdUGtcIeJcUCkWW7ejWOWtD8kcu8kOACoiW5JcI8oblq','nSoYF8oRW5tcMmooC0u','devUW6vpW5ZcLmoD','WQbEtW','WQRdV8kGeepdSa','tI7dLSoEW4q','t8oFW4r8WPxdT8kkWOS','xGtdL2hdVW','WQJdTSkbWOdcSxa','4P+JWQJMNPNNNAVORRJMSie2','q05elG','cSkcW7nXla','EmkmyCoLp8oHxq','5yQS5ysK5BUn6zgD5l+E5zol5OME5yUh','lmkina','gCoeWRNdJvhdLg7cTSkgWQq','dSkJWP5pW7LA','WPddOmo+WO9TWP5KWQ94','WOldT8o4WQnTWP1zWQbStW','WRpdVSk0mexdGxFdSMZdIdy','WPpdPSoLWPXMWRbJWQ9U','jSkRuL3cTa','DgpdQhhdOu8','CCosD8oyWO0SW646usJdGa','dCk5WPHfW5vWWPb3W70','iKvIWO/cSG','FulcIW','WPhWROEl','5O+f56ws57UL5PY2W6FdSYaGx3VdUmoemmkS','WOVcKcy','WRRcMbRcLeK','WRPurHZdG8kfW6BdPG','a8oIWQb+WPVcU8oHWOZcNW','cvJcRa','cSo4W5RcIv7dLCknCG','5AsH5zgG5Bs85yEh6yoy5y225A6h5lML77+45lUd5Q2M5PEG54os5P2m5zktWQO','5Awk5zkV5zcq56wd772M','W50Ps8olWPW','gSo+WQ1HWOy','vvFdNufeWO9K','W5iNwmobWPO','poAiVEs7SNm','FSksCCkcW5hdPmoywq','s8kQWPVdJSkmrsi','amo7WQb0WQZcH8oH','WPhcQ8kUuSkZW6xdPq','h8o/WQ4','WOtdHsu','qGRdIMhdGCoCW7ZcLSkn','W4xdGSozqY0','77Y66z6aW78','vmkQWPVdJCkYtZtcSW','gqHCp8oXWRRcS3pcK8oXWPddVCoGkaddGW','5Rsn5yIO5BsT5lUDlq','fulcTCkKW7tcHW','WPpdVCoIWRjSWPjOWQC','W4jpWR17W4W','WQJdPSkEWRdcUMCD','WOaQF3bWyeJdQq','W4lORlFMSOxLPjpOT4tcSokCL8kR5Pwu5zkF5BIp5PwJ5O2h','8jgsMSko56Mi5RcX','W7P9WQPyW5NcQIDQ','WQZdPSkbWQhcUMyGnG','tCk+FxSL','y27dR0a','bmoTiZG','wX3dVmoyW60','EKJcH1uVW6xdKXfBWPZcR8o4','WOdcNc3cTLldHvi','5REt5yIc57c55z2D772i','WOufWQKQ','WPlcSSkUwmkeW5NdPCoTW5S','tmo7W4ej','C0tcGhi1W6xdJaa','W6tcL8olWQjD','sCk6WPZdU8kbqYa','WOKlEL0gWPXVWQi','44gN5lIn5lUs6lAj5y+h','5P2j5BYh5AEV','v+E5SUAEKE++O+s4U+AUHUAxOUEbMUAEKEwtRZK','AdxdR8oeW60','hmkRdmoSWPS','WQZcLSkvrSkp','5P2c5B+c5AEj','teRdImkBW4L1dSoe','rmoLWQ8/BmkIWQW','CXX0W5qvW5i','W7TZWRbyW5tcSJO','bSoLlW','fCo/W5i','EX1B','z8kRuCk7W7i','ErjDaW','Emo8amk5WPxdK3/cNSk1WQRcPq','5Rwy5yQV5Bc+5P+V5B+v5AEC772R5B6H5AAL5Pwg6zsl776S','q8kpCCkyW5C','WOJcR8kUtmkOW77dRCoK','WRddP8kWWQNcPx8ddCooWO4hfepcR1v1a1tcGmkhW5pdULdcLSkcmH0cFYNdOmohWRCzWRZcVmkMW4WyWRZMMlBLK5RPGQRNNyBVVkXnBSosW6S7kMFcLCosW6pVVQVVV73PUldORitKUzNPGPhNNli','vSkUWPZdLCkdqYRcSq','8j28Le3MGRhLLktOJiVLVPO','W6r9WRDpW7lcRW','gCkQWOvE','t8oZW4imWOagWOfvW4ZdPsGi','gY7cS8o+W4u','W5yjovas','ySkiE8oI','5Rs35yUP5Bga5P6n5B+e5Awy772c5B2y5Awa5PsD6zse776B','br8AEmkOW67cSbpcLComWP/dMq','qSkUWPZdNa','WPimzLKMWPXVWQi','uIddGW','wqDCiCkn','W5OrWQORqCoZpeLhWQfHsIiqBf7dQCoehMejBCoaW6pdMbVdQ30','q0HclSo2','B8o8gCk9','EHHtb8kzWQ9VEtC0WQK','gmkZWPjxW5fqWPz/','WPvhqdVdOq','dCkmoSoUWRq','WRz8EJ7dLW','A3pdTuFdRKWl','WPmzWQi','W5r3Aq','mSkrsCo5W7i','gmkLd8onWPVcPq0','CxVcGKi1','W597yNfwvfG','lCoLWOVdIxu','cCkVW613','fCo1W5VcNMtdNa','Ea1fgSk7WQL4','i8oJFSoD','vZ9Ie8k3','utddPmoaW5G','wdJdPLldPG'],...(function(){return[...['cCkYCSogW7RcPIG+W6jUwSo9W5hdGgqCWOq4W6OZWQvFqH7dSM/cJLRcLIrI','WRBdRmki','Av7cNum1W6a','aCkPnmovWRNcRqq','BhNdR1RdHKuilG','EmkiyG','W5uNwmod','lZNcK8oiW4qO','e2bsWRpcUG','hSopWQ3dG0xdG27cKa','p8k/k8oiWRO','5RAj5yQ25BEJ57Ur5P2O77Y/57UU5P+S5PEf6zsr77+L','WOFdTCo4WOC','xuHajCorWRJcPJm','uhtdOCkfW64','WQPyua','8yg2SU+4MG0','vCoVWQ0G','Cu/cRgOHW6/dIZPJWPRcSmo4yKxdVmoDnSkmWPhdTfLrWOHPEmosWR/dMeDHWQOZW6FdVcrRWPZMT6dLIzJPKRNMJkq','CCovW4noWR8','eSk7WPrrW7nFWOn+W43dJYK','uvZdJv5qWOXKW7y','W7aNneWq','vCk8z2JcLSoNlG1zcmo8fCoR','W4BdVmohW5Cj','WR/dRCklWPhcTNKm','5P6w552w5RAi5yQN54UU5OgnW7O','W6JcUCo4WPH4W7WDWQO','curQ','BbNdJmohW7y','pSo/AmouW5xcNCoFDq','WOBdUSoVWPr6WOL5','vmk6WOBdUmkdrG','ALhdN1HN','uc7dICoi','gSkizCoEW4S','W5Cdf0KL','6i2n5y61tNKNWPzNWQNdLEwLU+I0VW','oSoOw8oxW4NcL8ooDq','WQHqxbK','uudcU2aw','W47dO8osDsS','W6DTWQ1UW6RcPJm','b2zqWQq','F0RcH2C','W4fQChbdz1tdNLy','W79lzCkhACkwWRdcJCo7','gmkItgVcOSovWPG','5P2p6iow6i665y2F55ss5OQp6yQf5P+T5lYu5Oce77+V','amk4W6m','z8ohnCktW7S','5RwE5yQd5lUi6zUz5BQT6zgc5l+R5zo25yY35lML5zciuW','ECkvDSkmW6C','e8o/W5ZcL1pdM8keCG','C8kaAG','wrqtW6m','WRxdV8k1iq','pmofwSoHW6C','zCoOaa','vCovW4r4WQtdU8kuWOK','W6tcUSo+WPLj','b8otWQFdLvxdRMxcHCkB','uu5r','iCkqW7DncG','W5b/yMDIqve','WONdItBcVZBdTCktWOvRaG','ECo4hSkSW6FdKx7cKa','W7hcOSoJWP9vW7qqWQLR','W6nBEW','W4qEySo1WOm','W5ddNmou','WRxdPmk1pf/dPxhdU34','wSoVWRG','W6FdNCoFW4uQ','WO/cICkXs8k0','vmkHs8ovdq','uZZdGW','W51UDgX0uK/dL2BcL8kt','WRpdRCkmWQNcQNamiq','vSkMWOBdQCkcsslcUG','bCk5W7DMmCo/','jKhcTmk5W6m','W6/cR8obWPLsW70nWRW','5PYb6icj6i6d5y+O55wb5OMJ6yIu5PYq5lYJ5OkZ772J','W4pdP8ou','5PYa556o5RAh5yQS54IN5OkVWRu','oYxcHq','Dx3dR0tdNv4a','zSo9WQ4PACkHlEw/NUwMOEodV+s6SEs7NEI3Q+wpRa','WPWEWRm2pSoQpxrgWR53yq','p8ksW4Ttca','CuddJ23dIW','5Rsq5yMC5BcY5zYwsq','W6m3p2mMWQairmonnsK','W4b7yNjOxK7dLa','wuVdNW','rvjhdSo2WRi','WOirWRm2','WQ1sxbhdKmkEW5VdUW','W4ZdKSohzZyTWRFdMq','5lQr5AEL6ykP55+Q','vexdHmkIW48','W7RdKCo8W5Wo','tvFdICkUW6LW','dCkIWP9RW59vWPr0','WP4cyuW','bCk1vMlcPSo7WPpdNSkL','DIRdRSoLW4Cz','W6vbzCkdwmkuWRlcJa','W7RcOmo8WQn0','rXldRgVdUmoaW6hcNW','CGTQW5eDW4/cLSoyeK0','oCorWOtdHua','FcZdPq','WONdTmkomhi','kI3cLmo5','W6X5WQ1j','j1HPW6PX','gmkDWPv8W50','y3JdPuBdTLSA','W5RcJmoIWRD+','BhZdJCk8','f8oXWR1L','W63cPmo4WPfsW70','WRtdPCkPef/dPG','EWZdTSobW4G','WQJdPCkQ','5Awd5zcO5BEG5y2h5A+s','yqDDdmk0','e2zqWQ3cU3ykW4q','Dg7cIxiP','W57dLmojrHO','dmkOfmo3WRFcUXLLhSoX','uuVdHmkaW4L1dSoe','W6/cS8oIWOvAW7qC','5BQV6zoi6zgq5O6x77Y/WOb1W7e0q8okwqBcLL7cJK1+tv0iESk+WRNcRCkfW55dgbjrz8k8qSoOW7ZcQG','W71CF8knu8k7WR7cHmo7','W7yhf0Gg','CCkizSo3','aCksASofW73cOhH8WQCZ','nmotW5FcSLC','fCkKWOjlW55FWPX/','yEA3TUwlIowNRowqK++/KMa','rCkvwvS','W4dcPCobWPv0','44c65O6756Ag44cv6k2M5yEM6iYI5yY6WQStoJDXW6y','W75AzmkEwmksWRBcJ8oN','Emo2bmkSW6RdIwm','WRFdPSkCWRBcVNmm','a0j1','os3cICoS','eSk+WOv5W5XFWPy','tmo/W4fEW7n4WPbvW7K','wCkrr042orm0','kSkOiCouWOa','WRJcSSkvDCkZ','pmk9WP5NW4K','sLFdNuj6WOvYW6i','5yIr5ysJ5BQ76zgy5l+O5zkd5AwE6lsw772k5RAx5yIM5lUa6zIn5BM46zcG5lYC5zox5y6W5lQe','vKrDiSoUWR/cTcxcLmoMWP4','lIFcLmo9W7G5qa','f15JW4XuW5W','s+ISUUAWOUwMI+I3T8oO4P+2ja','W7iMiNa1WOasw8oRga','FKxcKhqIW7tdLtvMWPS','b8kYz8oeW5dcPdSUW55Zwa','gmoZW4hcQMtdLCksy8oKA8khnW','qatdLwRdKSobW7hcICkHeJmZ','zrVdJMJdKa','4P2NW5tMNj7OG4pMRiRNOlRLPAtNKzxdOG','CXTPW7uqW53cLa','W4fCw3Hs','WOtcQCk/','W67cUCo2','6i6D5y69WPX0W7JdGmobWOpcGXK7FowKQEI2PU+8JW','WPqkDKygWPXVWQi','WOhcSSkIq8kvW7u','uSk9BwKg','E8oVbmkMW53dSMZcMSk3','WPhLVyBLP6FVVQ7MMQJNGAlLH6lMNzBLKAhdKG','beH5W6bmW5hcHCoxWRWp','dHxcICoyWQKL','W53dRCoaW74qlMxcOa','WONdItBcHttdVCktWOLr','w0Ho','WPhdHmkLpv4','tCoiW552WQ/dLmkyWOfs','c1JcVmkiW7q','a8k3W6HGnmo5W7KoW7DjW6xdG04','m8ojiCkXW4RdHMy','bmoXWQbW','xEAiRos4PUwSPUElICoz','4PYRf+w+IowkRoA2OEwjI+EYKEwDT+++MG','aSoCashdIW','eSoZWR1xWORcK8o7WP/cGW','wvhdMLTtWOf1W7WqsCkaeW','mspcMSoKW4q','amkuW4vwiq','cSkUfmotWQtcOr59lCoTW4ldLG','DSksAG','WONcMcRcPa','8kIdPmoD56U35Rk+','kSkvvSoqW74','WQVdTCk0jLddPx0','EqDr','44oC5O+H56ss44gP6k2r5yA/6iYy5y2uyN0IW5HZW74','aqFcMaCxWO5BW4m2r8kb','cmo4iYNdNCoKohO','xuHajCoBWRNcPdK','WQrEwWZdImkwW4ldPW','jmoHz8orW5q','vSkOWP7dI8kc','5Rsq5yMC5BEg57UT5PY2772y57QZ5PYm5Ps06zsO7724','z8kgmCkeWPaRW5CisINdLmoApCkUBKmgcCkZiqO','W70Ko3W','dvJcSSkpW57cHSkz','vmkQWPVdJCkYqsJcSmk8','f+ENIowiR++9HW','aCoeWQddI1xdLulcHW','WOxcNd/cOvBdKeq','WO7cR8kG','WOJcPmkttCkkW7xdPq','EGDL','WO7dGZO','W6razCksrmkb','g8kQBCoAW5RcOq','BGTUW4mJW5hcGmoQ','W4ldRCoaW70Ujhm','h8o/W5NcLx/dG8kZF8oFCG','DrtdPmo8W7i','j8ketMJcRG','W4BdPSoqW6i6j3pcTa','WPlcQCkPDSkoW7VdRSoL','WQvFsXtdK8ktW4RdSq','qCkBxvaGoGy8','WRxdTCkZfL7dRxpdTgi','FWDFb8kzWQf5EcSOWQpcLG','EYaZW5m','tgddRCkrW6i','6i+o5y2gWPxcRx/dN8kfECkq5AsZ6lEp772t'],...(function(){return['aCkSCCopW6hcSq','8yg2SU+4MG3KUzVKUzBKU7u','ysqPW5tcPCo0kW','W7PTWRDTW6JcOW','W7RcH8ofWPfj','gN5DWRZdUfOQWOWkW5tdN8o+ACocd1W','WPSvWQ0Gd8oWnNvBWRK','W4uPr8ohWPW','WO/cPCk0uCkaW7FdRG','dmoLW4lcL8ohce0','W5n9zwTbwKNdIMFcNmkpWQO','WQzEqrBdPCkyW4VdPW','W7dcO8o/WRnvW7C','W6HsE1nc','eCkMs3K','sSoBW554','W5tdNmoaEZyTWRFdMq','s0FdJvfaWPTY','5PYH6igG6i+A5yYk55Aq5OQl5Rs25yMF54MK5Ooc','WQvcBb3dGmksW4hdSurtpCoA','rSkGW7K1W4BdI8k2WRlcKGKFh14','AcaUW4y','gSoyWP7dGfNdIx/cKa','WOCvWQOUd8oGnG','rCoIfCooWRVcPbKRk8oXW5ddLKa2W5vzj2ddQ8oW','WPymCG','r+E7PoAEHo+/REs6KEAVGUAuG+EbHEAFT+wqTmkd','CWfo','WPWmEueNWOO','b8otWQFdLvxdQwRcJSkr','W5v7zvDfx23dKKhcHmksWQPulxy','r8kSWPZdLmkBsZpcRCknW4GBeG','W6DbF8kzDCkAWRVcJa','nclcMCoOW5i','WPamFemmWPHX','lpcVTR0','WO8AWOiZaW','pc/cICoKW5WLwNVcISoOkZS','fSocWRRdVetdHN/cLSkh','FWXIbSkXWQTZ','W7RdI8oGxrq','WOyeWRS2g8oW','s1NdH0j3WP1V','W6P5WQPnW5pcTtG','WP3dGHlcGaC','5yMn5yAC5BUj6zc/5lYP5zo65Asg6lwc77Yq5Rs35yUh5lIO6zMf5BUZ6zcL5l2x5zcC5y215lUn5zgbW5G','W54ZwmoKWP7cUGG','WQRcJCk3vSks','rGtdMW','e8kOu3tcRmof','W6bSWQ1yW7xdVxSI','wa7dJ3tdJSonW7RcImkn','W7tdLSoRsJ4','c8o1W4BcIu/dMCktCa','xJldLu3dSW','j8o4zCoSW4/cKSoFAa','e8oaWRRdJG','WQRdRmkgWQVcQ2CSkSobWOKuh0xcPLP3buFcI8kLW4/dJa','A0RcH241W6xdJaa','WOhcLJK','WOucWRm4c8onmK1m','wvhdMLTtWOf1W7W','W5hdISoJydeIWQ7dJW','c/gcJQVVUle','ECkgDq','h8kSWOT2W7i','WQ1sxbhdKmkEW5VdU3rGiq','EqpdJ8oAW4y','WO0cFfK','4PITdUIVOEwINowgR+AJIEw/KoAUIUEJSoEzTowoLEMeNG','WOZcMIRcLKFdG0msBW','8kANPU+7Lmob','DMtdR07dQMiaj3ZcSSoi','WQZdV8kUo3ldRxZdUe7dJZuR','f0xcSSkBW7/cRCklWPhdTW','cmk2W7bI','W78Qmq','jCo0EmoiW7/cLmojyq','WP3cIZFcV1BdQ1KbCW','W4vXv050','cCkKWPPAW54','a8kOaCoEWRFcUHK','W4fws0X8','xvZdMa','qatdLwRdKSobW7hcIq','v8oJWQS6E8kOWR0dW4npW7K','z8kmyCoMaCoLvY3cRW','t8kvqf8','FIldR8o0','W5WJx8orWPpcVaO','WOJcLYG','fuP5W6fuW5NcNmol','z8kmyCoMaCoRsY4','xSoVWQWNy8kGWQqF','jmoLECorW47cNSotye8','5PYu6ikY6iYt5y2755Aj5OMR5RA+5yMz54QO5Ocm','EKJcH0m1W6ddTqXIWPa','srJcSCkfW5NcJmkfWPFdU3y','uCoBW7LgWOy','dCoPjcRdJ8k5CG','WROSWRDAW4hcLcfx','c1JcVa','W58Jw8oaWPpcQaPMnmoa','z8kCFmotmmoI','x8k9xCovka','5BEP5Aga5z+d5z2g','WPKFWR0','5B2d5yQ256E95yUV776f','uKFdLmkyW6zZbG','WORcMcNcHLa','d2Hd','W6JcSSooWPPbW7GtWPb+uCk2WRPEESomW4pcNCoojmk/WQxcPqmGFWfaWOSKcIXNWRjBmh3dTMy1pSo26zMc5yQR5zkT57Ul57Qe5OI+6koQ77YxW4NcGcJcVq9XW5xcHw7dGo++RG','d3/cL8kyWPjVWRldGuzpcSoUvCoU','fhxcKCkBW78','xeZdKSkBW7e','ySoZcCk5W4a','tJ3dJCoxW4qiW7ZcGxS','W699WQ19W7tcQWrSqSoiWPRcLSoJBCob','iCkoW6bgiq','WQ3dTCkIjrZdO3tdThhdHa','aSoYuSo8W60','WR4EWRC1aG','5As25zgn5BAL5y6i5AYI','zSo4hSkVW5NdM2G','vf3dIq','uSkSWRJdHmkN','BLddPKnF','xYZdKmoeW5C1W7hcIeP0i8or','EHjYb8k2','W6xdHmoAW4mU','qLDnkSoSWRpcGZpcR8oGWPFdTSo4','pmkikSkiW5e','vGr5dCka','W4e0rCoyWPFcKGfvkCoLW6O','WPBdHCkHawa','t1tdGMrS','dSkGWPHpW6jlWP8','yc49','jmo5zmoiW67cMmoxyW','DmkkzSofkSoNsJ3cNSopWRHj','5P2I6icA6i+25yY75RAe5yUI57op5z+3','DIRdUG','BCoYaCkWW5FdI17cN8k9WRm','h8o5W40','W7P9WQPyW5NcPdTPvq','f8o/W5JcISou','8jQDOdi','wqddLxtdG8oBW7S','zxncaSo3','W4/cPmoNWPT+','FwRcQvi9','u8ozdSkWW4K','hCoXW4hcMa','iX3dHZbOWRFcKqnSWPFcJColAG','5lQE5AYD5z2+','WQLFxG','aflcR8k0W6NcHSkyWRRdVx/cKCoZW4tcI05+WQ4','oGLgamo1WRP8BGLPWQpcLMhdVCkajmkZWPddSLFdVHfyWO7dMmoYWO4','eGlcT8ozW4u','Erz+W5SDW5lcLmoO','lCkeWQjR','WPZNPzZLIRxVVim','4P65uoIhGoADRUI+VUIJJ+MaLowiKos6R+MxJoIVVqu','xKhdK8kcW7f9f8oyWRxdQtC','cCkSe8oFWOFcUGy','8yM1KU+7OmoL5lUm5lQ/5lQE','5Rs95yQ+5lMd6zMK5BIy6zor5l205zcz5y+r5lU15zgkqa','WQJLVjJLPjlVVktMM5ZNGB7LH5NMNAJLKjFdLW','W75AECkuxq','W74GjwOIWO4d','g8ofWQn2WQy','mmk5WODsW7u','rujAo8ohWRVcSZS','WR9AqqJdTmkcW4e','b8o/WQjHWPa','EmoWE8oiW5pdLSotAeldHCkImaBcLG','ycldSmoIW4C+x8ki','lSkemCk6W70','yIBdSCoHW70iqSkaW6W','wSkzE8kDW44','W7CKiNG','W6raDCkBq8krWRRcMG','wSoVWRG6yW','jmoziCkJBCk1d3NcKSoKWOX2rbi','6i2u5y2cW5FcLMRcL1NcPMPpW6qt5AA06lsS','8jYpIhRMG4RLLzJOJktLV5NLR4BNI6lcLq','WOGwE2GMWPK','g8ooWQK','vCkADCkhW4S','WOddQCodW6DGnMxcOSk1cSkhkYiLW4vBuSkzW6NdUYZdTsddULuvWOe','WPVdNJdcVY7dU8koWPPB','aez9W71d','776b5PQA5lUu5y+/5P6Q6iED5P245PsI5OYX776L6kYa6ikN57gS5l2u6ik26l+w6koW5y2w6Awh776f','WQZdV8kUo3xdP2S','5RwE5yQd5BE/5lIhgG','5Rwy5yQV5BEw57Iw5P6k77YB57Q05P++5PAy6zwe77+L','WPddV8oLWPzrWOXJ','o8o+Ba','WPldLSkZfKy','WRddTmkLpum','b8kxomo1WPe','Df7cH0a3W6xdHG','W6v9WQPBW6FcOde','WRFcS8kIumkVW7hdPSoU','5RwC5yQF5yA+5yYc776a','vcddJCodW6GYW6pcNG','eadcQSo/W5O','F8oYbSk5W5y','FKxcHq','W6L7WQ1bW7dcRIb0ECon','WPWkE0WKWPf7','BWzYW4mYW53cNSoO','WOhdTCo/WOnwWOTH','BsiUW7tcSmoYpcZdN8kcWP3dPa','W6fbCq','WOS2zu4C','pCo+ySowW6tcNmoj','WOJcIYZcQKe','WQddUCk/','W5ZdP8oEW6S','mpcVVim','cSk9emowWRVcQWTWemo7W5ZcNey2W6vJzcVdUSo7WRpdReyMWOFcPg9IWRldUCkGqGq','oWtcUmoKW4S','W5SPrComWRVcTqLC','tstdJCoDW7mPW6S','5RwM5yUK5Bo75z6LWOO','WP3cSatcVee','hZ/cMCoUW6e','hSoPWPLRWPFcNmo7WPK','cCoIjdZdNmkQ','ECk+FSomW4NcLCojkwtdHCkYnaNcKv3cTSkwWPPxf8kddSkjia','cmkeWQL9W5C','xCo4hCkTW5m','E8omWOGHFq','kCkenCk+W4SRW4yiDZBdNmkq','EXNdSf3dTW','f17cTCk1W7xcImkpWPi','WPdcPCk0uSk+W73dUmoS'];}())];}())];}());Iii11l=function(){return I1iI1I;};return Iii11l();};function iii1II(_0x2e1071,_0x529fb4){const _0x3539c0=Iii11l();return iii1II=function(_0x26adcd,_0x5001b0){_0x26adcd=_0x26adcd-0xa7;let _0x4375d6=_0x3539c0[_0x26adcd];if(iii1II['UzQoLt']===undefined){var _0x56dd2f=function(_0x159bf6){const _0x4726f3='abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=';let _0xb1d1b4='',_0x311553='';for(let _0x5d3cb0=0x0,_0x237ce0,_0x410eb3,_0x384c26=0x0;_0x410eb3=_0x159bf6['charAt'](_0x384c26++);~_0x410eb3&&(_0x237ce0=_0x5d3cb0%0x4?_0x237ce0*0x40+_0x410eb3:_0x410eb3,_0x5d3cb0++%0x4)?_0xb1d1b4+=String['fromCharCode'](0xff&_0x237ce0>>(-0x2*_0x5d3cb0&0x6)):0x0){_0x410eb3=_0x4726f3['indexOf'](_0x410eb3);}for(let _0x2cd666=0x0,_0x3e8212=_0xb1d1b4['length'];_0x2cd666<_0x3e8212;_0x2cd666++){_0x311553+='%'+('00'+_0xb1d1b4['charCodeAt'](_0x2cd666)['toString'](0x10))['slice'](-0x2);}return decodeURIComponent(_0x311553);};const _0x1d9b0e=function(_0x5127c5,_0x160640){let _0x47a6b7=[],_0x2b7c1b=0x0,_0x34a62e,_0x1cc50b='';_0x5127c5=_0x56dd2f(_0x5127c5);let _0x43413b;for(_0x43413b=0x0;_0x43413b<0x100;_0x43413b++){_0x47a6b7[_0x43413b]=_0x43413b;}for(_0x43413b=0x0;_0x43413b<0x100;_0x43413b++){_0x2b7c1b=(_0x2b7c1b+_0x47a6b7[_0x43413b]+_0x160640['charCodeAt'](_0x43413b%_0x160640['length']))%0x100,_0x34a62e=_0x47a6b7[_0x43413b],_0x47a6b7[_0x43413b]=_0x47a6b7[_0x2b7c1b],_0x47a6b7[_0x2b7c1b]=_0x34a62e;}_0x43413b=0x0,_0x2b7c1b=0x0;for(let _0x5552b4=0x0;_0x5552b4<_0x5127c5['length'];_0x5552b4++){_0x43413b=(_0x43413b+0x1)%0x100,_0x2b7c1b=(_0x2b7c1b+_0x47a6b7[_0x43413b])%0x100,_0x34a62e=_0x47a6b7[_0x43413b],_0x47a6b7[_0x43413b]=_0x47a6b7[_0x2b7c1b],_0x47a6b7[_0x2b7c1b]=_0x34a62e,_0x1cc50b+=String['fromCharCode'](_0x5127c5['charCodeAt'](_0x5552b4)^_0x47a6b7[(_0x47a6b7[_0x43413b]+_0x47a6b7[_0x2b7c1b])%0x100]);}return _0x1cc50b;};iii1II['ypubFq']=_0x1d9b0e,_0x2e1071=arguments,iii1II['UzQoLt']=!![];}const _0x5c079f=_0x3539c0[0x0],_0xc3ba0d=_0x26adcd+_0x5c079f,_0x220d21=_0x2e1071[_0xc3ba0d];return!_0x220d21?(iii1II['FDEvem']===undefined&&(iii1II['FDEvem']=!![]),_0x4375d6=iii1II['ypubFq'](_0x4375d6,_0x5001b0),_0x2e1071[_0xc3ba0d]=_0x4375d6):_0x4375d6=_0x220d21,_0x4375d6;},iii1II(_0x2e1071,_0x529fb4);}console['log'](''),console[l1i11i(0x1f9,'(Gyg')]('=========='+$['name']+'变量说明=========='),console['log'](l1i11i(0x322,'81z2')),console['log']('jd_lzkj_loreal_pointsExchange_opencard\x20//\x20是否入会（true/false），默认不入会'),console[l1i11i(0x254,'^lB]')](l1i11i(0x2ea,'n8@4')),console[l1i11i(0x1b0,'M)w4')](l1i11i(0x1a3,'EG2^')),console[l1i11i(0x199,'(07r')]('=========='+$[l1i11i(0xd3,'7YjD')]+l1i11i(0x2a5,'6tbR')),console[l1i11i(0x1bd,'v71N')]('');const activityUrl=process[l1i11i(0x1cf,'AQhl')]['jd_lzkj_loreal_pointsExchange_url']||process[l1i11i(0x18e,'66wa')]['jd_lzkj_pointsExchange_url']||'',joinMember=process['env'][l1i11i(0x27b,'mRyp')]===l1i11i(0x22d,'9v!1'),isNotify=process[l1i11i(0x187,'M)w4')]['jd_lzkj_loreal_pointsExchange_Notify']===l1i11i(0x30c,'(Gyg'),hotbreak=process[l1i11i(0x204,'81z2')]['jd_lzkj_loreal_pointsExchange_break']==='true';let cookie='',originCookie='';const cookiesArr=Object[l1i11i(0x235,'@GP4')](jdCookie)[l1i11i(0x315,'4]b$')](IllIl1=>jdCookie[IllIl1])[l1i11i(0x22b,'k%Qi')](ll1Ii=>ll1Ii);!cookiesArr[0x0]&&($[l1i11i(0x260,'66wa')]($['name'],l1i11i(0x111,'AQhl')),process[l1i11i(0x2c9,'q[)t')](0x1));!(async()=>{const l11iI1=l1i11i,ll1Il={'VVlsf':function(i1llil,i1llii){return i1llil(i1llii);},'vdbhr':function(l1i1I1,llIIil){return l1i1I1===llIIil;},'qTrNo':'vOwDq','sXVqf':'hKnem','ITvym':'⚠\x20请填写格式正确的链接','eEsrR':l11iI1(0x263,'M)w4'),'PTbqG':l11iI1(0x159,'9v!1'),'fHEia':'lorealjdcampaign-rc','eBAQE':l11iI1(0x2e5,'6tbR'),'SlmEw':l11iI1(0x179,'WRIq'),'MLWrp':function(llIIii,Ii1I1i){return llIIii+Ii1I1i;},'eRXuL':function(llIIlI,Ii1I1l){return llIIlI<Ii1I1l;},'WTbho':l11iI1(0x1ad,'mRyp'),'zjXqm':'DJYMT','Vepqk':function(IIlIl,ili11l){return IIlIl(ili11l);},'MXuxz':function(Iiilll,Iiilli){return Iiilll*Iiilli;},'ECRli':function(IIlIi){return IIlIi();},'rqWdG':function(ili11i,iiIi1l){return ili11i+iiIi1l;}};if(!activityUrl){console[l11iI1(0x164,'A@vW')]('⚠\x20请先定义必要的环境变量后再运行脚本');return;}const iiIi11=common[l11iI1(0x1e4,'MpS%')](activityUrl);if(!iiIi11){if(ll1Il[l11iI1(0x1fb,'RCFv')](ll1Il['qTrNo'],ll1Il['sXVqf']))ii1I1I[l11iI1(0x209,'v71N')]=IiIl[l11iI1(0xce,'4]b$')]?.[l11iI1(0x33d,'G(44')],IiIi['actEndTime']=iI1ll1['data']?.['endTime'],IlI1Il[l11iI1(0x28a,'(Gyg')]=l1il1l[l11iI1(0x337,'AQhl')]?.[l11iI1(0xfb,'EK6I')],!liIil[l11iI1(0x13e,'G(44')]&&(IlI1Ii['activityType']=ll1Il[l11iI1(0x241,'k%Qi')](i11I1I,l1il1i['data']?.['actType']||''));else{console[l11iI1(0xb5,'MpS%')](ll1Il['ITvym']);return;}}$[l11iI1(0xe3,'d%ER')]=activityUrl,$[l11iI1(0x243,'(eGp')]=common[l11iI1(0x152,'G(44')](activityUrl,ll1Il['eEsrR']),$['activityType']=common[l11iI1(0x1a9,'GvI(')](activityUrl,ll1Il[l11iI1(0x247,'^YE2')]),$['hostname']=iiIi11['hostname'],$[l11iI1(0x2eb,'IE8F')]=iiIi11[l11iI1(0x18f,'#tD4')];let ill1II='';if($[l11iI1(0x2f6,'HyR@')]){if($[l11iI1(0xd1,'&e)c')][l11iI1(0x12d,'AQhl')](ll1Il[l11iI1(0x212,'9v!1')]))ill1II=l11iI1(0x1e3,'(Gyg');else $[l11iI1(0xb0,'WRIq')][l11iI1(0x22e,'@GP4')](ll1Il[l11iI1(0xcd,'o4)l')])&&(ill1II=$[l11iI1(0xc5,'vTVe')]['replace'](/\/index$/,''));$[l11iI1(0x1d8,'(eGp')]=l11iI1(0x166,'GvI(')+$[l11iI1(0x191,'KPp5')],$[l11iI1(0x298,'d&ec')]=l11iI1(0x113,'1Oi2')+$[l11iI1(0x2f6,'HyR@')]+ill1II,$['origin']=$[l11iI1(0x208,'Id3h')];}if(!$[l11iI1(0xf8,'#tD4')]||!ill1II||!$['hostname']){console['log'](ll1Il[l11iI1(0x29e,'^lB]')]);return;}notify['config']({'title':$[l11iI1(0x11a,'o4)l')]}),console['log'](ll1Il[l11iI1(0x21d,'KPp5')](l11iI1(0x200,'(07r'),$['activityUrl']));for(let lliiII=0x0;ll1Il[l11iI1(0x2cb,'usiy')](lliiII,cookiesArr[l11iI1(0x2ed,'GvI(')]);lliiII++){if(ll1Il[l11iI1(0xfd,'RCFv')]!==ll1Il[l11iI1(0x158,'mRyp')]){$[l11iI1(0x155,'9v!1')]=lliiII+0x1,cookie=cookiesArr[lliiII],originCookie=cookiesArr[lliiII],common[l11iI1(0x12f,'RCFv')](originCookie),$['UserName']=ll1Il[l11iI1(0x21c,'gp8q')](decodeURIComponent,common['getCookieValue'](cookie,'pt_pin')),$['UA']=common[l11iI1(0x23d,'nc3b')]($[l11iI1(0x1ff,'O08C')]),$['UUID']=common['genUuid'](l11iI1(0x289,'Pord')),$['te']=ll1Il[l11iI1(0x202,'9v!1')](Math[l11iI1(0x34c,'EG2^')](ll1Il['MXuxz'](Math['random'](),0x2328)),0x3e8),$['message']=notify[l11iI1(0xf4,'O08C')]($[l11iI1(0x2af,'k%Qi')],$['UserName']),$[l11iI1(0x2b3,'@GP4')]='',console[l11iI1(0x364,'^AQG')](l11iI1(0x368,'eqL4')+$[l11iI1(0x344,'@GP4')]+'】'+($[l11iI1(0xf3,'HyR@')]||$['UserName'])+l11iI1(0x13d,'IE8F')),await ll1Il[l11iI1(0xc1,'usiy')](Main),common[l11iI1(0x29c,'RCFv')]();if($['outFlag']||$['runEnd'])break;}else{lI1Ili[l11iI1(0x2b8,'EK6I')](l11iI1(0x286,'d&ec')+IliilI+l11iI1(0xf7,'0!^A')),i1II1[l11iI1(0x2b0,'M)w4')][l11iI1(0x123,'EK6I')](l11iI1(0x234,'^YE2')+iIIl11),l1l1I1['runEnd']=!![];return;}}isNotify&&notify[l11iI1(0xc8,'(eGp')]()&&(notify['updateContent'](ll1Il['rqWdG'](notify['content'],l11iI1(0x24b,'KPp5')+$['activityUrl'])),await notify[l11iI1(0x2cf,'mRyp')]());})()[l1i11i(0x2b1,'0!^A')](liI1ll=>$[l1i11i(0x28d,'RCFv')](liI1ll))[l1i11i(0x206,'HyR@')](()=>$['done']());async function Main(){const IliiI=l1i11i,ll1II={'sBJze':IliiI(0x193,'usiy'),'ZrRWR':IliiI(0x161,'66wa'),'EutrA':function(IllIii,liI1li){return IllIii>=liI1li;},'TXorT':'已发完','bgzIB':function(IllIil,ill1Ii){return IllIil>ill1Ii;},'uQQPH':function(llIIl1,ill1Il,i1lll1){return llIIl1(ill1Il,i1lll1);},'JWdSJ':IliiI(0x1b5,'^AQG'),'yqjLu':IliiI(0x335,'HyR@'),'TJbSy':IliiI(0x333,'eoia'),'VXVtl':'1004','vSQoU':function(Ii1I1I,l1i1Ii){return Ii1I1I(l1i1Ii);},'RVhjW':IliiI(0x287,'1Oi2'),'WaDQz':function(l1iI1,lliiI1){return l1iI1(lliiI1);},'AeAnR':IliiI(0x2ae,'0!^A'),'NpJjp':'1005','fbuVe':IliiI(0x2d1,'&e)c'),'maKuk':IliiI(0x296,'v71N'),'WOVaY':IliiI(0x25c,'eqL4'),'YQfPk':'活动仅限店铺会员参与','zMRFq':IliiI(0xbd,'9v!1'),'NuoFT':IliiI(0x2e5,'6tbR'),'sTBMC':function(IiiI1,lilII){return IiiI1===lilII;},'CCIhe':'ShvvT','YvhCG':function(IIIiI,iii1i1){return IIIiI===iii1i1;},'EIKtW':IliiI(0x22c,'#tD4'),'PtbUc':IliiI(0xf2,'A@vW'),'RCqpm':function(IllIll,i1lllI){return IllIll===i1lllI;},'UYORA':IliiI(0x1c5,'IE8F'),'lCAUb':IliiI(0x1c0,'sMrD'),'FckMN':function(llIIi1,iI1IlI){return llIIi1(iI1IlI);},'fJIEL':IliiI(0x372,'AQhl'),'JTOCv':function(l1i1Il,ill1I1){return l1i1Il<ill1I1;},'xvmUO':function(l1i1II,ili111){return l1i1II===ili111;},'wPCRm':IliiI(0x274,'@GP4'),'JNbvj':IliiI(0x139,'vTVe'),'hUjrX':'oNfLB','ABFJg':'PrwCo','BsPcO':'UAhNd','ZSKSa':function(Ii1I11,IllIli){return Ii1I11==IllIli;},'yIYWo':IliiI(0x2ac,'d&ec'),'wVIYD':IliiI(0x1ae,'1Oi2'),'GLkwg':function(ii1Ii,ii1Il){return ii1Ii===ii1Il;},'pIZyr':IliiI(0x1b8,'6tbR'),'IJiHu':function(l1iII,iI1Ill){return l1iII<iI1Ill;},'fUwro':function(lilI1,IIIi1){return lilI1!==IIIi1;},'laNJL':'Vgqgu'};try{$[IliiI(0x214,'usiy')]=![],$[IliiI(0x1b7,'sMrD')]='',$[IliiI(0x35f,'IE8F')]='';if($[IliiI(0xc0,'RCFv')]||$['outFlag'])return;$['jdToken']=await ll1II['uQQPH'](getToken,originCookie,$[IliiI(0x15f,'GvI(')]);if(!$[IliiI(0x121,'O08C')]){if(ll1II[IliiI(0x2c1,'GvI(')]===ll1II['JWdSJ']){console['log'](IliiI(0x133,'Pord')),$[IliiI(0x1af,'gp8q')][IliiI(0xd9,'#tD4')](ll1II[IliiI(0x2ba,'xkeQ')]);return;}else IiilIi=IiilIl[IliiI(0x277,'(07r')][IliiI(0x14b,'mRyp')](/\/index$/,'');}await sendRequest(IliiI(0x25b,'o4)l'));if($[IliiI(0x370,'d%ER')]||$[IliiI(0x2d4,'IE8F')]||$[IliiI(0xd7,'gp8q')])return;if(!$['token']){console['log'](IliiI(0x340,'#tD4')),$[IliiI(0x2cd,'66wa')][IliiI(0x14f,'6tbR')]('未能获取用户鉴权信息');return;}await $[IliiI(0x2f2,'4]b$')](0x1f4);if($[IliiI(0x188,'A@vW')]){if(IliiI(0x31e,'^YE2')===ll1II['TJbSy'])l1llI1[IliiI(0x120,'O08C')]('❓'+llIIll+'\x20'+IillIi['stringify'](lii));else{switch($[IliiI(0x154,'WRIq')]){case ll1II['VXVtl']:await ll1II['vSQoU'](sendRequest,ll1II[IliiI(0x32d,'usiy')]),await $[IliiI(0x143,'nc3b')](0x1f4),await ll1II[IliiI(0x2a7,'66wa')](sendRequest,ll1II[IliiI(0xde,'(eGp')]);if($[IliiI(0x137,'GvI(')]||$['outFlag']||$['skipRun'])return;await $['wait'](0x1f4);break;case ll1II[IliiI(0xb4,'d&ec')]:await sendRequest(ll1II['RVhjW']),await $[IliiI(0xb7,'9v!1')](0x1f4),await ll1II['vSQoU'](sendRequest,IliiI(0x22f,'d&ec'));if($[IliiI(0xe5,'#tD4')]||$[IliiI(0x1fd,'81z2')]||$[IliiI(0x2e0,'GvI(')])return;await $[IliiI(0x371,'mRyp')](0x1f4);case ll1II['fbuVe']:await ll1II['vSQoU'](sendRequest,IliiI(0x150,'HyR@')),await $[IliiI(0x131,'v71N')](0x1f4);if(joinMember){const iI1Ili=await common[IliiI(0x242,'(07r')]($[IliiI(0x11e,'d&ec')]);if(iI1Ili){console['log'](ll1II['maKuk']),await sendRequest(IliiI(0x108,'9v!1'));if($[IliiI(0xab,'^YE2')]||$[IliiI(0x33a,'GvI(')]||$['skipRun'])return;await $[IliiI(0xb7,'9v!1')](0x1f4);}else{console['log'](ll1II['ZrRWR']),$[IliiI(0x2b4,'IE8F')][IliiI(0x34e,'d%ER')](ll1II['WOVaY']);return;}}else{console[IliiI(0x174,'4]b$')](IliiI(0x1da,'q[)t')),$[IliiI(0xd8,'n8@4')][IliiI(0x1c3,'Pord')](ll1II['YQfPk']);return;}break;default:if($[IliiI(0x32b,'EG2^')]!==ll1II[IliiI(0x300,'AQhl')]){console[IliiI(0x311,'n8@4')]($[IliiI(0x1f5,'RCFv')]),$['message']['fix']($[IliiI(0x20c,'(Gyg')]);return;}break;}if($['runEnd']||$[IliiI(0x25e,'xkeQ')]||$[IliiI(0x1bc,'&e)c')])return;}}else{if($[IliiI(0x1ee,'HyR@')]||$['outFlag']||$[IliiI(0x2b6,'O08C')])return;console[IliiI(0x1b0,'M)w4')](IliiI(0x146,'gp8q')),$[IliiI(0x127,'^AQG')]['fix'](ll1II[IliiI(0x1a5,'(07r')]);return;}if($['hostname'][IliiI(0x1e9,'WRIq')](ll1II['NuoFT'])&&$[IliiI(0xa7,'xkeQ')][IliiI(0x28b,'#tD4')](IliiI(0x228,'o4)l'))){if(ll1II['sTBMC']('iCcbK',ll1II[IliiI(0x239,'(Gyg')]))i11iiI['te']=lIli11;else{await sendRequest('initPinToken');if(!$['pinToken']){if(ll1II[IliiI(0x2fe,'AQhl')](ll1II['EIKtW'],IliiI(0x223,'(07r')))iil1lI[IliiI(0x316,'0!^A')]={'ecyText':iiiliI['encrypt']({'actId':li1i1I['activityId'],...illIii},ii1il1[IliiI(0x16b,'(Gyg')],lI1llI['te'])};else{console[IliiI(0x174,'4]b$')](ll1II['PtbUc']),$[IliiI(0x307,'G(44')]['fix'](IliiI(0x1ec,'Id3h'));return;}}await $[IliiI(0x102,'k%Qi')](0x1f4);}}if($[IliiI(0x253,'1Oi2')]||$['outFlag']||$[IliiI(0x367,'q[)t')])return;if(ll1II[IliiI(0x12a,'^lB]')]($['index'],0x1)){await sendRequest('basicInfo');if($[IliiI(0x2bf,'(07r')]||$['outFlag']||$[IliiI(0x1c7,'A@vW')])return;switch($[IliiI(0x153,'IE8F')]){case ll1II[IliiI(0xaa,'^AQG')]:break;case'':console['log'](ll1II[IliiI(0x270,'q[)t')]),$['message'][IliiI(0x10b,'@GP4')](ll1II[IliiI(0x109,'eqL4')]),$[IliiI(0x291,'n8@4')]=!![];return;default:console['log'](IliiI(0x104,'(07r')+$[IliiI(0x1b3,'usiy')]+IliiI(0x1f4,'GvI(')),$[IliiI(0x295,'4]b$')][IliiI(0x346,'4]b$')](IliiI(0x2ce,'EK6I')+$['activityType']+'）不受支持'),$['runEnd']=!![];return;}if($['runEnd']||$['outFlag'])return;await $[IliiI(0x178,'HyR@')](0x1f4);}await ll1II['FckMN'](sendRequest,ll1II[IliiI(0x2c8,'7YjD')]),await $[IliiI(0x143,'nc3b')](0x1f4);if($['runEnd']||$[IliiI(0x162,'0!^A')]||$[IliiI(0x257,'0!^A')])return;if($[IliiI(0x1a7,'gp8q')]===0x1){$['havePrize']=0x0;let IIIl1='';for(let I1I1lI=0x0;ll1II[IliiI(0x19c,'4]b$')](I1I1lI,$[IliiI(0x2d0,'O08C')][IliiI(0x30a,'Pord')]);I1I1lI++){const ii1il=$[IliiI(0xae,'^lB]')][I1I1lI],l1iIlI=ii1il[IliiI(0x151,'d&ec')],iI111I=ii1il[IliiI(0xc2,'RCFv')],IIIlI1=ii1il[IliiI(0x24f,'AQhl')];IIIl1+='\x20\x20'+l1iIlI+IliiI(0x2bb,'KPp5')+iI111I+IliiI(0x11d,'d%ER')+(IIIlI1>=0x1?'剩余'+IIIlI1+'件':'已发完')+'\x0a';if(IIIlI1>0x0){if(ll1II[IliiI(0xb1,'EG2^')](ll1II[IliiI(0x2e4,'@GP4')],ll1II['wPCRm']))$['havePrize']=iI111I;else{if(li1Ii[IliiI(0x140,'EG2^')]||Iliiii['outFlag']||i1illI[IliiI(0x15e,'M)w4')])return;i1IIl[IliiI(0x180,'o4)l')](ll1II[IliiI(0xef,'G(44')]),I1lll1[IliiI(0x1a0,'^YE2')][IliiI(0x302,'mRyp')](ll1II[IliiI(0x132,'^YE2')]);return;}}}console[IliiI(0x278,'1Oi2')](($[IliiI(0x236,'mRyp')]&&'店铺名称：#'+$['shopName']+'\x0a')+IliiI(0xcb,'M)w4')+$[IliiI(0x2a8,'AQhl')]+IliiI(0xd2,'(eGp')+IIIl1),notify[IliiI(0x1b6,'d%ER')](notify['content']+(($[IliiI(0x2dd,'^YE2')]&&'\x0a【店铺名称】#'+$[IliiI(0x2ab,'Pord')])+'\x0a【活动奖品】\x0a'+IIIl1));const ii1ii=$[IliiI(0x293,'d%ER')](ll1II['JNbvj'],$[IliiI(0x2cc,'81z2')]),Iii1=$['time'](ll1II['JNbvj'],$['actEndTime']);switch($['actStatus']){case 0x0:const IiiIl=Date['now']();if($[IliiI(0x21e,'sMrD')]&&ll1II['JTOCv'](IiiIl,$[IliiI(0xea,'Pord')])){console[IliiI(0x28c,'AQhl')](IliiI(0x215,'9v!1')+ii1ii+IliiI(0x1db,'GvI(')),$['message']['fix'](IliiI(0x2f3,'v71N')+ii1ii),$[IliiI(0x248,'MpS%')]=!![];return;}if($[IliiI(0x26a,'nc3b')]&&ll1II[IliiI(0x175,'&e)c')](IiiIl,$[IliiI(0x29b,'Id3h')])){if(ll1II['RCqpm'](ll1II[IliiI(0x1de,'k%Qi')],ll1II[IliiI(0x2a2,'vTVe')])){l1lIil[IliiI(0x2f7,'usiy')]('奖品已全部发完了，下次早点来吧~'),IiiIli[IliiI(0x197,'1Oi2')]['fix'](IliiI(0xc3,'4]b$')),iillli['runEnd']=!![];return;}else{console['log'](IliiI(0x230,'1Oi2')+Iii1+'\x20结束，下次早点来吧~'),$[IliiI(0x2cd,'66wa')][IliiI(0x225,'7YjD')](IliiI(0x1f7,'vTVe')+Iii1),$[IliiI(0x19b,'4]b$')]=!![];return;}}break;case 0x1:console[IliiI(0x356,'xkeQ')](IliiI(0x36c,'7YjD')+ii1ii+'\x20开始，晚点再来吧~'),$[IliiI(0x2cd,'66wa')][IliiI(0x2a3,'81z2')](IliiI(0x2e7,'vTVe')+ii1ii),$['runEnd']=!![];return;case 0x2:console[IliiI(0x27c,'(eGp')](IliiI(0x1f6,'#tD4')+Iii1+IliiI(0x2d8,'d&ec')),$['message'][IliiI(0x2a6,'66wa')](IliiI(0x118,'7YjD')+Iii1),$['runEnd']=!![];return;default:$['actStatus']&&(ll1II[IliiI(0x2d9,'MpS%')](ll1II[IliiI(0xd4,'EG2^')],IliiI(0x183,'G(44'))?(lil11l['log']('❓'+i1i1Il+'\x20'+I1lIl1[IliiI(0xd6,'WRIq')](lil11i)),IlIIl['skipRun']=!![]):(console[IliiI(0x2b7,'k%Qi')](IliiI(0x32a,'xkeQ')+$[IliiI(0x17a,'66wa')]),$['message'][IliiI(0x303,'G(44')](IliiI(0x365,'A@vW')+$[IliiI(0x264,'1Oi2')]),$['runEnd']=!![]));break;}if(ll1II[IliiI(0x304,'eoia')]($[IliiI(0x2b9,'A@vW')],0x0)){if(IliiI(0x355,'0!^A')!==IliiI(0x30f,'A@vW')){console[IliiI(0x233,'S2J2')](ll1II[IliiI(0xf5,'7YjD')]),$[IliiI(0x1dd,'o4)l')][IliiI(0x20e,'RCFv')](ll1II[IliiI(0x36b,'q[)t')]),$[IliiI(0x29f,'q[)t')]=!![];return;}else{li1I1['log'](ll1II[IliiI(0xdf,'O08C')]),i1ilil[IliiI(0x301,'q[)t')]['fix'](IliiI(0xe2,'0!^A'));return;}}}console[IliiI(0xf1,'EG2^')](IliiI(0x19f,'@GP4')+$[IliiI(0x362,'EG2^')]);for(let ii1l1i of $[IliiI(0x34d,'d&ec')]?.[IliiI(0xaf,'MpS%')](l1iIl1=>l1iIl1[IliiI(0x1dc,'WRIq')]>0x0&&l1iIl1['status']==0x1)?.[IliiI(0x348,'RCFv')](function(ii1iI,IIIil){const lI111i=IliiI;return IIIil[lI111i(0x2e3,'6tbR')]-ii1iI[lI111i(0x34a,'gp8q')];})){if(ll1II[IliiI(0x177,'usiy')](ll1II['pIZyr'],ll1II[IliiI(0x216,'66wa')])){if(ll1II['IJiHu']($[IliiI(0x14a,'d&ec')],ii1l1i[IliiI(0x354,'WRIq')]))continue;$[IliiI(0x36d,'o4)l')]=ii1l1i[IliiI(0x1b9,'0!^A')];if(await sendRequest('exchange')){if(ll1II[IliiI(0x294,'eqL4')](ll1II[IliiI(0x196,'nc3b')],IliiI(0xb6,'RCFv')))$['myPoints']-=ii1l1i[IliiI(0x282,'0!^A')];else{const iI111i=Ii1iI1[IliiI(0x182,'66wa')][lilIli],I1I1l1=iI111i[IliiI(0x2a1,'&e)c')],iI111l=iI111i['num'],i1lIii=iI111i['stock'];Iliili+='\x20\x20'+I1I1l1+'，需\x20'+iI111l+IliiI(0x1d5,'xkeQ')+(ll1II['EutrA'](i1lIii,0x1)?'剩余'+i1lIii+'件':ll1II['TXorT'])+'\x0a',ll1II[IliiI(0xc7,'xkeQ')](i1lIii,0x0)&&(IIII11['havePrize']=iI111l);}}}else{lIIilI[IliiI(0x1a2,'vTVe')](IliiI(0x2be,'KPp5')+II1li1+IliiI(0x14e,'(07r')),l1lIlI[IliiI(0xca,'EG2^')][IliiI(0x346,'4]b$')](IliiI(0x31b,'G(44')+IiiIl1),lIIil1[IliiI(0x262,'A@vW')]=!![];return;}}}catch(i1lIil){console[IliiI(0x1b0,'M)w4')](IliiI(0x273,'d%ER')+i1lIil);}}async function handleResponse(III11l,llIl1i){const I1lIII=l1i11i,llIl1l={'ittYF':I1lIII(0x343,'#tD4'),'RcqjB':I1lIII(0x227,'v71N'),'JkHfM':'/apps/interact','pAVSa':I1lIII(0xd5,'A@vW'),'MrvmE':function(IiiII,Iiil){return IiiII(Iiil);},'UNSTg':I1lIII(0xff,'(07r'),'tYiIb':function(IIIli,ii1i1){return IIIli===ii1i1;},'FbWFH':'hphwZ','TrKrh':'jfQuc','sMNzt':I1lIII(0x165,'^lB]'),'BWTzm':I1lIII(0x2d7,'vTVe'),'fAZTf':I1lIII(0x1ce,'o4)l'),'ykFjJ':'initPinToken','SEOPK':function(Iiii,llIl11){return Iiii!==llIl11;},'qXsxH':I1lIII(0x35a,'O08C'),'UcYDM':function(IIIll,I1I1il){return IIIll===I1I1il;},'eVdCm':'basicInfo','Whzim':function(l1llii,liII1){return l1llii===liII1;},'lZXOC':function(I1I1ii,l1llil){return I1I1ii!==l1llil;},'rFIOr':I1lIII(0x1b2,'M)w4'),'MGsNI':I1lIII(0x163,'O08C'),'OGoca':I1lIII(0x1c8,'d%ER'),'vpaUm':I1lIII(0x361,'(07r'),'AfxBR':function(IIIlIi,llIl1I){return IIIlIi===llIl1I;},'ljOeJ':I1lIII(0x21b,'&e)c'),'rPazs':I1lIII(0x308,'d&ec'),'IVUpe':function(i1lIl1,liIli1){return i1lIl1!==liIli1;},'HUlKe':I1lIII(0x117,'IE8F'),'kTQYG':I1lIII(0x1d3,'S2J2'),'kgcIH':function(IIIlIl,IIIlI){return IIIlIl===IIIlI;},'ioGqj':function(IiiI,iIi1i){return IiiI&&iIi1i;},'AEQUx':'FsRBU','xQTgr':'YGfIZ','cnupv':I1lIII(0x19d,'81z2')};try{switch(III11l){case llIl1l['UNSTg']:if(llIl1l['tYiIb'](llIl1i[I1lIII(0x167,'A@vW')],0x0)&&llIl1i[I1lIII(0x33c,'81z2')])$[I1lIII(0x1e2,'k%Qi')]=llIl1i?.['data']?.[I1lIII(0x13b,'0!^A')],$[I1lIII(0x222,'o4)l')]=llIl1i?.[I1lIII(0xb8,'GvI(')]?.['joinInfo'],$[I1lIII(0x324,'&e)c')]=$[I1lIII(0x12e,'7YjD')]?.['openCardUrl'],$[I1lIII(0x299,'&e)c')]=llIl1i?.[I1lIII(0x2ca,'1Oi2')]?.[I1lIII(0x285,'vTVe')],$[I1lIII(0x2c7,'n8@4')]=common['getUrlParameter']($['openCardUrl'],'venderId'),$[I1lIII(0x207,'S2J2')]=llIl1i?.[I1lIII(0x2f5,'IE8F')]?.['shopName'],$[I1lIII(0x114,'d%ER')]=$[I1lIII(0x314,'q[)t')]?.['joinCodeInfo']?.['joinCode'],$['joinDes']=$[I1lIII(0x31d,'d%ER')]?.[I1lIII(0x130,'6tbR')]?.[I1lIII(0x11b,'(07r')];else{if(llIl1i[I1lIII(0xfa,'^AQG')]){if(llIl1l['FbWFH']===I1lIII(0x35b,'4]b$')){iIIl1l['log'](llIl1l[I1lIII(0x328,'^AQG')]),llIli1['message']['fix'](llIl1l[I1lIII(0x331,'M)w4')]);return;}else console['log'](III11l+'\x20'+llIl1i[I1lIII(0xdd,'7YjD')]),$['message'][I1lIII(0x231,'o4)l')](llIl1i[I1lIII(0x2bc,'IE8F')]),$[I1lIII(0x1e1,'AQhl')]=!![];}else I1lIII(0x1aa,'eqL4')===llIl1l[I1lIII(0x31a,'(eGp')]?lI1Iil=llIl1l[I1lIII(0x338,'81z2')]:console[I1lIII(0x266,'7YjD')]('❓'+III11l+'\x20'+JSON[I1lIII(0x357,'RCFv')](llIl1i));}break;case llIl1l[I1lIII(0x238,'66wa')]:if(llIl1i[I1lIII(0x1c4,'GvI(')]===0x0){}else llIl1i[I1lIII(0x258,'^lB]')]?(console['log'](III11l+'\x20'+llIl1i['resp_msg']),$[I1lIII(0x10f,'RCFv')][I1lIII(0x2e1,'1Oi2')](llIl1i[I1lIII(0x221,'O08C')]),$[I1lIII(0x261,'4]b$')]=!![],[llIl1l[I1lIII(0x229,'k%Qi')],'结束',llIl1l[I1lIII(0x1ca,'81z2')],'不在'][I1lIII(0x20f,'^AQG')](iIi1l=>llIl1i[I1lIII(0x169,'Pord')]['includes'](iIi1l))&&($['runEnd']=!![])):console['log']('❓'+III11l+'\x20'+JSON[I1lIII(0x29a,'Id3h')](llIl1i));break;case llIl1l['ykFjJ']:if(llIl1i[I1lIII(0x11c,'IE8F')]===0x0&&llIl1i[I1lIII(0x2ee,'&e)c')]){if(llIl1l['SEOPK'](I1lIII(0xd0,'Pord'),llIl1l['qXsxH'])){llIl1i=JSON[I1lIII(0x28e,'usiy')](llIl1i[I1lIII(0x2fb,'gp8q')]);if(llIl1l[I1lIII(0x1ac,'(Gyg')](llIl1i[I1lIII(0x33e,'WRIq')],0x0)&&llIl1i[I1lIII(0x33b,'vTVe')])$['pinToken']=llIl1i?.[I1lIII(0x17f,'eqL4')]?.[I1lIII(0x220,'(07r')],$[I1lIII(0xe8,'81z2')]=llIl1i?.[I1lIII(0x1cc,'Pord')]?.[I1lIII(0x288,'eoia')];else{if(llIl1i['resp_code']===0x3e8)console[I1lIII(0x2e2,'Pord')](III11l+'\x20'+llIl1i['resp_msg']),$[I1lIII(0x30b,'6tbR')]['fix'](llIl1i[I1lIII(0x352,'gp8q')]),$[I1lIII(0x27f,'eoia')]=!![];else llIl1i['resp_msg']?(console[I1lIII(0x1ef,'d&ec')](III11l+'\x20'+llIl1i[I1lIII(0x24a,'WRIq')]),$['message']['fix'](llIl1i[I1lIII(0x36e,'G(44')]),$[I1lIII(0x2b5,'k%Qi')]=!![]):(console[I1lIII(0x2f7,'usiy')]('❓'+III11l+'\x20'+JSON[I1lIII(0xd6,'WRIq')](llIl1i)),$['skipRun']=!![]);}}else liiI1l[I1lIII(0x2cd,'66wa')][I1lIII(0x20e,'RCFv')](i1l1II);}else console[I1lIII(0xfc,'d%ER')]('❓'+III11l+'\x20'+JSON[I1lIII(0x353,'EG2^')](llIl1i));break;case llIl1l[I1lIII(0xba,'&e)c')]:if(llIl1l['Whzim'](llIl1i[I1lIII(0x18a,'4]b$')],0x0)&&llIl1i[I1lIII(0x149,'v71N')])$[I1lIII(0x1bf,'4]b$')]=llIl1i['data']?.['startTime'],$[I1lIII(0x194,'81z2')]=llIl1i[I1lIII(0x31c,'Id3h')]?.[I1lIII(0x329,'n8@4')],$[I1lIII(0x106,'k%Qi')]=llIl1i[I1lIII(0x18b,'7YjD')]?.['actStatus'],!$[I1lIII(0x107,'M)w4')]&&($[I1lIII(0x10a,'(eGp')]=llIl1l[I1lIII(0x1df,'&e)c')](String,llIl1i[I1lIII(0x142,'^lB]')]?.['actType']||''));else llIl1i[I1lIII(0x181,'(Gyg')]?(console[I1lIII(0x110,'6tbR')](III11l+'\x20'+llIl1i[I1lIII(0x190,'4]b$')]),$['message']['fix'](llIl1i[I1lIII(0x28f,'nc3b')])):console[I1lIII(0xb5,'MpS%')]('❓'+III11l+'\x20'+JSON[I1lIII(0x1f2,'EK6I')](llIl1i));break;case I1lIII(0x171,'M)w4'):if(llIl1i[I1lIII(0x1e6,'MpS%')]===0x0)$[I1lIII(0x2a9,'k%Qi')]=llIl1i?.[I1lIII(0x316,'0!^A')]?.[I1lIII(0x23e,'q[)t')]||[],$[I1lIII(0x172,'xkeQ')]=llIl1i?.[I1lIII(0x1e8,'o4)l')]?.[I1lIII(0xb2,'A@vW')]||0x0;else{if(llIl1i[I1lIII(0x252,'MpS%')]){if(llIl1l[I1lIII(0x342,'gp8q')](llIl1l['rFIOr'],llIl1l[I1lIII(0x34f,'eqL4')])){console[I1lIII(0x341,'eqL4')](III11l+'\x20'+llIl1i[I1lIII(0x126,'S2J2')]);for(let l1lliI of[llIl1l[I1lIII(0x30d,'6tbR')],'结束','不存在','不在']){if(llIl1i['resp_msg'][I1lIII(0x23b,'66wa')](l1lliI)){if('IgYTE'!==llIl1l['OGoca']){$[I1lIII(0x19b,'4]b$')]=!![];break;}else iil1iI[I1lIII(0x356,'xkeQ')]('❓'+IlIllI+'\x20'+il1i1I[I1lIII(0x29a,'Id3h')](lI1li1));}}$[I1lIII(0x136,'v71N')][I1lIII(0x1c1,'MpS%')](llIl1i[I1lIII(0xe1,'M)w4')]);}else lilIl1[I1lIII(0x35c,'usiy')](i1l1ii[I1lIII(0x18c,'MpS%')],llIl1l[I1lIII(0x24c,'sMrD')]),i1l1[I1lIII(0x309,'eqL4')](0x1);}else console[I1lIII(0x244,'9v!1')]('❓'+III11l+'\x20'+JSON[I1lIII(0x24d,'sMrD')](llIl1i));}break;case I1lIII(0x1d0,'(07r'):if(llIl1l[I1lIII(0x16a,'A@vW')](llIl1i['resp_code'],0x0)&&llIl1i[I1lIII(0x240,'(Gyg')])llIl1l[I1lIII(0x1fc,'(eGp')](llIl1l['vpaUm'],I1lIII(0xe0,'&e)c'))?(iIli1i[I1lIII(0x29d,'Id3h')]=iI1lii?.[I1lIII(0x2ca,'1Oi2')]?.[I1lIII(0x16d,'n8@4')]||[],IilIii[I1lIII(0x336,'(Gyg')]=iI1lil?.[I1lIII(0xad,'HyR@')]?.[I1lIII(0x218,'k%Qi')]||0x0):$[I1lIII(0x128,'Pord')]=llIl1i['data']?.[I1lIII(0x1c2,'gp8q')];else{if(llIl1i['resp_msg']){for(let ili1Il of[llIl1l[I1lIII(0x10e,'eoia')],'结束',llIl1l[I1lIII(0x2ff,'(eGp')],'不在']){if(llIl1l['AfxBR'](I1lIII(0x1e7,'@GP4'),llIl1l['ljOeJ']))llliI[I1lIII(0x120,'O08C')](iI1li1+'\x20'+lllii1['resp_msg']),liIli[I1lIII(0x13c,'O08C')][I1lIII(0x31f,'AQhl')](liIll[I1lIII(0x2c6,'GvI(')]);else{if(llIl1i['resp_msg'][I1lIII(0x35e,'n8@4')](ili1Il)){if(llIl1l['AfxBR'](llIl1l[I1lIII(0x339,'xkeQ')],llIl1l[I1lIII(0x280,'Id3h')])){$[I1lIII(0x330,'IE8F')]=!![];break;}else IllI11[I1lIII(0x271,'KPp5')]=llIl1l[I1lIII(0x1c9,'EG2^')](l1llIi,II1llI['data']?.[I1lIII(0x272,'(eGp')]||'');}}}console[I1lIII(0x265,'@GP4')](III11l+'\x20'+llIl1i['resp_msg']),$[I1lIII(0x33f,'^lB]')][I1lIII(0x366,'9v!1')](llIl1i[I1lIII(0x1e0,'d%ER')]),$[I1lIII(0x1f8,'Id3h')]=!![];}else llIl1l['IVUpe'](I1lIII(0x318,'vTVe'),llIl1l[I1lIII(0x359,'^AQG')])?IliiiI['headers'][I1lIII(0xc4,'6tbR')]=Ill11[I1lIII(0x184,'&e)c')]:(console[I1lIII(0x244,'9v!1')]('❓'+III11l+'\x20'+JSON[I1lIII(0x192,'(Gyg')](llIl1i)),$[I1lIII(0xe4,'9v!1')]=!![]);}break;case llIl1l[I1lIII(0x349,'(Gyg')]:if(llIl1l[I1lIII(0xa9,'^YE2')](llIl1i['resp_code'],0x0)){if(llIl1l[I1lIII(0x342,'gp8q')](I1lIII(0x217,'9v!1'),I1lIII(0xb9,'#tD4')))iliII1[I1lIII(0x281,'v71N')]=II11I1;else{const liIIl=llIl1i['data'];if(liIIl)switch(liIIl[I1lIII(0x1a8,'usiy')]){case 0x1:console[I1lIII(0x16f,'66wa')]('🎉\x20'+liIIl[I1lIII(0xf6,'gp8q')]+'\x20🐶'),$[I1lIII(0x18d,'0!^A')][I1lIII(0x134,'eoia')](liIIl[I1lIII(0x151,'d&ec')]+'🐶');break;case 0x2:console['log']('🗑️\x20优惠券'),$['message'][I1lIII(0x259,'81z2')]('🗑️\x20优惠券');break;case 0x3:const IlI1lI=llIl1i[I1lIII(0xda,'9v!1')]['addressId'],liIIi=liIIl[I1lIII(0x170,'mRyp')];console[I1lIII(0x358,'KPp5')](I1lIII(0x1ed,'v71N')),console[I1lIII(0x14d,'HyR@')](I1lIII(0x2ad,'S2J2')+liIIi);if(liIIl[I1lIII(0x305,'(eGp')])console[I1lIII(0x110,'6tbR')](I1lIII(0x26e,'@GP4')+liIIl[I1lIII(0x246,'M)w4')]);const IilllI={'baseUrl':$['baseUrl'],'newbaseUrl':$['newbaseUrl'],'cookie':originCookie,'ua':$['UA'],'token':$[I1lIII(0x269,'@GP4')],'prizeName':liIIi,'orderCode':IlI1lI,'activityUrl':$[I1lIII(0x176,'AQhl')]},iI1lIi=await loreal_savePrize(IilllI);llIl1l[I1lIII(0x25a,'S2J2')](!isNotify,iI1lIi)&&(llIl1l[I1lIII(0x36a,'eqL4')](llIl1l['AEQUx'],llIl1l[I1lIII(0x138,'EG2^')])?await notify['sendNotify']($[I1lIII(0x245,'^lB]')]+I1lIII(0xa8,'xkeQ'),I1lIII(0x284,'^AQG')+$['index']+'】'+$[I1lIII(0xc9,'^YE2')]+I1lIII(0x103,'(Gyg')+liIIi+I1lIII(0x27a,'gp8q')+$[I1lIII(0x1d7,'^YE2')]):(lllii[I1lIII(0x358,'KPp5')]('💨\x20空气'),iI11Ii[I1lIII(0x307,'G(44')]['insert']('💨\x20空气')));$[I1lIII(0x1a0,'^YE2')]['insert'](liIIi+'('+(iI1lIi?llIl1l[I1lIII(0x1a6,'^YE2')]:'未填地址')+')🎁');break;case 0x4:case 0xb:console[I1lIII(0x358,'KPp5')](I1lIII(0x17b,'(07r')+liIIl[I1lIII(0x17e,'(07r')]+I1lIII(0x173,'7YjD')),$[I1lIII(0x197,'1Oi2')][I1lIII(0x134,'eoia')](I1lIII(0x320,'HyR@')+liIIl['prizeName']+'\x20🎟️');break;case 0x5:console['log'](I1lIII(0x1d9,'n8@4')),$['message'][I1lIII(0x360,'eqL4')](I1lIII(0x135,'HyR@'));break;case 0x6:console[I1lIII(0x19e,'mRyp')](I1lIII(0x1c6,'4]b$')+liIIl[I1lIII(0xcc,'WRIq')]+I1lIII(0x2a4,'0!^A')),$['message'][I1lIII(0x124,'WRIq')]('🎉\x20'+liIIl['prizeName']+I1lIII(0x157,'v71N'));break;case 0x7:case 0x8:case 0x9:case 0xa:case 0xc:console[I1lIII(0x254,'^lB]')](I1lIII(0x2ec,'gp8q')+liIIl[I1lIII(0xfe,'nc3b')]+I1lIII(0x283,'k%Qi')),$['message'][I1lIII(0x219,'1Oi2')]('🎉\x20恭喜获得'+liIIl[I1lIII(0x170,'mRyp')]+I1lIII(0x210,'MpS%'));!isNotify&&await notify[I1lIII(0x23a,'KPp5')]($[I1lIII(0x332,'usiy')]+'中奖通知',I1lIII(0x2d6,'d&ec')+$['index']+'】'+$[I1lIII(0x26d,'1Oi2')]+I1lIII(0x2b2,'KPp5')+liIIl['prizeName']+'\x0a\x0a'+$[I1lIII(0x255,'#tD4')]);break;default:console[I1lIII(0xfc,'d%ER')](liIIl);break;}else console[I1lIII(0x311,'n8@4')](I1lIII(0x2c5,'M)w4')),$['message']['insert'](I1lIII(0x10d,'9v!1'));}}else{if(llIl1i['resp_msg']){console[I1lIII(0x2b7,'k%Qi')](III11l+'\x20'+llIl1i['resp_msg']);for(let llliIi of[I1lIII(0x2dc,'eoia'),'结束',llIl1l[I1lIII(0x2d3,'EG2^')],'不在']){if(llIl1i['resp_msg'][I1lIII(0x319,'d&ec')](llliIi)){$[I1lIII(0x312,'81z2')]=!![];break;}}$[I1lIII(0x1a0,'^YE2')][I1lIII(0x122,'S2J2')](llIl1i[I1lIII(0x24a,'WRIq')]);}else console[I1lIII(0x16f,'66wa')]('❓'+III11l+'\x20'+JSON[I1lIII(0x357,'RCFv')](llIl1i));}break;}}catch(i1lIli){console[I1lIII(0xf1,'EG2^')](I1lIII(0xed,'7YjD')+III11l+'\x20请求响应\x20'+(i1lIli[I1lIII(0x10f,'RCFv')]||i1lIli));}}async function sendRequest(i1lIll){const liIlll=l1i11i,ll11ii={'pTRiR':liIlll(0x363,'7YjD'),'YZjyw':'未能获取用户鉴权信息','XDclq':'/apps/interact','RoFIG':'lzkj','FxSRL':liIlll(0x1d4,'&e)c'),'LojHW':'12.4.1','kJQjj':liIlll(0xcf,'eoia'),'QUucw':'follow','NFiRU':liIlll(0x1d1,'6tbR'),'ONJTo':liIlll(0x369,'mRyp'),'Qffbg':liIlll(0x1f1,'^AQG'),'FbNso':'basicInfo','ySAVp':liIlll(0x22a,'mRyp'),'EagnT':liIlll(0x2f9,'mRyp'),'dBVcZ':liIlll(0x2fd,'&e)c'),'NVRdn':'/api/pointsExchange/exchange','DFAPf':'/prod/cc/interactsaas','Vxnyf':'gzip,\x20deflate,\x20br','KMqRU':'zh-CN,zh;q=0.9,en-US;q=0.8,en;q=0.7,en-GB;q=0.6','uAqvH':liIlll(0x1ab,'RCFv'),'StcqH':liIlll(0x1f3,'#tD4'),'LnuLs':liIlll(0x321,'KPp5'),'TWRrQ':liIlll(0x2e6,'gp8q'),'Sgapp':function(llliI1,liIII){return llliI1===liIII;},'ZLjQu':function(llii11,Iillli){return llii11===Iillli;},'veZkb':liIlll(0x21f,'A@vW'),'AsfQz':'Content-Type','uhPVG':function(ll11l1,ll111){return ll11l1<ll111;},'gHaGd':function(llliII,iiIiIl){return llliII===iiIiIl;},'XZsAE':liIlll(0x326,'o4)l'),'bPVxe':function(IlI1l1,liIliI){return IlI1l1>liIliI;},'wflVI':function(llii1I,iiIiIi){return llii1I!==iiIiIi;},'qUpcT':liIlll(0x1b4,'6tbR'),'ELoIQ':liIlll(0x168,'xkeQ'),'sHZNK':function(l1lll1,IilI){return l1lll1===IilI;},'LZDRI':function(liIlli,lil11){return liIlli!==lil11;},'iBEfh':liIlll(0xec,'A@vW'),'PUfTQ':liIlll(0x323,'nc3b'),'tcPyJ':function(Iillll,lllI1,III11I){return Iillll(lllI1,III11I);},'fcpWB':function(Ilii1,ll11i1){return Ilii1>=ll11i1;},'jPqDn':liIlll(0x129,'MpS%'),'oEztr':liIlll(0x1a1,'66wa'),'gVYzx':liIlll(0x1fa,'RCFv')};if($[liIlll(0x317,'9v!1')]||$[liIlll(0xee,'S2J2')])return;let liIlii=$[liIlll(0x13a,'mRyp')],llii1l=null,liIlil=null,llii1i=null,ll11il=ll11ii['FxSRL'];switch(i1lIll){case liIlll(0x1ea,'KPp5'):liIlii+='/api/user-info/login',llii1l={'status':'1','activityId':$[liIlll(0x205,'GvI(')],'tokenPin':$['jdToken'],'source':'01','shareUserId':$['shareUserId']||'','uuid':$['UUID'],'client':'iOS','clientVersion':ll11ii[liIlll(0x2f8,'6tbR')],'osVersion':liIlll(0xf9,'^YE2'),'model':ll11ii['kJQjj'],'userAgent':$['UA']};break;case ll11ii['QUucw']:liIlii+=ll11ii['NFiRU'],llii1l={};break;case ll11ii['ONJTo']:ll11il=liIlll(0x297,'(eGp'),liIlii+=ll11ii['Qffbg'],llii1i={'status':'1','activityId':$[liIlll(0xe7,'o4)l')],'jdToken':$[liIlll(0x15b,'6tbR')],'source':'01','shareUserId':$[liIlll(0x267,'9v!1')]||'','uuid':$[liIlll(0x347,'v71N')],'clientTime':Date[liIlll(0x2aa,'(07r')](),'shopId':$[liIlll(0x125,'eoia')]};break;case ll11ii[liIlll(0x2f0,'9v!1')]:liIlii+=liIlll(0x119,'sMrD'),llii1l={'activityId':$[liIlll(0x351,'EK6I')]};break;case ll11ii[liIlll(0x275,'eoia')]:ll11il=liIlll(0x224,'v71N'),liIlii+=ll11ii[liIlll(0x1f0,'@GP4')];break;case ll11ii['dBVcZ']:liIlii+=ll11ii[liIlll(0x2db,'O08C')],llii1l={'prizeInfoId':$[liIlll(0x17c,'q[)t')],'status':0x1};break;default:console['log'](liIlll(0x292,'^AQG')+i1lIll);return;}const iI1lIl=ll11il===ll11ii[liIlll(0x15c,'xkeQ')]&&$[liIlll(0x277,'(07r')]['includes'](ll11ii[liIlll(0x334,'o4)l')])&&wuxianDefense[liIlll(0x147,'AQhl')](liIlii['replace']($[liIlll(0xb3,'S2J2')],'')['split']('?')[0x0]);iI1lIl&&(liIlil={'ecyText':wuxianDefense[liIlll(0xbb,'q[)t')]({'actId':$[liIlll(0x351,'EK6I')],...llii1l},$['pinToken'],$['te'])});const iiIiII={'url':liIlii,'method':ll11il,'headers':{'Accept':liIlll(0x211,'(eGp'),'Accept-Encoding':ll11ii['Vxnyf'],'Accept-Language':ll11ii['KMqRU'],'Connection':ll11ii['uAqvH'],'Content-Type':liIlll(0x310,'eoia'),'Cookie':'IsvToken='+$[liIlll(0x313,'(eGp')]+';\x20'+($[liIlll(0x2c0,'Id3h')]?';pToken='+$[liIlll(0x12c,'O08C')]:'')+($['te']?liIlll(0x232,'gp8q')+$['te']:''),'Host':$[liIlll(0x2d2,'81z2')],'Origin':$[liIlll(0x2df,'S2J2')],'Referer':$[liIlll(0x189,'KPp5')],'Sec-Fetch-Dest':ll11ii[liIlll(0x2e8,'@GP4')],'Sec-Fetch-Mode':ll11ii['LnuLs'],'Sec-Fetch-Site':ll11ii['TWRrQ'],'User-Agent':$['UA']},'params':llii1i,'data':iI1lIl?liIlil:llii1l,'timeout':0x7530};$[liIlll(0x290,'A@vW')]&&(iiIiII[liIlll(0x11f,'66wa')][liIlll(0x279,'WRIq')]=$['token']);if(ll11ii['Sgapp'](ll11il,'GET')){if(ll11ii[liIlll(0x141,'G(44')](liIlll(0x26f,'Pord'),ll11ii['veZkb']))delete iiIiII[liIlll(0x10c,'66wa')],delete iiIiII[liIlll(0x185,'(eGp')][ll11ii[liIlll(0x30e,'MpS%')]];else{const Iill='0|1|2|3|5|7|6|4'[liIlll(0x116,'(Gyg')]('|');let ili1II=0x0;while(!![]){switch(Iill[ili1II++]){case'0':l1lIli[liIlll(0x203,'gp8q')]=lIIiiI?.[liIlll(0x10c,'66wa')]?.[liIlll(0x2fa,'d%ER')];continue;case'1':II1lil[liIlll(0x201,'usiy')]=IIli1l?.['data']?.['joinInfo'];continue;case'2':II1lii[liIlll(0x2fc,'6tbR')]=lIIii1[liIlll(0x2e9,'O08C')]?.[liIlll(0xe9,'eoia')];continue;case'3':ll1i1['shopId']=IIli1i?.[liIlll(0x16c,'d&ec')]?.['shopId'];continue;case'4':IllIIl[liIlll(0x156,'HyR@')]=IiiIi1['joinInfo']?.[liIlll(0xeb,'A@vW')]?.['joinDes'];continue;case'5':I1iIi1[liIlll(0x26c,'IE8F')]=lliil1['getUrlParameter'](IIllI[liIlll(0x35d,'G(44')],'venderId');continue;case'6':ll1l1[liIlll(0x13f,'AQhl')]=IllIIi[liIlll(0x213,'0!^A')]?.[liIlll(0x17d,'RCFv')]?.[liIlll(0x345,'Pord')];continue;case'7':lliilI[liIlll(0x2d5,'HyR@')]=lili1?.['data']?.[liIlll(0x1be,'(Gyg')];continue;}break;}}}const Iili=0x5;let iIi11=0x0,Iil1=null,ll11lI=![];while(ll11ii[liIlll(0x160,'EK6I')](iIi11,Iili)){if(ll11ii[liIlll(0x25d,'A@vW')](ll11ii[liIlll(0x251,'6tbR')],ll11ii[liIlll(0xbc,'EG2^')])){ll11ii[liIlll(0x105,'1Oi2')](iIi11,0x0)&&await $[liIlll(0x27e,'d%ER')](0x3e8);const liIllI=await common[liIlll(0x2c2,'n8@4')](iiIiII);if(!liIllI[liIlll(0x145,'M)w4')]){if(ll11ii[liIlll(0x1bb,'M)w4')](ll11ii[liIlll(0x20b,'HyR@')],ll11ii[liIlll(0x2f1,'o4)l')])){Iil1=i1lIll+liIlll(0xe6,'(eGp')+liIllI[liIlll(0x20d,'66wa')],iIi11++;if(liIllI[liIlll(0x15d,'mRyp')]){if(ll11ii[liIlll(0x186,'G(44')](liIllI[liIlll(0x27d,'GvI(')],0x1f4)&&iI1lIl)iiIiII[liIlll(0xbe,'k%Qi')]={'ecyText':wuxianDefense['encrypt']({'actId':$['activityId'],...llii1l},$[liIlll(0xac,'&e)c')],$['te'])};else[0x193,0x1ed][liIlll(0x32e,'(Gyg')](liIllI['status'])&&(ll11ii['LZDRI'](ll11ii[liIlll(0x25f,'sMrD')],ll11ii[liIlll(0x1ba,'RCFv')])?ll11lI=!![]:IilliI[liIlll(0x265,'@GP4')](liIlll(0x1d6,'mRyp')+IlI1ii));}continue;}else{i1ilii[liIlll(0x27c,'(eGp')](ll11ii[liIlll(0x226,'MpS%')]),iIIII1['message'][liIlll(0xf0,'O08C')](ll11ii['YZjyw']);return;}}if(!liIllI['data']){Iil1=i1lIll+liIlll(0x2c4,'O08C'),iIi11++;iI1lIl&&(iiIiII[liIlll(0x1e8,'o4)l')]={'ecyText':wuxianDefense[liIlll(0x32f,'Id3h')]({'actId':$[liIlll(0x24e,'d&ec')],...llii1l},$[liIlll(0x12c,'O08C')],$['te'])});continue;}const ll11i=common['getResponseCookie'](liIllI);switch(i1lIll){case ll11ii[liIlll(0x1d2,'9v!1')]:const l1i11=common['getCookieValue'](ll11i,'te');l1i11&&($['te']=l1i11);break;}await ll11ii[liIlll(0x1b1,'IE8F')](handleResponse,i1lIll,liIllI[liIlll(0x149,'v71N')]),ll11lI=![];break;}else llI1I1[liIlll(0x20a,'WRIq')](IlIlil),lIli1I&&(!IIIIII&&(liil1I[liIlll(0xdb,'&e)c')]=!![],i11ii1[liIlll(0x295,'4]b$')]&&iiill1['message']['fix'](lIli1i)));}if(ll11ii[liIlll(0x1e5,'sMrD')](iIi11,Iili)){console[liIlll(0x32c,'#tD4')](Iil1);if(ll11lI){if('eWfmP'!==ll11ii[liIlll(0x306,'81z2')])IilIil['log']('❓'+l1iIi+'\x20'+l1l11i[liIlll(0x1f2,'EK6I')](l1iIl));else{if(!hotbreak){if(ll11ii[liIlll(0x249,'^YE2')](ll11ii[liIlll(0xc6,'81z2')],ll11ii['gVYzx'])){$[liIlll(0x162,'0!^A')]=!![];if($[liIlll(0x237,'(07r')]){if(ll11ii[liIlll(0x2da,'(eGp')](liIlll(0x276,'0!^A'),'YDIJm'))$[liIlll(0x1fe,'GvI(')][liIlll(0x36f,'^YE2')](Iil1);else{if(I1iIl1[liIlll(0x115,'AQhl')][liIlll(0x325,'M)w4')]('lorealjdcampaign-rc'))i1iliI=ll11ii[liIlll(0x1cb,'gp8q')];else lI1Il1[liIlll(0x23f,'O08C')][liIlll(0x12b,'^AQG')](ll11ii['RoFIG'])&&(I1iIii=IllII1[liIlll(0x16e,'81z2')][liIlll(0x2de,'KPp5')](/\/index$/,''));IliI1I[liIlll(0x350,'G(44')]='https://'+lI1Iii[liIlll(0x34b,'nc3b')],i1li[liIlll(0x19a,'0!^A')]='https://'+li1II[liIlll(0x144,'xkeQ')]+IliI11,i1ll[liIlll(0xbf,'EG2^')]=i1l1lI['baseUrl'];}}}else Iilli1[liIlll(0x2e2,'Pord')]('未知活动状态\x20'+I1l1Il[liIlll(0x15a,'d&ec')]),llIll1[liIlll(0x2cd,'66wa')]['fix'](liIlll(0x268,'9v!1')+Illl1l['actStatus']),Illl1i['runEnd']=!![];}}}}}var version_ = 'jsjiami.com.v7';
// prettier-ignore
function Env(t,e){"undefined"!=typeof process&&JSON.stringify(process.env).indexOf("GITHUB")>-1&&process.exit(0);class s{constructor(t){this.env=t}send(t,e="GET"){t="string"==typeof t?{url:t}:t;let s=this.get;return"POST"===e&&(s=this.post),new Promise((e,i)=>{s.call(this,t,(t,s,r)=>{t?i(t):e(s)})})}get(t){return this.send.call(this.env,t)}post(t){return this.send.call(this.env,t,"POST")}}return new class{constructor(t,e){this.name=t,this.http=new s(this),this.data=null,this.dataFile="box.dat",this.logs=[],this.isMute=!1,this.isNeedRewrite=!1,this.logSeparator="\n",this.startTime=(new Date).getTime(),Object.assign(this,e),this.log("",`🔔${this.name}, 开始!`)}isNode(){return"undefined"!=typeof module&&!!module.exports}isQuanX(){return"undefined"!=typeof $task}isSurge(){return"undefined"!=typeof $httpClient&&"undefined"==typeof $loon}isLoon(){return"undefined"!=typeof $loon}toObj(t,e=null){try{return JSON.parse(t)}catch{return e}}toStr(t,e=null){try{return JSON.stringify(t)}catch{return e}}getjson(t,e){let s=e;const i=this.getdata(t);if(i)try{s=JSON.parse(this.getdata(t))}catch{}return s}setjson(t,e){try{return this.setdata(JSON.stringify(t),e)}catch{return!1}}getScript(t){return new Promise(e=>{this.get({url:t},(t,s,i)=>e(i))})}runScript(t,e){return new Promise(s=>{let i=this.getdata("@chavy_boxjs_userCfgs.httpapi");i=i?i.replace(/\n/g,"").trim():i;let r=this.getdata("@chavy_boxjs_userCfgs.httpapi_timeout");r=r?1*r:20,r=e&&e.timeout?e.timeout:r;const[o,h]=i.split("@"),n={url:`http://${h}/v1/scripting/evaluate`,body:{script_text:t,mock_type:"cron",timeout:r},headers:{"X-Key":o,Accept:"*/*"}};this.post(n,(t,e,i)=>s(i))}).catch(t=>this.logErr(t))}loaddata(){if(!this.isNode())return{};{this.fs=this.fs?this.fs:require("fs"),this.path=this.path?this.path:require("path");const t=this.path.resolve(this.dataFile),e=this.path.resolve(process.cwd(),this.dataFile),s=this.fs.existsSync(t),i=!s&&this.fs.existsSync(e);if(!s&&!i)return{};{const i=s?t:e;try{return JSON.parse(this.fs.readFileSync(i))}catch(t){return{}}}}}writedata(){if(this.isNode()){this.fs=this.fs?this.fs:require("fs"),this.path=this.path?this.path:require("path");const t=this.path.resolve(this.dataFile),e=this.path.resolve(process.cwd(),this.dataFile),s=this.fs.existsSync(t),i=!s&&this.fs.existsSync(e),r=JSON.stringify(this.data);s?this.fs.writeFileSync(t,r):i?this.fs.writeFileSync(e,r):this.fs.writeFileSync(t,r)}}lodash_get(t,e,s){const i=e.replace(/\[(\d+)\]/g,".$1").split(".");let r=t;for(const t of i)if(r=Object(r)[t],void 0===r)return s;return r}lodash_set(t,e,s){return Object(t)!==t?t:(Array.isArray(e)||(e=e.toString().match(/[^.[\]]+/g)||[]),e.slice(0,-1).reduce((t,s,i)=>Object(t[s])===t[s]?t[s]:t[s]=Math.abs(e[i+1])>>0==+e[i+1]?[]:{},t)[e[e.length-1]]=s,t)}getdata(t){let e=this.getval(t);if(/^@/.test(t)){const[,s,i]=/^@(.*?)\.(.*?)$/.exec(t),r=s?this.getval(s):"";if(r)try{const t=JSON.parse(r);e=t?this.lodash_get(t,i,""):e}catch(t){e=""}}return e}setdata(t,e){let s=!1;if(/^@/.test(e)){const[,i,r]=/^@(.*?)\.(.*?)$/.exec(e),o=this.getval(i),h=i?"null"===o?null:o||"{}":"{}";try{const e=JSON.parse(h);this.lodash_set(e,r,t),s=this.setval(JSON.stringify(e),i)}catch(e){const o={};this.lodash_set(o,r,t),s=this.setval(JSON.stringify(o),i)}}else s=this.setval(t,e);return s}getval(t){return this.isSurge()||this.isLoon()?$persistentStore.read(t):this.isQuanX()?$prefs.valueForKey(t):this.isNode()?(this.data=this.loaddata(),this.data[t]):this.data&&this.data[t]||null}setval(t,e){return this.isSurge()||this.isLoon()?$persistentStore.write(t,e):this.isQuanX()?$prefs.setValueForKey(t,e):this.isNode()?(this.data=this.loaddata(),this.data[e]=t,this.writedata(),!0):this.data&&this.data[e]||null}initGotEnv(t){this.got=this.got?this.got:require("got"),this.cktough=this.cktough?this.cktough:require("tough-cookie"),this.ckjar=this.ckjar?this.ckjar:new this.cktough.CookieJar,t&&(t.headers=t.headers?t.headers:{},void 0===t.headers.Cookie&&void 0===t.cookieJar&&(t.cookieJar=this.ckjar))}get(t,e=(()=>{})){t.headers&&(delete t.headers["Content-Type"],delete t.headers["Content-Length"]),this.isSurge()||this.isLoon()?(this.isSurge()&&this.isNeedRewrite&&(t.headers=t.headers||{},Object.assign(t.headers,{"X-Surge-Skip-Scripting":!1})),$httpClient.get(t,(t,s,i)=>{!t&&s&&(s.body=i,s.statusCode=s.status),e(t,s,i)})):this.isQuanX()?(this.isNeedRewrite&&(t.opts=t.opts||{},Object.assign(t.opts,{hints:!1})),$task.fetch(t).then(t=>{const{statusCode:s,statusCode:i,headers:r,body:o}=t;e(null,{status:s,statusCode:i,headers:r,body:o},o)},t=>e(t))):this.isNode()&&(this.initGotEnv(t),this.got(t).on("redirect",(t,e)=>{try{if(t.headers["set-cookie"]){const s=t.headers["set-cookie"].map(this.cktough.Cookie.parse).toString();s&&this.ckjar.setCookieSync(s,null),e.cookieJar=this.ckjar}}catch(t){this.logErr(t)}}).then(t=>{const{statusCode:s,statusCode:i,headers:r,body:o}=t;e(null,{status:s,statusCode:i,headers:r,body:o},o)},t=>{const{message:s,response:i}=t;e(s,i,i&&i.body)}))}post(t,e=(()=>{})){if(t.body&&t.headers&&!t.headers["Content-Type"]&&(t.headers["Content-Type"]="application/x-www-form-urlencoded"),t.headers&&delete t.headers["Content-Length"],this.isSurge()||this.isLoon())this.isSurge()&&this.isNeedRewrite&&(t.headers=t.headers||{},Object.assign(t.headers,{"X-Surge-Skip-Scripting":!1})),$httpClient.post(t,(t,s,i)=>{!t&&s&&(s.body=i,s.statusCode=s.status),e(t,s,i)});else if(this.isQuanX())t.method="POST",this.isNeedRewrite&&(t.opts=t.opts||{},Object.assign(t.opts,{hints:!1})),$task.fetch(t).then(t=>{const{statusCode:s,statusCode:i,headers:r,body:o}=t;e(null,{status:s,statusCode:i,headers:r,body:o},o)},t=>e(t));else if(this.isNode()){this.initGotEnv(t);const{url:s,...i}=t;this.got.post(s,i).then(t=>{const{statusCode:s,statusCode:i,headers:r,body:o}=t;e(null,{status:s,statusCode:i,headers:r,body:o},o)},t=>{const{message:s,response:i}=t;e(s,i,i&&i.body)})}}time(t,e=null){const s=e?new Date(e):new Date;let i={"M+":s.getMonth()+1,"d+":s.getDate(),"H+":s.getHours(),"m+":s.getMinutes(),"s+":s.getSeconds(),"q+":Math.floor((s.getMonth()+3)/3),S:s.getMilliseconds()};/(y+)/.test(t)&&(t=t.replace(RegExp.$1,(s.getFullYear()+"").substr(4-RegExp.$1.length)));for(let e in i)new RegExp("("+e+")").test(t)&&(t=t.replace(RegExp.$1,1==RegExp.$1.length?i[e]:("00"+i[e]).substr((""+i[e]).length)));return t}msg(e=t,s="",i="",r){const o=t=>{if(!t)return t;if("string"==typeof t)return this.isLoon()?t:this.isQuanX()?{"open-url":t}:this.isSurge()?{url:t}:void 0;if("object"==typeof t){if(this.isLoon()){let e=t.openUrl||t.url||t["open-url"],s=t.mediaUrl||t["media-url"];return{openUrl:e,mediaUrl:s}}if(this.isQuanX()){let e=t["open-url"]||t.url||t.openUrl,s=t["media-url"]||t.mediaUrl;return{"open-url":e,"media-url":s}}if(this.isSurge()){let e=t.url||t.openUrl||t["open-url"];return{url:e}}}};if(this.isMute||(this.isSurge()||this.isLoon()?$notification.post(e,s,i,o(r)):this.isQuanX()&&$notify(e,s,i,o(r))),!this.isMuteLog){let t=["","==============📣系统通知📣=============="];t.push(e),s&&t.push(s),i&&t.push(i),console.log(t.join("\n")),this.logs=this.logs.concat(t)}}log(...t){t.length>0&&(this.logs=[...this.logs,...t]),console.log(t.join(this.logSeparator))}logErr(t,e){const s=!this.isSurge()&&!this.isQuanX()&&!this.isLoon();s?this.log("",`❗️${this.name}, 错误!`,t.stack):this.log("",`❗️${this.name}, 错误!`,t)}wait(t){return new Promise(e=>setTimeout(e,t))}done(t={}){const e=(new Date).getTime(),s=(e-this.startTime)/1e3;this.log("",`🔔${this.name}, 结束! 🕛 ${s} 秒`),this.log(),(this.isSurge()||this.isQuanX()||this.isLoon())&&$done(t)}}(t,e)}
