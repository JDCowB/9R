/*
活动名称：生日礼包（超级无线V2）
活动链接：https://lzkj-isv.isvjcloud.com/prod/cc/interaction/v2/${$.activityType}/1001/?activityId=xxxx&shopId=xxxx
环境变量：jd_lzkj_v2_birthday_url // 活动链接
		jd_lzkj_v2_birthday_opencard // 是否入会（true/false），默认不入会
        jd_lzkj_v2_birthday_Notify // 是否推送通知（true/false），默认不推送

cron:1 1 1 1 *

*/

const $ = new Env('生日礼包（超级无线V2）')
var iｉl='jsjiami.com.v7';function iii1II(_0x3e54e6,_0x4625a2){const _0x287188=Iii11l();return iii1II=function(_0x289635,_0x4d8a90){_0x289635=_0x289635-0x1b3;let _0x2911e3=_0x287188[_0x289635];if(iii1II['ssKPni']===undefined){var _0x1dd77e=function(_0x31a967){const _0x4a2732='abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=';let _0x3721ef='',_0x592bc2='';for(let _0x524ffa=0x0,_0x4c3151,_0x108546,_0x3fb748=0x0;_0x108546=_0x31a967['charAt'](_0x3fb748++);~_0x108546&&(_0x4c3151=_0x524ffa%0x4?_0x4c3151*0x40+_0x108546:_0x108546,_0x524ffa++%0x4)?_0x3721ef+=String['fromCharCode'](0xff&_0x4c3151>>(-0x2*_0x524ffa&0x6)):0x0){_0x108546=_0x4a2732['indexOf'](_0x108546);}for(let _0x2c521b=0x0,_0x7c51a6=_0x3721ef['length'];_0x2c521b<_0x7c51a6;_0x2c521b++){_0x592bc2+='%'+('00'+_0x3721ef['charCodeAt'](_0x2c521b)['toString'](0x10))['slice'](-0x2);}return decodeURIComponent(_0x592bc2);};const _0x28cfad=function(_0x4f0592,_0x1d0cac){let _0x375ffa=[],_0x2c89c7=0x0,_0x154a31,_0x8f2687='';_0x4f0592=_0x1dd77e(_0x4f0592);let _0xd9701a;for(_0xd9701a=0x0;_0xd9701a<0x100;_0xd9701a++){_0x375ffa[_0xd9701a]=_0xd9701a;}for(_0xd9701a=0x0;_0xd9701a<0x100;_0xd9701a++){_0x2c89c7=(_0x2c89c7+_0x375ffa[_0xd9701a]+_0x1d0cac['charCodeAt'](_0xd9701a%_0x1d0cac['length']))%0x100,_0x154a31=_0x375ffa[_0xd9701a],_0x375ffa[_0xd9701a]=_0x375ffa[_0x2c89c7],_0x375ffa[_0x2c89c7]=_0x154a31;}_0xd9701a=0x0,_0x2c89c7=0x0;for(let _0x19dd97=0x0;_0x19dd97<_0x4f0592['length'];_0x19dd97++){_0xd9701a=(_0xd9701a+0x1)%0x100,_0x2c89c7=(_0x2c89c7+_0x375ffa[_0xd9701a])%0x100,_0x154a31=_0x375ffa[_0xd9701a],_0x375ffa[_0xd9701a]=_0x375ffa[_0x2c89c7],_0x375ffa[_0x2c89c7]=_0x154a31,_0x8f2687+=String['fromCharCode'](_0x4f0592['charCodeAt'](_0x19dd97)^_0x375ffa[(_0x375ffa[_0xd9701a]+_0x375ffa[_0x2c89c7])%0x100]);}return _0x8f2687;};iii1II['pnXteK']=_0x28cfad,_0x3e54e6=arguments,iii1II['ssKPni']=!![];}const _0x4f1136=_0x287188[0x0],_0x36b1b6=_0x289635+_0x4f1136,_0x2403cb=_0x3e54e6[_0x36b1b6];return!_0x2403cb?(iii1II['mbfRIl']===undefined&&(iii1II['mbfRIl']=!![]),_0x2911e3=iii1II['pnXteK'](_0x2911e3,_0x4d8a90),_0x3e54e6[_0x36b1b6]=_0x2911e3):_0x2911e3=_0x2403cb,_0x2911e3;},iii1II(_0x3e54e6,_0x4625a2);}const iI1Il1=iii1II;(function(il1ii,llI111,i1iIiI,IlllI1,I1il11,lI1l11,II11l){return il1ii=il1ii>>0x9,lI1l11='hs',II11l='hs',function(II11i,iI1Iii,liI1ii,lIIiIl,iI1Iil){const liI1iI=iii1II;lIIiIl='tfi',lI1l11=lIIiIl+lI1l11,iI1Iil='up',II11l+=iI1Iil,lI1l11=liI1ii(lI1l11),II11l=liI1ii(II11l),liI1ii=0x0;const il1iI=II11i();while(!![]&&--IlllI1+iI1Iii){try{lIIiIl=-parseInt(liI1iI(0x383,'Bers'))/0x1+parseInt(liI1iI(0x1ef,'Fh0('))/0x2+-parseInt(liI1iI(0x381,'W8jR'))/0x3*(-parseInt(liI1iI(0x2ce,'6JZN'))/0x4)+parseInt(liI1iI(0x20a,'8kY^'))/0x5*(parseInt(liI1iI(0x258,'qrvD'))/0x6)+-parseInt(liI1iI(0x203,'ed1y'))/0x7+parseInt(liI1iI(0x350,'^5Ig'))/0x8+-parseInt(liI1iI(0x1cf,'wQ#E'))/0x9;}catch(i1iIii){lIIiIl=liI1ii;}finally{iI1Iil=il1iI[lI1l11]();if(il1ii<=IlllI1)liI1ii?I1il11?lIIiIl=iI1Iil:I1il11=iI1Iil:liI1ii=iI1Iil;else{if(liI1ii==I1il11['replace'](/[whdOVeNgJWSqFyrMGLfb=]/g,'')){if(lIIiIl===iI1Iii){il1iI['un'+lI1l11](iI1Iil);break;}il1iI[II11l](iI1Iil);}}}}}(i1iIiI,llI111,function(i1iIil,liI1il,llIlIi,llIlIl,II11I,il1i1,lIIiIi){return liI1il='\x73\x70\x6c\x69\x74',i1iIil=arguments[0x0],i1iIil=i1iIil[liI1il](''),llIlIi='\x72\x65\x76\x65\x72\x73\x65',i1iIil=i1iIil[llIlIi]('\x76'),llIlIl='\x6a\x6f\x69\x6e',(0x16115c,i1iIil[llIlIl](''));});}(0x17800,0x9226e,Iii11l,0xbe),Iii11l)&&(iｉl=iI1Il1(0x1c5,'KMUi'));const jdCookie=require(iI1Il1(0x2de,'kRp!')),common=require(iI1Il1(0x311,'2C)v')),notify=require(iI1Il1(0x274,'mM(9')),getToken=require('./utils/Rebels_Token'),{wuxianDefense}=require(iI1Il1(0x241,'QQk!')),activityUrl=process[iI1Il1(0x38e,'kRp!')][iI1Il1(0x1bb,'BVPs')]||'',joinMember=process['env'][iI1Il1(0x1df,'e4o(')]==='true',isNotify=process['env'][iI1Il1(0x1d4,'7#Rb')]===iI1Il1(0x1b8,'kPRC');let cookie='',originCookie='';const cookiesArr=Object[iI1Il1(0x35e,'kPRC')](jdCookie)[iI1Il1(0x368,'W8jR')](ililIl=>jdCookie[ililIl])[iI1Il1(0x26e,'E7jr')](liiI1l=>liiI1l);!cookiesArr[0x0]&&($['msg']($['name'],iI1Il1(0x369,'mM(9')),process[iI1Il1(0x1eb,'6JZN')](0x1));function Iii11l(){const lIIiII=(function(){return[iｉl,'hegjysrqbjiMNarmVwiF.wScGLMoMmSJ.dWv7fFO==','W75EW7tdSfjdWPK','W7DMW7RcLCkLbcNdL8kxW5S','WQldPrNdS8oueGFcNMGhWQJdH8kzcW','w+E4PUAEGE+/SUs4UoATLEAuHUEdLUAEV+wtHCk0','WRNcQCoZkW','jSowwh4cW4KynmoPqY/dTYm','W6ldGSopW4TXnxuLimox','nMxdTJJcVmoPWRn/iSoSW7eIWQNcJcC','BhhcG8oCbZlcMSkjzXjih8kU','qYtcRSooWOJcHq','xI52y8oAAmkDW5u','iqNcJmkZomk1WPldQ8oX','WOddVwiLWRj7Bmo+rSos','bCk9WPpdTSo/','mZBdSq','h3uQjmkKpCocW5tdJYhdH2RcHa','amoqW4xcPW','W5nllmoYWPxcR8oV','8jEISwFNQ5BMSzq','WRxdIHK7WRqzWO1+','WRnkW6/cQwa','5yQq5ysP5BMw6zge5l+B5zk55AAJ6lEA776D5RAw5yQn5lMB6zUo5BIh6zks5l6t5zov5y+u5lI55zoJW5i','5RAh5yQJ5lQf6zIs5BU46zcl5l+b5zkN5y2s5lIA','W5XlW4ZcS8kj','ksxdQwrlW4NdI0XUW64','W7LrcqeR','W5LporSh','AeNcLubkfa','cmoQWQ4jWRTzsf5zW5lcUJed','AuDzACkjWO5L','5RA45yIO5Bcw5P+M5BYB5AsI77YC5B+g5AAm5PA+6zAr772z','WRSeWOS','W5vLmYCDWOu','4PU1FUIUPUwGJ+weL+AGRow9KUATSoEJV+EARowpLUMgVW','j+w9HUwNKUAxPEMvOo+8KW','WRtcTwRcJLtcNLFcLG','smk3W7jjW4ei','WPJdS24LW41VBG','W4lWUAEG','mbJcKCkAkCkAWOhdSSoaWOJdLHe','W7DrWPnWgCkQ','5PMF5lMG5PEC5O6sW4hLJydNUkJNPR3LJRZdIoA1J+wlVq','vSogju5B','mYxdS3zgW5VdMNXFW63cS8kj','ote2','WRiXu8kjWO8','5REP5yIf5BoN5zYiWPy','ocOPcxzyB8oL','WQZcO8oZjCkUBmkhWQFdOq','5PQJ5lQ75PET5O+EjEwoGUE4M+EKTownSmk75RsF5yQz','wmopWRVcPLhcImoXjXhcGG','zSkFWP0OBL8','W6dLVlRLPyJVV4ZMMy7NGzlLHl7MNBZLKOn0','FL3cJ2q','WQJdGXSU','qhaJ','qJNcR8o7WQ/cHq','8jMYMHRNQBdMS7G','WOjWySoLDSkG','W49/mISbWPBcSSkzW6K','W55ZjY4+','eaRdQgHg','tSksWPOKAKiVySoPW51L','WReiWOxdTSo2','5RE95yIk5zg756A777+G','W4ineHH+','A1vpbfqJhW','W7BdNSofW4e/h10','ESkvD03dJa','W7ZdNSocW7m9dff8lCohWPfQjLbH','BSkLaSog','WOzyW49wWQm','DSofjNbq','a8kQWQldVCo5','CmkvW7qeFWXk','zIFcQSoTWPi','cspcOCkqca','fmkVW69wW6XdgxmGW4JcMGC0W498d8klyqNcOWPFsG','eduBm8oM','zSk4gmobmSoPeG','eMZdPW7cIW','WR/dImksu8oxW5/cUq','oCkBWONcQv0','ntxdSeneW54','WQddP3/dVNS','loITMoAWS+wNQoI0P0/IN4Cs','WQvnWRm','WPD7W65YWRS','4PYzFUADU+IcMEAVREEHVUwLMEEqLCkX','xI52y8oDBq','a2LSz8o9zCkdWP/dIbtdVhVcHK/cMw0','WRbtW63cLhVcGmowDW','W6tdSK/cJMe','k8kOWRZdImoFwa','4PQyzoITMowfQ+wVMUs6NUw9IoIMOUEzNUEnNUwHHUwoJ+MeQEwrGoweOEI9MEIIHUIfKoAEKq','tchdGLmSWRBdUuBcMCkEWQeY','8jQ0OE+4JGG','v8kWW7O','W73dKSoo','W6RdRMJcQwm','WRVdG8kvrCoeW5NcV8ofdmkpWRPmlW','W7qoWRFdTcxdMCoDtmoMuNSV','W4tdTx4fW61ZESoYqW','h8kuWQRcNW','v3e1W4KZmwyAqmkhESkHltK','xu8/W5NdUCoZzLa','W7n/WQtcRSoQgCou','WQxdKbmQWO4DWRrYWQFdQa','cpcYRym','WQZdSZRdMmoscqNcON40WRS','f8ofW4pcR05MruFdHa','x1XdA8k8','W4ZdO8oyW7Cn','WRqwW44ermo2F8oRW6hdMCo4W5W','W5zyW6tdP0q','nd0Ln8o6Cs9NW4vbyXu','W7nVWRVcKmo7','x8kyWObGseqWFSkQ','ASkzcSoufG','fb/dICkzWPNdUrCbW4ddTWpdLq','WRrtr8oOCG','wM8eW4hdOa','aJzRFmoWjSktW5pcTrJdSgRcJ07cP0z2W5VcLH0kiuW','W7BcMCk7WQ8','m8k4WOtdPCoh','cmkEWRFcJMebWOe','WQf6W4Pu','WQmgqCkhWPb9','WOxdUwOW','nd0LdCo4EsLQW4vrFHu','AmkVdSotj8oRi2dcGCkw','wSk8W6LqW74fdMLAW5pcMa','WRecWPq','u0nOe0e','w8oFeuTs','WQ9lWRGBW7VcRq','tCozWQu','nH7cKCkeomkiWOddP8oZWOq','5RAL5yQY5BsL5lMtWQS','nSk/WQtdMSotrue','W6n5W5NdTM4','E3eKemoNFc48W4nnBbvfo8oanIJcOSkfWQTjW6xcQ1rBx8oD','WPSmsSkoWRS','tNW0W58HpMW','WOj2C8o9FSkXntSZWPOqgqBcHCoVW4LSFCkyW6L6vbXLWRX0tmkDqIKe','E8kvCLVdGshdIW','W7zhW5NdHfG','DuJcONbL','bYRdQmkiWOK','wmkTW7HyW7WjlNLIW4q','WP3dRwldS2O','zvXbd0m','eoE7OEADPEAxVoMuMo+/PW','WRObxmk2WO1IDmoM','uCoFWQZcIXhcRSozzG','yeNdLSo4BSodWPVdICoHWQddOYW','W4ZcKmkHWR7cKG','WOldQ1a9W7zUzCocq8ospW','WRDBW6RcTa','irRcKCkHm8kAWP7dOW','yCksugldKq','WPJdQgS8W6S','W5xcNCk/WQVcKxmwfbRcTtxcKSkX','B19j','WO9Pza','qcxcR8oQWQ7cISo3WPe','4P6qW7hLV4NLIjlMT7dLIORNSP3LNyhVVOW'].concat((function(){return['mGNcGmkOkCkEWQFdR8o5WOq','WQ4zWOhdUSo0ymoMW6FdGa','Ef3cIgbXaSkv','WOrJD8oezCk+bc4OWPqtuXJcK8oY','BSkBWPm','icxdQKDjW47dH291W7BcRSkUW5xdKCkd','W7ddQ2xcVeNcNh4','WRH2W5rcWRddUCoH','WP3dLIldG8oU','lXNdULXi','WRdcTmo0omk/sG','8jY9Umoo','jY0H','5yUe5yEu5BIM6zc85lY65zgz5AsD6lse776X5RA55yQ95lM+6zUq5BIL6zcR5l2n5zgZ5yYz5lUd','W5/dNmoaW7a4','WRpdJSoHW6VdJszsiwhcMJhcS8kg','Eu7cNMrqfCkTcCkyfq','W6HbWO5gfSkPCG','WQ7cPmo0gSkLrG','W7j1WRa','bCohW5dcSKfZ','WQZdJ2NdLeO','ortcVmkmdq','fqXNWOFcU8k9dq','5BQe6zca5zkx56Aa77Yaqq','WOTPCmoLECkZosO','WRRdImkarmotW4RcRW','k8kGWPpdI8ot','WQHuWRuBW7/cRq','qgSIW400pf0FsCk2','WQfzW7FcQwlcGSohymoWC14a','wu81','s1imW4at','EIjjymoA','nrRcKCkO','W6JdI8oAW5SQ','cmoEW5y','sCkOW5HoW6y','dCoFW4lcO1j1','b8oqW4xcPuG','jsSLeLzyB8oL','8yUSPmob5Ogn5zsQ6iYp5B2l','WP9iWPmFW5W','vSkbWOhdTHi','u0KQ','W5pdUmohW7ut','uCoeWQVcPrVcI8oDzra','W6XVWRNcMmoLgG','Cmoph1jgW5Xxlq','W69uW6ZcRSk3','5PYA6i+75yYx5yQo5lI65yMa5l2Z5Okq','wmkxW7jXW6q','W5DaWOhcQSoM','ASk+h8oBjCoNa3dcUCkbW4m','WQXvW6q','WQBdRX/dGW','ymkvB0ZdHttdP8k0','5Rse5yQo5lQi6zU95BIg6zgT5lYD5zgX5y2h5lM35zc+xq','WQHHWRW1W7a','oq/cKCk5lSobW5ZcQq','BSksWPOKAKiVySknW7a','FqdcPCo8WPi','tmk+W7rn','ySkiWR4/Dve+Aa','W6JdPCkUA8o6emkiWP/dHJLEW4u','W5SJcXry','BCombCkWDayVs8kpsa','uSocWRdcTHdcOSovBGW','DLDuBCkyWPu','4P2AW5dOHjVMNitOVBdOOiRPG6NLI6dKUB3PLAVORyZcUW','vCoEWRdcUG3cRCotzbhcTefcW6SUW6VdTSohhCoMqCop','WRlcUmo5nmkLq8klWQ8','u8k6W7XDW60Ecq','v8kWW7PqW6y','W61lWO5bgCkVESob','W497lcSB','zSoPemkYzG','W7hdLmoFW5WnefD6cCowWOvbluq','WQtdRgJdQgj+W6W','usRdNeyYWQm','WQ/dL8k4WR/cVN0ngL7cKW','er3dICkr','jCkjWPZdM8oV','WRD2AmoyBG','zmkfB23dJIi','W6u8bXvRiKW','xcpcPG','bXNdNSkvWOBdPGyOW6BdPWNdLq','qNOZW4u2mh0pCmkQy8kW','eHNdICkXWOZdPaOoW73dUGRdSKZcJH0','5AwP5zoN5zga56wD776l','j8k1WRhdIG','scxdM0SUWRBdOey','WOq8WPRdO8om','W5befmoLWQu','DW1ZzSot','WR1hWRKFW7lcVSoRWPRdLspcHXK','FvNcJ0rhbmkqfSkCbmkrW5ORWQPJ','xxnpqCka','A0mGW53dVCo2C0ZcQdRcT0FdHq','W5f4jW','WRWnxmkgWOD7wmoS','ufm5W6VdVCo2ya','W7DFW7ddQ0u','iJ84ea','5yU+5ysN5BIN6zcr5lYT5zgE5AAz6lEi77Y+5Rw55yQ55lQU6zQq5BQ66zku5l2c5zkW5yYe5lQt5zo4W7G','EfnjB8k5WO96','5P2/6ikJ6i+M5y6Y5RA15yQ457cM5z6y','WRxdQqpdPmoufGNcMq','8lQYRCkU56Qg5Roh','WQZdTX4BWPG','jCk5WQhdVmocv0CRDmkZWQm6','xSkWtW','aq8qawS','W6PufmoyWPe','pgxdSqRcVSo6WR8','xcxdM0i','vmkOW5XiW4u','W55CW7RcLSk4','W6PrWOLZg8kVCa','Cebccuu','nI3dG8kFwwFdHCki','WR7LVjRLPjZVV5hMM5hNG4FLHlZMNQpLK6yA','W6HaW7VdQ18','DL1D','WPD+W4ryWPm','5P+S6igF6i+b5y6D5REb5yUq57kB5z6q','ebuyeSoC','8y6WILBNQlhMS64','rKNcJSoaW5ZcPve2W4ldVt3dSN8','WQarCmkxWO0','W6JcJqm/WPmuWPm0WPJdQeNcT0NcTCkIbSkDWRzQW5RcISokWRi','W6HBW77dSNLgWOm','5REN5yM55yE/5y6877+r','dmoQW7T7W4CBpua','4P6EWO3MN4VOG53MR5xNO5BLP5JNKRDf','arNdKmkaWOpdSrCDW5FdOrFdLq','D1Ldbq','gbNdJSkdWO7dTWy','5PYW6iob6i2m5y+t55sm5OMh6yQn5PYJ5lYu5OcF','CCkvDwNdGZldH8kMWPigW5RdS1OCpa','nGKfdmoO','WRKcz8kKWQ8','WRLqWR0vW7VcKCo+WPldSW','Bv9z','lmk1WQBdM8oyv1G6','ASkaWOddJmojENJcMq','W6VcNmkgWRtcLNCm','hY3cSCoxW64','lIVdNSk/wg3dJCkd','qd7cQmoeWQtcR8oZWPldTa','iMVdQWNcJCoOWRq','WQCnqCkrWOnUDa','uSkSW4PrW6eyh0v8W4tcHG','WRtcPCoUl8k4gmojW6u','WQNcOCo+pSk/r8kLWQxdQHvUW6hcVq','vZhdM2uSWRBdQG','vIhdMeeHWQtdQhBcQmkD','W5bUnICd','uSogWQ7cTGO','WPRdG8k2vSop','W5L8obSR','eUISQoAXQUwsH+w7NGC','W696kmoNWRK','WP1DW4LLWQm','W7RdImoSW7WT','W6FcISkyWQ3cKG','W6C9mH5Lnve','jI49dCo6'].concat((function(){return['i8k/WQhdRSovqLWPsCkUWRCDW7erW4K','W51QW43dTwi','pw/dPq','hmkqWRdcQ3i','sxFcK2jw','ASkdW6mjnY9Zlmk7BgXCWO42W5/cRa','W79rW6pdOW','y8oDgmk+AWe','WRfYW5nq','W7bSW7y','D8ktDuhdLI/dMSkPWQ8lW5pdLa','w8kXtc8Y','WQNdKHmLWQ8kWOW','x8k6wZKRqbS','44gx5O6q56AK44cx6k+D5yEY6iYz5y+px8oTWRJcH8oDW4C','eSkBWRRcM0S','WRL2WP8iW6O','W6jbWOL0fmk6FSosW73dRmozW4BdJSo/qG','WQnvW63cThhcHCoh','emoyW5ZcOW','tY9Rz8o8BCkrW4K','DfxcMg5QeCkubq','WQBdSGJdKCopgdJcNMa0','WQDMW4L0WR/dUG','5Rs45yQy5BEC57QZ5P2U772D57Q/5P6g5Ps66zEy772g','drb+WP3cOCkJn3NdKXxcS2BdSG','gSkwWQRcL0uDWPSwWO7cM8k6Ea','sapdPfKt','zSo/p3PG','W5rlWRvZbW','WR7dOKRdOM0','W7zvW6tdSuPuWOG','ymoafG','W4XQncObWPdcTSkA','AvDuBSkIWPjIhhddRa','W6zdWQqgWRe','WQ7cMSk7WQNcIxOgee4','WQrBW7FcOq','WQhdPKldNLm','WR52W55c','WRBcOSoWnSkQt8kpW6tdPW5MWQhcV8oI','WQRdJre','z1fAaq','fCo6W4pcP1G','WOxdUmkLwCot','ACkiW600xG','qmkruJ4o','W7L3W6FcM8k6aW','5P+26icS6iYT5y6j55EJ5OIv6yQs5P6j5l2L5Oco77Yk','kIhdRG','44gf5O6o56wR44g16k255ywy6i+Q5y+fW5jhyrTalq','4PQ3WORORPZLOANLHQ3MOONLVklMRkVNORFNMRVPK6pMJk4','sLORW4e4','EmkzyKpdJIFdG8k1','E8kuWOm9CeOVFSkhW7TLjW','iXSIi1O','B8ose3PmW41vmmkHr2xdS2/dL8oQv8kpnCofm8kiCYhdGeNcNXCcW6qinJTlsL9FlCoPbge','n+ITNEAWQEwKS+I0KCkv4P6XAoAuUEwtSUw6IEAxU+AnUq','wH3dJCkzW4a','WRVcTmoUeCkKvSkpWQNdOq','5RAT5yQT57o15z2377+B','FmkYtg/dMq','4PU+yUITH+wIGowgRUAGUUw+P+AUJUEHNoEBHUMtR+ApJG','WQhORi/MSPdLKjBLUAKY','WQSlrSkNWOXTrCoHbgu','WPbfWO0nW7S','WOz7W4HbW7ZdL8oG','WQrLsSoBEa','zCkBAfJdSJpdGa','W74PcHH6','8joTLGG','WQhdHSkiumoKW43cSG','kXpdImkke8oxWONdRSkVWPdcHKtcLHe','W5PIlImdWP3cOG','DNldPMHPW4ddP14','bGJdJ8kzWOhdTWOEW60','C8oVW6hcNmkpavGLBCkWWPCN','WRtNU73MNidMLBFPLidVV5i','xmoWo2TD','FmoDgmkJzYe6x8kJ','W5/JGipLUldPK4VLK5ZNPA7JGPua','vCk/WRhdR8oB','6iYY5y+YW51HgmkLCSokWRtLPQNOTOxVVOu','4P6EWO3MN4VNN4xORyhMS7RdVa','8kI2K++6V8ol5lYV5OoM5yQq','WR/dLmkXuSoFW4lcUCoc','FCkyW5aAtW','W6tcLSkK','W5Llk8oaWPFcVmoJWPrFW57dNmoyW5JcJmoy','sNdcMuru','tcvTESoIymkeW4NdJGJdRNS','W7JdLmosW5C','iYhdQMC','W70RdWTRbezaWRi','WRxdIr87WQGnWO4','uCodWRhcTW','bCosW4xcR1zOwfJdQmoWEq','ssDTCG','W6xcMCkMWRO','aCo4W7JcQLe','vshdNfaHWRddQa','W4niW6xcTmk+','W7HJWOxcKSoP','W6zTfZu8','pmkDW78ewWfkAmkPytHTWO9IW5tcRG','WRNdU3ldOwzxW6JdGCkp','Cmkjr2ZdRa','y8kYgmogpCoVgMW','5REN5yM55Bka5P215B+l5AEP77+Q5B+k5Awp5PAx6zE/776v','EIW0b8oREsT2W4fAzWPm','W45hmCovWPVcO8oVWOW','WOFdT2a','WRhcTmoPlmkQrCkd','W6ddR2lcQNlcJG','W61bWPXreSk8za','W4JdLNRcN2O','rL8xW5SZ','W61YWRJcRCocgG','W6/dR2S','WQfHW5ju','xCkQxaWMrHK','qrNcLCogWPu','uIddSe86WRZdP3ZcRmodWPO1WO88W5JdOCkUk8oeWRm9W65J','rcH9DSoS','qY96Emo6AmkDW5u','t0/cNNDQeCkubq','WRRdUxFdSNC','CmktW74','W61YWRJcRCofh8oCWQm','rmkCve7dJa','W75EW7tdSfjdWPNdKCoifW','WQ/dJqxdOmo9','s8ofWQJcTH/cQmovjHBcIuKFW612','zCoFbuDAW5e','umk+wY8Fvri','W7ZdNSocW6CSfgHRnSosWOvgpfn8','vKG+W4JdO8oJ','Cmkju2FdGG','lJpdIw5dW47dI0XVW6FcPq','AvDosCkdWPj9hhm','WR3cSSoUnSk9s8ksWRpdKbH7W6O','W6z3W6FcHSk2iZZdG8k7','EhD0qaWmoSo5bmkWW7FdT1K','gJxdV8kEWRW','ESkFzG','w+AlHUs7ImoP','F+w9VowLTUAuHUMuM+++IG','WRJdICk+tmomW5pcTSoUe8osWOT4DdtcIJiBW51qgGWsg8kUuSoB','WQ3dQg/dUG','WQ9kW6BcRKhcMCoF','W7mpWRhdUsddNSklymoVtL0iWQi','qhyJW4K','yWFdLSk1BCkhW4FdUSkL','W6zdWQqgWRhcVmoWWPldUYpcJvn0juJcT202DSomWQTifqacq8kW','lmk/WRtdI8otrey','WQtdOXNdTCovgtJcNMa0','cSoEW4y','W7tcImk2WRRcIxCHhLNcGJ/cMmkG','W5rkamoTWO7cO8oGWR1aWPJdUSo4W5dcJCojymoaACoUWRL3WRpcUCo4wfqSW44','WRBdGSkprq','WOKgqCkSWPe','DCkWW7X+W5O','W5fUmZeoWPBcVG','WQrBWOqDW7FcPCo6WOW','ow/dSq3cSCo8WRDS','ySkuWP0+FuW+'];}()));}()));}());Iii11l=function(){return lIIiII;};return Iii11l();};!(async()=>{const i1iIl1=iI1Il1,i1l1II={'fyFDL':'⚠\x20请先定义必要的环境变量后再运行脚本','otYuA':i1iIl1(0x279,'Mfn6'),'iDHpw':i1iIl1(0x375,'Fh0('),'VzmeV':'activityId','KZPii':'shopId','jBMGy':'/prod/cc/interaction/v2/','zrwDD':i1iIl1(0x208,'mM(9'),'GAuKl':function(I1l11l,lilIIi){return I1l11l+lilIIi;},'qKrax':i1iIl1(0x313,'6JZN'),'GpwRO':function(i1l1Il,llIli){return i1l1Il<llIli;},'MLdBS':function(i1i11l,i1i11i){return i1i11l+i1i11i;},'XXDYU':function(II11l1,Iil1lI){return II11l1(Iil1lI);},'BnWWn':'pt_pin','RghHD':i1iIl1(0x36f,'O$#b'),'Pmlix':function(IiiliI,iii1iI){return IiiliI+iii1iI;},'aChZn':function(llIll){return llIll();},'VkkSS':function(il1iII,iilli){return il1iII+iilli;}};if(!activityUrl){console[i1iIl1(0x2b2,'f%XM')](i1l1II[i1iIl1(0x3a1,'88tE')]);return;}const i1ill=common['parseUrl'](activityUrl);if(!i1ill){if(i1l1II[i1iIl1(0x27a,'1LvR')]===i1l1II['otYuA']){console[i1iIl1(0x248,'ed1y')](i1l1II['iDHpw']);return;}else liIiI[i1iIl1(0x357,'5[AC')]('❓'+l1il1I+'\x20'+Iiili['stringify'](IilIli));}$[i1iIl1(0x26a,'ed1y')]=activityUrl,$[i1iIl1(0x1e8,'YbaI')]=common['getUrlParameter'](activityUrl,i1l1II[i1iIl1(0x2cf,']zg4')]),$[i1iIl1(0x240,'QQk!')]=common[i1iIl1(0x1c8,'j)@$')](activityUrl,i1l1II[i1iIl1(0x385,'O$#b')]),$['hostname']=i1ill[i1iIl1(0x1e5,'J2@m')],$['pathname']=i1ill[i1iIl1(0x358,'uDS]')];if($[i1iIl1(0x307,'Fh0(')]){$[i1iIl1(0x290,'1LvR')]=i1iIl1(0x328,'6JZN')+$['hostname'],$[i1iIl1(0x1ff,'W8jR')]=i1iIl1(0x2c9,'B5ao')+$['hostname']+i1iIl1(0x261,'QQk!'),$[i1iIl1(0x366,'YbaI')]=$['baseUrl'];try{const II11lI=$[i1iIl1(0x2ea,'BVPs')][i1iIl1(0x309,'Mfn6')](i1l1II[i1iIl1(0x374,'88tE')])[0x1];$[i1iIl1(0x268,'mM(9')]=II11lI[i1iIl1(0x1fb,'&fuZ')]('/')[0x0],$[i1iIl1(0x212,'W8jR')]=II11lI['split']('/')[0x1];}catch{}}if(!$['activityId']||!$[i1iIl1(0x1f0,'T#z7')]||!$[i1iIl1(0x31f,'Bers')]||!$['activityType']||!$[i1iIl1(0x316,'tEE8')]){console[i1iIl1(0x26b,'@nBC')](i1l1II[i1iIl1(0x364,'u4#B')]);return;}notify[i1iIl1(0x3a8,'8kY^')]({'title':$['name']}),console[i1iIl1(0x26f,'KMUi')](i1l1II[i1iIl1(0x2f0,'tqlh')](i1l1II[i1iIl1(0x362,'f%XM')],$['activityUrl']));for(let lI1IIi=0x0;i1l1II[i1iIl1(0x230,'Bers')](lI1IIi,cookiesArr[i1iIl1(0x2d2,'tqlh')]);lI1IIi++){$[i1iIl1(0x1bc,'QQk!')]=i1l1II[i1iIl1(0x2cb,'T#z7')](lI1IIi,0x1),cookie=cookiesArr[lI1IIi],originCookie=cookiesArr[lI1IIi],common[i1iIl1(0x1cc,'tqlh')](originCookie),$['UserName']=i1l1II[i1iIl1(0x233,'B5ao')](decodeURIComponent,common[i1iIl1(0x1e9,'SoFl')](cookie,i1l1II[i1iIl1(0x239,'x&tn')])),$['UA']=common[i1iIl1(0x33a,'x&tn')]($['UserName']),$['UUID']=common['genUuid'](i1l1II['RghHD']),$['te']=i1l1II['Pmlix'](Math[i1iIl1(0x27e,'Q$Ya')](Math['random']()*0x2328),0x3e8),$[i1iIl1(0x318,'tEE8')]=notify['create']($['index'],$['UserName']),$[i1iIl1(0x34c,'1LvR')]='',console[i1iIl1(0x292,'t4GI')]('\x0a******开始【京东账号'+$[i1iIl1(0x346,'x&tn')]+'】'+($['nickName']||$['UserName'])+i1iIl1(0x2a5,'^5Ig')),await i1l1II[i1iIl1(0x2c8,'E7jr')](Main),common['unsetCookie'](),await $['wait'](0x1f4);if($[i1iIl1(0x305,'qrvD')]||$[i1iIl1(0x34e,'kPRC')])break;}isNotify&&notify[i1iIl1(0x270,'B5ao')]()&&(notify[i1iIl1(0x329,'6JZN')](i1l1II[i1iIl1(0x232,'T#z7')](notify[i1iIl1(0x231,'u4#B')],'\x0a【活动地址】'+$[i1iIl1(0x2c3,'Ph18')])),await notify[i1iIl1(0x396,'KMUi')]());})()[iI1Il1(0x2b5,'f%XM')](I1l11I=>$['logErr'](I1l11I))[iI1Il1(0x380,'uDS]')](()=>$[iI1Il1(0x1e0,'7#Rb')]());async function Main(){const i1lli1=iI1Il1,Ilil1l={'WdPsN':'/prod/cc/interaction/v2/','CtpPU':i1lli1(0x25c,'4ZxG'),'jMhPF':i1lli1(0x225,'4ZxG'),'PtFLm':'Activity-Type','njKdQ':i1lli1(0x345,'W8jR'),'IZVwm':function(iIIiii,iilll,il1iI1){return iIIiii(iilll,il1iI1);},'yChZM':function(IlllIi,iIIiil){return IlllIi===iIIiil;},'fyROb':i1lli1(0x30d,'mM(9'),'WJvnl':function(i1l1Ii,I1iIIi){return i1l1Ii(I1iIIi);},'DKeek':i1lli1(0x367,'6JZN'),'UGIuX':i1lli1(0x319,'1LvR'),'SKhgr':function(I1iIIl,lI1IIl){return I1iIIl===lI1IIl;},'lekin':i1lli1(0x2b9,'f%XM'),'EkJWh':i1lli1(0x218,'KMUi'),'FZZwI':i1lli1(0x30c,'2C)v'),'OelaU':i1lli1(0x31a,'88tE'),'owAqM':i1lli1(0x33c,'u4#B'),'qrHZK':function(i1ilI,iii1lI){return i1ilI<iii1lI;},'WAOQx':function(i1ilI1,Iiilii){return i1ilI1===Iiilii;},'jyBuo':i1lli1(0x2b3,'ed1y'),'rmrQB':function(Iil1li,Iiilil){return Iil1li>Iiilil;},'YgYbe':function(Iil1ll,iillI){return Iil1ll!=iillI;},'DzMxb':function(lI1III,IIliIi){return lI1III!==IIliIi;},'BjnFI':i1lli1(0x283,'kRp!'),'eFPws':i1lli1(0x200,'uDS]'),'YQipV':i1lli1(0x263,'Bers'),'QoHFp':i1lli1(0x1fc,'T#z7'),'oIBnS':'加入店铺会员失败，活动仅限店铺会员参与','OedLG':'活动仅限店铺会员参与','LuzIf':'VJTFF','CyCvE':i1lli1(0x2fc,'2C)v'),'Tqwrr':i1lli1(0x260,'^5Ig'),'QdxlY':function(IllIiI,i1il1){return IllIiI(i1il1);},'fKWSf':function(I1l111,IIii1l){return I1l111(IIii1l);},'QTwfM':i1lli1(0x38c,'7#Rb')};try{$['skipRun']=![],$['pinToken']='';if($[i1lli1(0x21f,'T#z7')]||$[i1lli1(0x32a,'BVPs')])return;$[i1lli1(0x335,']zg4')]=await Ilil1l[i1lli1(0x2c2,'B]Re')](getToken,originCookie,$['baseUrl']);if(!$[i1lli1(0x321,'kRp!')]){if(Ilil1l['yChZM'](Ilil1l[i1lli1(0x39d,'B]Re')],Ilil1l[i1lli1(0x1ca,'88tE')])){console[i1lli1(0x360,'2C)v')](i1lli1(0x389,'qrvD')),$[i1lli1(0x344,'b0vl')]['fix']('获取[Token]失败');return;}else llIIll['log'](''+IillIi[i1lli1(0x39b,'BVPs')]),lii[i1lli1(0x395,'2C)v')]=!![];}await Ilil1l[i1lli1(0x224,'W8jR')](sendRequest,'login');if($['runEnd']||$['outFlag']||$['skipRun'])return;if(!$[i1lli1(0x323,'Fh0(')]){console[i1lli1(0x2ba,'^5Ig')](Ilil1l['DKeek']),$[i1lli1(0x344,'b0vl')]['fix'](Ilil1l['UGIuX']);return;}if(Ilil1l['SKhgr']($[i1lli1(0x24a,'8kY^')],0x1)){switch($['activityType']){case Ilil1l['lekin']:break;case'20001':console['log'](i1lli1(0x210,'@nBC')),$['message']['fix'](Ilil1l[i1lli1(0x235,'mM(9')]),$[i1lli1(0x1c6,'O$#b')]=!![];return;case'':console[i1lli1(0x360,'2C)v')](Ilil1l[i1lli1(0x338,'Mfn6')]),$[i1lli1(0x236,'Ph18')][i1lli1(0x340,'YbaI')](i1lli1(0x2f9,'mM(9')),$[i1lli1(0x23a,'W8jR')]=!![];return;default:console[i1lli1(0x28b,'ze4z')](i1lli1(0x28d,'6JZN')+$[i1lli1(0x391,'QQk!')]+'）暂不受本脚本支持，请联系作者进行反馈！'),$[i1lli1(0x295,'kPRC')][i1lli1(0x206,'@nBC')](i1lli1(0x373,'YbaI')+$['activityType']+'）不受支持'),$['runEnd']=!![];return;}if($['runEnd']||$['outFlag'])return;await $[i1lli1(0x2cc,'ed1y')](0x1f4);}$[i1lli1(0x337,'Bers')]='',await sendRequest(Ilil1l['OelaU']),await $[i1lli1(0x262,'kRp!')](0x1f4);if($[i1lli1(0x2a0,'6JZN')]||$['outFlag']||$[i1lli1(0x294,'8kY^')])return;if($[i1lli1(0x2e7,'tEE8')]){if(Ilil1l[i1lli1(0x33b,'1LvR')]($[i1lli1(0x342,'b0vl')],0x1)){$[i1lli1(0x216,'wQ#E')]=$[i1lli1(0x348,'qrvD')]['shopName'],$['activityName']=$['getActivityBase']['activityName'],$['actStartTime']=$[i1lli1(0x293,'W8jR')]['startTime'],$[i1lli1(0x1dc,'SoFl')]=$['getActivityBase']['endTime'];const ililI1=$[i1lli1(0x317,'Q$Ya')](Ilil1l[i1lli1(0x303,'ed1y')],$[i1lli1(0x20e,'B5ao')]),IIii1i=$['time']('yyyy-MM-dd\x20HH:mm',$[i1lli1(0x377,'908F')]);console['log'](($[i1lli1(0x1fa,'2C)v')]&&i1lli1(0x2a6,'u4#B')+$[i1lli1(0x1c1,'B]Re')]+'\x0a')+i1lli1(0x227,'2C)v')+$['activityName']+i1lli1(0x209,'QQk!')+ililI1+i1lli1(0x384,'e4o(')+IIii1i+'\x0a填写生日：'+$['time'](i1lli1(0x1ed,'j)@$'),Date[i1lli1(0x1dd,'f%XM')]())+'\x0a'),notify[i1lli1(0x1de,'kRp!')](notify[i1lli1(0x349,'&fuZ')]+(($['shopName']&&i1lli1(0x387,'kPRC')+$['shopName'])+i1lli1(0x1d3,'tEE8')+ililI1+i1lli1(0x27f,'tqlh')+IIii1i+'\x0a'));const i1ili=Date['now']();if($[i1lli1(0x25a,'mM(9')]&&Ilil1l['qrHZK'](i1ili,$[i1lli1(0x2fd,'Bers')])){if(Ilil1l['WAOQx'](Ilil1l[i1lli1(0x310,'908F')],i1lli1(0x347,'E7jr'))){const I1iII1=I1iIii['pathname']['split'](Ilil1l['WdPsN'])[0x1];IllII1[i1lli1(0x2e6,'OB9]')]=I1iII1[i1lli1(0x288,'UY0w')]('/')[0x0],I1iIil[i1lli1(0x246,'BVPs')]=I1iII1[i1lli1(0x2b1,'j)@$')]('/')[0x1];}else{console[i1lli1(0x2ba,'^5Ig')]('活动将在\x20'+ililI1+i1lli1(0x21b,'&fuZ')),$['message']['fix'](i1lli1(0x205,'8kY^')+ililI1),$[i1lli1(0x202,'1LvR')]=!![];return;}}if($['actEndTime']&&Ilil1l['rmrQB'](i1ili,$['actEndTime'])){console[i1lli1(0x26b,'@nBC')](i1lli1(0x271,'B]Re')+IIii1i+i1lli1(0x1ea,'x&tn')),$['message']['fix'](i1lli1(0x34f,'Q$Ya')+IIii1i),$[i1lli1(0x2bd,'B]Re')]=!![];return;}}let liiI11=$[i1lli1(0x38f,'e4o(')][i1lli1(0x2d4,'KMUi')]||[];if(Ilil1l[i1lli1(0x378,'E7jr')](liiI11['length'],0x0))for(let lilII1 of liiI11){if(Ilil1l['DzMxb'](i1lli1(0x259,'Mfn6'),Ilil1l['BjnFI']))l1l11i['getActivityBase']=l1iIl[i1lli1(0x2b0,'B5ao')];else switch(lilII1['type']){case 0x0:{if(Ilil1l[i1lli1(0x1b5,'OB9]')]!==Ilil1l['eFPws']){const IIliIl=i1lli1(0x1d9,'B5ao')[i1lli1(0x306,'Q$Ya')]('|');let II11ll=0x0;while(!![]){switch(IIliIl[II11ll++]){case'0':l1llIl[i1lli1(0x1db,'Bers')][Ilil1l['CtpPU']]=ii1I1l[i1lli1(0x3a5,'e4o(')];continue;case'1':llliI[i1lli1(0x2d6,'ed1y')][i1lli1(0x289,'kRp!')]=iI1li1['templateCode'];continue;case'2':IllI11['headers'][Ilil1l[i1lli1(0x1c4,'SoFl')]]=l1llIi['activityId'];continue;case'3':II1llI[i1lli1(0x229,'Q$Ya')][Ilil1l['PtFLm']]=i11I11[i1lli1(0x268,'mM(9')];continue;case'4':ii1I1i[i1lli1(0x1b3,'qrvD')]['Shop-Id']=llI['shopId'];continue;}break;}}else{console['log'](''+lilII1[i1lli1(0x24f,'OB9]')]),$['runEnd']=!![];return;}}case 0x1:{if(joinMember){$[i1lli1(0x343,'2C)v')]=$[i1lli1(0x2ef,'1LvR')]['openCardLink'],$['venderId']=common[i1lli1(0x291,'ze4z')]($[i1lli1(0x1d6,'&fuZ')],i1lli1(0x2c6,'88tE'));const liiI1I=await common[i1lli1(0x2db,'j)@$')]($[i1lli1(0x2f3,'908F')]);if(liiI1I){if(Ilil1l[i1lli1(0x22e,'kPRC')](i1lli1(0x287,'88tE'),Ilil1l[i1lli1(0x2eb,'@nBC')]))console['log']('加入['+$[i1lli1(0x1f1,'QQk!')]+']店铺会员成功\x0a');else{iii1I1[i1lli1(0x1c7,'b0vl')]='https://'+II1Ii[i1lli1(0x2d8,'qrvD')],i1ii[i1lli1(0x32b,'BVPs')]=i1lli1(0x320,'t4GI')+I1iIl1[i1lli1(0x3a2,'Ph18')]+i1lli1(0x234,'ed1y'),i1il[i1lli1(0x244,'Bers')]=lI1Il1[i1lli1(0x2f8,'tqlh')];try{const lI1II1=lI1Iii[i1lli1(0x286,'B5ao')][i1lli1(0x2d9,'uDS]')](Ilil1l[i1lli1(0x2af,'QQk!')])[0x1];i1li[i1lli1(0x1cd,'6JZN')]=lI1II1[i1lli1(0x37c,']zg4')]('/')[0x0],li1II['templateCode']=lI1II1[i1lli1(0x32d,'KMUi')]('/')[0x1];}catch{}}}else{console['log'](Ilil1l[i1lli1(0x354,'qrvD')]),$['message'][i1lli1(0x2ad,'^5Ig')](Ilil1l[i1lli1(0x1d0,'tEE8')]);return;}}else{console[i1lli1(0x23d,'E7jr')](i1lli1(0x2c7,'^5Ig')),$[i1lli1(0x301,'J2@m')]['fix'](Ilil1l['OedLG']);return;}break;}case 0x2:{break;}default:{if(Ilil1l[i1lli1(0x26d,'O$#b')]!==Ilil1l['CyCvE']){console['log']('未支持的任务门槛:\x20'+JSON['stringify'](lilII1));break;}else lilIl1[i1lli1(0x2f2,'uDS]')](i1l1ii[i1lli1(0x21d,'2C)v')],Ilil1l[i1lli1(0x2ec,'e4o(')]),i1l1[i1lli1(0x22d,'Ph18')](0x1);}}}}else{if(Ilil1l['SKhgr'](i1lli1(0x39a,'f%XM'),Ilil1l['Tqwrr'])){console['log'](i1lli1(0x2c0,'T#z7'));return;}else liliI[i1lli1(0x248,'ed1y')](''+ll1lI[i1lli1(0x3a7,'6JZN')]),l1iii[i1lli1(0x20c,'UY0w')]=!![];}if($[i1lli1(0x20f,'qrvD')]||$['outFlag']||$[i1lli1(0x264,'x&tn')])return;await sendRequest(i1lli1(0x250,'^5Ig')),await $['wait'](0x1f4);if($[i1lli1(0x37e,'7#Rb')])return;await Ilil1l[i1lli1(0x275,'908F')](sendRequest,i1lli1(0x2e5,'tEE8')),await $[i1lli1(0x285,'&fuZ')](0x1f4),await Ilil1l['fKWSf'](sendRequest,Ilil1l[i1lli1(0x331,'e4o(')]);}catch(IllIi1){console[i1lli1(0x213,'mM(9')](i1lli1(0x2d3,'88tE')+IllIi1);}}async function handleResponse(lilIII,Ii1ilI){const llIlII=iI1Il1,II11i1={'HnWvy':llIlII(0x1fd,'uDS]'),'MXfWF':llIlII(0x36a,'O$#b'),'ewxYD':llIlII(0x245,'BVPs'),'SfcGX':function(iliIil,iliIii){return iliIil===iliIii;},'KVvSq':llIlII(0x353,'O$#b'),'NoaGR':function(lill1i,il1li){return lill1i===il1li;},'TpkIy':function(iIIill,iilii){return iIIill===iilii;},'WUDye':llIlII(0x29c,'j)@$'),'WXnES':function(Ill11i,iilil){return Ill11i===iilil;},'jFakd':llIlII(0x256,'tqlh'),'ClewT':llIlII(0x388,'t4GI'),'XVOsU':llIlII(0x2f5,'Mfn6'),'ocxIr':llIlII(0x1ec,'O$#b'),'utmqn':function(Ill11l,il1ll){return Ill11l===il1ll;},'DBiCc':llIlII(0x333,'j)@$'),'iClmx':'getActivityBase','xINtE':function(i1ilIi,lill1l){return i1ilIi===lill1l;},'hYdZb':function(l1l1i1,i1iiI){return l1l1i1!==i1iiI;},'HCqGM':'aoMrd','xYakm':function(i1ilIl,llI11I){return i1ilIl===llI11I;},'aSItY':llIlII(0x352,'BVPs'),'hoUhT':'birthday','sjUFM':function(Il1i11,iii1li){return Il1i11===iii1li;},'UMkHm':'Qtqgy','BmciB':llIlII(0x1e4,'E7jr'),'naoiq':function(Iil1i1,IIii11){return Iil1i1===IIii11;},'RWoOP':function(iliIl1,Ii1il1){return iliIl1==Ii1il1;},'RlUfl':function(iii1ll,IIliI1){return iii1ll===IIliI1;},'TzKYe':llIlII(0x355,'xg3i'),'JNBOZ':'yyyy-MM-dd\x20HH:mm:ss','yQbRd':'专享价🗑️','frJvo':function(il1lI,IliIIl){return il1lI===IliIIl;},'WTGNi':llIlII(0x27d,'xg3i')};try{if(II11i1['SfcGX'](llIlII(0x1ba,'T#z7'),II11i1[llIlII(0x1b4,'8kY^')])){if(Ii1ilI[llIlII(0x393,'W8jR')]&&II11i1[llIlII(0x1e2,'ed1y')](typeof Ii1ilI[llIlII(0x33d,'Mfn6')],'string')){if(II11i1[llIlII(0x2e1,'ze4z')](II11i1[llIlII(0x363,'7#Rb')],II11i1[llIlII(0x25f,'ze4z')]))try{if(II11i1[llIlII(0x257,'j)@$')](II11i1[llIlII(0x2da,'5[AC')],II11i1[llIlII(0x237,'J2@m')])){const lI1l1l=IiiIi1['interactionV2']['decrypt'](l1ii1['data']);ii1ll[llIlII(0x1d5,'xg3i')]=lI1l1l;}else{const IIliII=wuxianDefense[llIlII(0x24b,'7#Rb')]['decrypt'](Ii1ilI['data']);Ii1ilI['data']=IIliII;}}catch{}else{IIliI[llIlII(0x1d1,'88tE')]('活动仅限店铺会员参与哦~'),ilI1ll['message']['fix'](II11i1[llIlII(0x32e,'7#Rb')]);return;}}switch(lilIII){case II11i1[llIlII(0x296,'SoFl')]:if(II11i1['NoaGR'](Ii1ilI['code'],0xc8)&&Ii1ilI[llIlII(0x361,'Q$Ya')]){const Ill11I=II11i1['ocxIr'][llIlII(0x1bf,'xg3i')]('|');let I1il1i=0x0;while(!![]){switch(Ill11I[I1il1i++]){case'0':$[llIlII(0x22b,'88tE')]=Ii1ilI[llIlII(0x24e,'x&tn')]['level'];continue;case'1':$[llIlII(0x2aa,'E7jr')]=Ii1ilI[llIlII(0x35c,'&fuZ')][llIlII(0x2a2,'f%XM')];continue;case'2':$[llIlII(0x2b6,'wQ#E')]=Ii1ilI['data'][llIlII(0x36c,'88tE')];continue;case'3':$['cid']=Ii1ilI[llIlII(0x1f7,'f%XM')][llIlII(0x1c0,'u4#B')];continue;case'4':$[llIlII(0x242,'&fuZ')]=Ii1ilI['data'][llIlII(0x281,'KMUi')];continue;case'5':$[llIlII(0x327,'ed1y')]=Ii1ilI['data'][llIlII(0x1cb,'W8jR')];continue;case'6':$[llIlII(0x1c3,'Mfn6')]=Ii1ilI[llIlII(0x2df,'tEE8')]['encryptPin'];continue;}break;}}else{if(Ii1ilI['message'])console['log'](''+Ii1ilI[llIlII(0x29f,'qrvD')]),$['skipRun']=!![];else{if(II11i1['utmqn'](II11i1['DBiCc'],llIlII(0x2ff,'wQ#E'))){i1ili1[llIlII(0x2fe,'b0vl')](II11i1['MXfWF']);return;}else console[llIlII(0x3a6,'UY0w')]('❓'+lilIII+'\x20'+JSON['stringify'](Ii1ilI));}}break;case II11i1[llIlII(0x36b,'OB9]')]:if(II11i1[llIlII(0x273,'Mfn6')](Ii1ilI['code'],0xc8)&&Ii1ilI['data'])II11i1[llIlII(0x297,'W8jR')](II11i1[llIlII(0x2bb,'j)@$')],llIlII(0x22f,'O$#b'))?i11I1i['log']('❓'+IillIl+'\x20'+llliil[llIlII(0x2d1,'KMUi')](liIl1)):$[llIlII(0x1ee,'J2@m')]=Ii1ilI[llIlII(0x2df,'tEE8')];else{if(Ii1ilI[llIlII(0x276,'OB9]')])console[llIlII(0x2e4,'T#z7')](''+Ii1ilI[llIlII(0x278,'88tE')]),$['skipRun']=!![];else{if(II11i1[llIlII(0x214,'908F')](II11i1['aSItY'],II11i1[llIlII(0x2e0,'Bers')]))console[llIlII(0x339,'J2@m')]('❓'+lilIII+'\x20'+JSON[llIlII(0x255,'f%XM')](Ii1ilI));else{IiilI1[llIlII(0x248,'ed1y')](II11i1[llIlII(0x32f,'uDS]')]);return;}}}break;case II11i1['hoUhT']:if(II11i1[llIlII(0x31c,'908F')](Ii1ilI[llIlII(0x2e9,'Bers')],0xc8)){}else Ii1ilI[llIlII(0x356,'Mfn6')]?(console['log'](''+Ii1ilI[llIlII(0x251,'B]Re')]),$[llIlII(0x325,'J2@m')]=!![]):console[llIlII(0x28a,'Q$Ya')]('❓'+lilIII+'\x20'+JSON['stringify'](Ii1ilI));break;case'receivePrize':if(Ii1ilI[llIlII(0x392,'j)@$')]===0xc8){}else Ii1ilI['message']?II11i1[llIlII(0x39c,'YbaI')]!==llIlII(0x27b,'tEE8')?console[llIlII(0x248,'ed1y')](Ii1ilI['message']+'\x0a'):(IiilI[llIlII(0x357,'5[AC')](llIlII(0x30e,'2C)v')),ii1I11['message'][llIlII(0x266,'908F')](llIlII(0x220,'tqlh'))):console[llIlII(0x2a1,'B]Re')]('❓'+lilIII+'\x20'+JSON[llIlII(0x222,'uDS]')](Ii1ilI));break;case II11i1[llIlII(0x30b,'kPRC')]:if(II11i1['naoiq'](Ii1ilI[llIlII(0x1d8,'OB9]')],0xc8)){if(II11i1['RWoOP'](Ii1ilI['data'][llIlII(0x298,'6JZN')],0x0))II11i1[llIlII(0x1c2,'88tE')](II11i1[llIlII(0x300,'e4o(')],llIlII(0x2ed,'QQk!'))?(Iiiil['log'](''+Iiiii[llIlII(0x1f8,'e4o(')]),l11i1I[llIlII(0x312,'Mfn6')]=!![]):(console['log'](llIlII(0x1f9,'OB9]')),$[llIlII(0x238,'7#Rb')][llIlII(0x2dd,'BVPs')](llIlII(0x2fb,'YbaI')));else for(let i1iii of Ii1ilI['data']){if(II11i1[llIlII(0x36e,'wQ#E')]('hwaXG','hwaXG'))IiIi[llIlII(0x2e4,'T#z7')](llIlII(0x23f,'mM(9')+iI1ll1+llIlII(0x330,'b0vl')+(IlI1Il[llIlII(0x22a,'j)@$')]||l1il1l));else{$[llIlII(0x34d,'SoFl')]=$[llIlII(0x265,'kPRC')](II11i1[llIlII(0x1fe,'YbaI')],i1iii[llIlII(0x2ab,'OB9]')]);switch(i1iii[llIlII(0x394,']zg4')]){case'0':case'4':case'11':console['log'](llIlII(0x247,'88tE')+i1iii[llIlII(0x217,'6JZN')]+'('+$['createTime']+')'),$[llIlII(0x251,'B]Re')][llIlII(0x1c9,'^5Ig')](i1iii[llIlII(0x3a0,'xg3i')]+'('+$[llIlII(0x28e,'B5ao')]+')');break;case'1':console[llIlII(0x2a1,'B]Re')](llIlII(0x38b,'Fh0(')),$['message']['insert']('优惠券🗑️');break;case'2':console[llIlII(0x30a,'tqlh')](llIlII(0x37d,'b0vl')+i1iii[llIlII(0x2bc,'KMUi')]+'('+$[llIlII(0x28e,'B5ao')]+')'),$[llIlII(0x251,'B]Re')][llIlII(0x2b4,'f%XM')](i1iii[llIlII(0x1f2,'B5ao')]+'('+$[llIlII(0x269,'Ph18')]+')');break;case'3':const IIii1I=i1iii['prizeName'];console['log']('🎉\x20恭喜获得实物~'),console['log'](llIlII(0x2e8,'^5Ig')+IIii1I+'('+$[llIlII(0x29e,'1LvR')]+')');break;case'5':console[llIlII(0x2c4,'&fuZ')]('🗑️\x20专享价'),$[llIlII(0x1e6,'4ZxG')][llIlII(0x207,'uDS]')](II11i1[llIlII(0x2bf,'YbaI')]);break;case'6':console[llIlII(0x29a,'wQ#E')](llIlII(0x299,'4ZxG')+i1iii[llIlII(0x31d,'E7jr')]+'('+$[llIlII(0x27c,'ed1y')]+')\x20🧧'),$[llIlII(0x1e3,'uDS]')][llIlII(0x21a,'4ZxG')](i1iii[llIlII(0x324,'T#z7')]+'('+$[llIlII(0x252,'2C)v')]+llIlII(0x20d,'UY0w'));break;case'7':case'8':case'9':case'10':case'12':console[llIlII(0x2fe,'b0vl')](llIlII(0x2b7,'7#Rb')+i1iii[llIlII(0x386,'5[AC')]+'('+$[llIlII(0x2ab,'OB9]')]+')\x20🎁'),$[llIlII(0x3a7,'6JZN')]['insert'](i1iii['prizeName']+'('+$[llIlII(0x28e,'B5ao')]+llIlII(0x253,'KMUi'));!isNotify&&await notify[llIlII(0x359,'tqlh')]($[llIlII(0x267,'UY0w')]+'中奖通知','【京东账号'+$[llIlII(0x23b,'xg3i')]+'】'+$[llIlII(0x1be,'1LvR')]+llIlII(0x1d2,'B5ao')+i1iii[llIlII(0x1ce,'YbaI')]+'('+$[llIlII(0x27c,'ed1y')]+llIlII(0x1f5,'1LvR')+$['activityUrl']);break;default:$[llIlII(0x2be,'O$#b')]=![];break;}}}}else Ii1ilI['message']?(console[llIlII(0x360,'2C)v')](''+Ii1ilI[llIlII(0x326,'908F')]),$[llIlII(0x37b,'88tE')]=!![]):console['log']('❓'+lilIII+'\x20'+JSON[llIlII(0x382,'tEE8')](Ii1ilI));break;default:break;}}else lliiiI[llIlII(0x221,'ze4z')]=lilil[llIlII(0x399,'kRp!')][llIlII(0x221,'ze4z')],ll1ll[llIlII(0x21e,'OB9]')]=Illl11['data'][llIlII(0x1c0,'u4#B')],ii1lI['encryptPin']=I1ilIl['data']['encryptPin'],I11iII[llIlII(0x284,'UY0w')]=I1ilIi[llIlII(0x398,'QQk!')][llIlII(0x254,'SoFl')],IiiiI[llIlII(0x226,'@nBC')]=llIlli[llIlII(0x33f,'kPRC')][llIlII(0x32c,'uDS]')],llIlll[llIlII(0x2d5,'6JZN')]=lliii1['data'][llIlII(0x1bd,'QQk!')],Iiii1[llIlII(0x281,'KMUi')]=lIIili[llIlII(0x21c,'1LvR')][llIlII(0x2fa,'SoFl')];}catch(i1iIi1){II11i1[llIlII(0x334,'kRp!')]('Tdyhi',II11i1['WTGNi'])?console['log'](llIlII(0x315,'7#Rb')+lilIII+llIlII(0x376,'kRp!')+(i1iIi1[llIlII(0x22a,'j)@$')]||i1iIi1)):l1il11[llIlII(0x2fe,'b0vl')]('❓'+IiI1+'\x20'+liI['stringify'](illIli));}}async function sendRequest(I11i1I){const IIlII=iI1Il1,iliIi1={'cHoHl':IIlII(0x2f7,'Fh0('),'HYtjk':'POST','cWThf':IIlII(0x2d7,'ed1y'),'aeyVA':'/api/user/login','mulMp':IIlII(0x1da,'E7jr'),'nbJjU':IIlII(0x372,'6JZN'),'ByHlq':'/api/common/getNotice','AlNLo':IIlII(0x22c,'j)@$'),'aDafE':IIlII(0x34b,'QQk!'),'SwmKy':IIlII(0x2cd,'4ZxG'),'ZfWwS':'application/json,\x20text/plain,\x20*/*','GMnvn':IIlII(0x37f,'B5ao'),'VjGpB':IIlII(0x1f3,'UY0w'),'hKKlS':IIlII(0x277,'ze4z'),'eDyYh':IIlII(0x2f1,'^5Ig'),'PLbAp':'Activity-Type','sHakE':'Activity-Id','rNztD':'Pin-Token','AgFYI':function(II11il,iIIil1){return II11il===iIIil1;},'GgrIs':'GET','grCBz':IIlII(0x26c,'Q$Ya'),'ozFde':'Content-Type','bxglQ':function(IlllII,I1il1I){return IlllII<I1il1I;},'OTtip':function(II111,lI1l1I){return II111>lI1l1I;},'GcIJo':function(lill11,liI1i1){return lill11===liI1i1;},'hoYEP':IIlII(0x2a3,'xg3i'),'jziyD':function(I11i11,I1llII,Iil1il){return I11i11(I1llII,Iil1il);},'CnsNs':function(I11i1i,l1l1iI){return I11i1i===l1l1iI;},'vPUDp':IIlII(0x332,'kPRC'),'fbnZz':IIlII(0x23e,'kPRC')};if($['runEnd']||$[IIlII(0x2f4,'^5Ig')])return;let l1l1ii=$['newbaseUrl'],Il1i1I=null,Ii1iii=null,iIIilI=null,il1l1=iliIi1[IIlII(0x304,'YbaI')];switch(I11i1I){case iliIi1[IIlII(0x31b,'mM(9')]:l1l1ii+=iliIi1['aeyVA'],Il1i1I={'token':$['jdToken'],'source':'01','activityType':$[IIlII(0x25e,'tEE8')],'templateCode':$[IIlII(0x36d,'4ZxG')],'activityId':$[IIlII(0x2ca,'4ZxG')],'shopId':$[IIlII(0x1b6,'B]Re')],'uuid':'','timestamp':Date['now']()};break;case'getActivityBase':l1l1ii+=iliIi1[IIlII(0x25b,'B]Re')],Il1i1I=undefined;break;case iliIi1[IIlII(0x38d,'u4#B')]:l1l1ii+=iliIi1['ByHlq'],Il1i1I=undefined;break;case iliIi1[IIlII(0x211,'O$#b')]:l1l1ii+='/api/'+$[IIlII(0x2ac,'&fuZ')]+IIlII(0x39f,'u4#B'),Il1i1I=undefined;break;case iliIi1[IIlII(0x25d,'Ph18')]:l1l1ii+=IIlII(0x322,'T#z7')+$[IIlII(0x351,'x&tn')]+IIlII(0x35b,'kRp!'),Il1i1I={'birthday':$[IIlII(0x34a,'f%XM')](IIlII(0x219,'KMUi'),Date[IIlII(0x31e,'Q$Ya')]())};break;case'receivePrize':l1l1ii+=IIlII(0x371,'tEE8')+$[IIlII(0x341,'88tE')]+IIlII(0x3a4,'mM(9'),Il1i1I=undefined;break;case iliIi1['SwmKy']:l1l1ii+=IIlII(0x35a,'E7jr')+$['activityType']+IIlII(0x24d,'UY0w'),Il1i1I=undefined;break;default:console['log'](IIlII(0x38a,'7#Rb')+I11i1I);return;}Ii1iii=wuxianDefense['interactionV2'][IIlII(0x1e7,'Mfn6')](Il1i1I);const Ii1iil={'url':l1l1ii,'method':il1l1,'headers':{'Accept':iliIi1[IIlII(0x39e,'uDS]')],'Accept-Encoding':'gzip,\x20deflate,\x20br','Accept-Language':iliIi1['GMnvn'],'Connection':iliIi1[IIlII(0x2b8,'E7jr')],'Content-Type':iliIi1[IIlII(0x2ae,'OB9]')],'Cookie':'','Host':$[IIlII(0x2a7,'ze4z')],'Origin':$[IIlII(0x33e,'5[AC')],'Referer':$[IIlII(0x397,'f%XM')],'Sec-Fetch-Dest':'empty','Sec-Fetch-Mode':IIlII(0x2c5,'SoFl'),'Sec-Fetch-Site':'same-origin','User-Agent':$['UA']},'params':iIIilI,'data':Ii1iii,'timeout':0x7530};if($[IIlII(0x280,'908F')]){const I1llI1='3|1|4|2|0'[IIlII(0x336,'mM(9')]('|');let I11i1l=0x0;while(!![]){switch(I1llI1[I11i1l++]){case'0':Ii1iil[IIlII(0x2d6,'ed1y')][iliIi1[IIlII(0x201,'uDS]')]]=$[IIlII(0x2ee,'E7jr')];continue;case'1':Ii1iil['headers'][iliIi1[IIlII(0x390,'1LvR')]]=$['activityType'];continue;case'2':Ii1iil[IIlII(0x2d6,'ed1y')][IIlII(0x379,'kPRC')]=$[IIlII(0x20b,'ed1y')];continue;case'3':Ii1iil[IIlII(0x2e3,']zg4')][iliIi1['sHakE']]=$[IIlII(0x2d0,'5[AC')];continue;case'4':Ii1iil[IIlII(0x2a8,'7#Rb')][iliIi1[IIlII(0x365,'b0vl')]]=$[IIlII(0x28c,'T#z7')];continue;}break;}}if(iliIi1['AgFYI'](il1l1,iliIi1['GgrIs'])){if(iliIi1[IIlII(0x1f4,'Bers')](iliIi1[IIlII(0x243,'8kY^')],'aLYbb')){llIliI[IIlII(0x26f,'KMUi')](iliIi1[IIlII(0x2c1,'ed1y')]),I1l1I1[IIlII(0x278,'88tE')]['fix'](IIlII(0x29b,'f%XM'));return;}else delete Ii1iil['data'],delete Ii1iil['headers'][iliIi1[IIlII(0x2a9,'Bers')]];}const Ilil1i=0x3;let iili1=0x0,II11ii=null,Iil1iI=![];while(iliIi1[IIlII(0x223,'uDS]')](iili1,Ilil1i)){iliIi1[IIlII(0x228,']zg4')](iili1,0x0)&&await $[IIlII(0x2f6,'mM(9')](0x3e8);const Il1i1i=await common[IIlII(0x272,'Bers')](Ii1iil);if(!Il1i1i[IIlII(0x204,'tqlh')]){II11ii=I11i1I+IIlII(0x23c,'5[AC')+Il1i1i['error'],iili1++;continue;}if(!Il1i1i[IIlII(0x302,'BVPs')]){if(iliIi1[IIlII(0x37a,'ze4z')](iliIi1[IIlII(0x35d,'xg3i')],iliIi1[IIlII(0x2a4,'B5ao')])){II11ii=I11i1I+IIlII(0x370,'O$#b'),iili1++;continue;}else{Illl1i[IIlII(0x2fe,'b0vl')](IIlII(0x215,'7#Rb')+lIIiil+IIlII(0x308,'B]Re')),l1lIii[IIlII(0x301,'J2@m')][IIlII(0x249,'j)@$')](IIlII(0x3a3,'6JZN')+I11iI1),l1lIil[IIlII(0x2e2,'88tE')]=!![];return;}}await iliIi1['jziyD'](handleResponse,I11i1I,Il1i1i['data']),Iil1iI=![];break;}iili1>=Ilil1i&&(iliIi1[IIlII(0x1e1,'908F')](iliIi1['vPUDp'],iliIi1['fbnZz'])?lIII1l[IIlII(0x3a6,'UY0w')]('❓'+l1iIIi+'\x20'+lilIi[IIlII(0x28f,'@nBC')](l1l11I)):(console[IIlII(0x1b7,'8kY^')](II11ii),Iil1iI&&($[IIlII(0x1b9,'b0vl')]=!![],$['message']&&$[IIlII(0x2dc,'xg3i')]['fix'](II11ii))));}var version_ = 'jsjiami.com.v7';
// prettier-ignore
function Env(t,e){"undefined"!=typeof process&&JSON.stringify(process.env).indexOf("GITHUB")>-1&&process.exit(0);class s{constructor(t){this.env=t}send(t,e="GET"){t="string"==typeof t?{url:t}:t;let s=this.get;return"POST"===e&&(s=this.post),new Promise((e,i)=>{s.call(this,t,(t,s,r)=>{t?i(t):e(s)})})}get(t){return this.send.call(this.env,t)}post(t){return this.send.call(this.env,t,"POST")}}return new class{constructor(t,e){this.name=t,this.http=new s(this),this.data=null,this.dataFile="box.dat",this.logs=[],this.isMute=!1,this.isNeedRewrite=!1,this.logSeparator="\n",this.startTime=(new Date).getTime(),Object.assign(this,e),this.log("",`🔔${this.name}, 开始!`)}isNode(){return"undefined"!=typeof module&&!!module.exports}isQuanX(){return"undefined"!=typeof $task}isSurge(){return"undefined"!=typeof $httpClient&&"undefined"==typeof $loon}isLoon(){return"undefined"!=typeof $loon}toObj(t,e=null){try{return JSON.parse(t)}catch{return e}}toStr(t,e=null){try{return JSON.stringify(t)}catch{return e}}getjson(t,e){let s=e;const i=this.getdata(t);if(i)try{s=JSON.parse(this.getdata(t))}catch{}return s}setjson(t,e){try{return this.setdata(JSON.stringify(t),e)}catch{return!1}}getScript(t){return new Promise(e=>{this.get({url:t},(t,s,i)=>e(i))})}runScript(t,e){return new Promise(s=>{let i=this.getdata("@chavy_boxjs_userCfgs.httpapi");i=i?i.replace(/\n/g,"").trim():i;let r=this.getdata("@chavy_boxjs_userCfgs.httpapi_timeout");r=r?1*r:20,r=e&&e.timeout?e.timeout:r;const[o,h]=i.split("@"),n={url:`http://${h}/v1/scripting/evaluate`,body:{script_text:t,mock_type:"cron",timeout:r},headers:{"X-Key":o,Accept:"*/*"}};this.post(n,(t,e,i)=>s(i))}).catch(t=>this.logErr(t))}loaddata(){if(!this.isNode())return{};{this.fs=this.fs?this.fs:require("fs"),this.path=this.path?this.path:require("path");const t=this.path.resolve(this.dataFile),e=this.path.resolve(process.cwd(),this.dataFile),s=this.fs.existsSync(t),i=!s&&this.fs.existsSync(e);if(!s&&!i)return{};{const i=s?t:e;try{return JSON.parse(this.fs.readFileSync(i))}catch(t){return{}}}}}writedata(){if(this.isNode()){this.fs=this.fs?this.fs:require("fs"),this.path=this.path?this.path:require("path");const t=this.path.resolve(this.dataFile),e=this.path.resolve(process.cwd(),this.dataFile),s=this.fs.existsSync(t),i=!s&&this.fs.existsSync(e),r=JSON.stringify(this.data);s?this.fs.writeFileSync(t,r):i?this.fs.writeFileSync(e,r):this.fs.writeFileSync(t,r)}}lodash_get(t,e,s){const i=e.replace(/\[(\d+)\]/g,".$1").split(".");let r=t;for(const t of i)if(r=Object(r)[t],void 0===r)return s;return r}lodash_set(t,e,s){return Object(t)!==t?t:(Array.isArray(e)||(e=e.toString().match(/[^.[\]]+/g)||[]),e.slice(0,-1).reduce((t,s,i)=>Object(t[s])===t[s]?t[s]:t[s]=Math.abs(e[i+1])>>0==+e[i+1]?[]:{},t)[e[e.length-1]]=s,t)}getdata(t){let e=this.getval(t);if(/^@/.test(t)){const[,s,i]=/^@(.*?)\.(.*?)$/.exec(t),r=s?this.getval(s):"";if(r)try{const t=JSON.parse(r);e=t?this.lodash_get(t,i,""):e}catch(t){e=""}}return e}setdata(t,e){let s=!1;if(/^@/.test(e)){const[,i,r]=/^@(.*?)\.(.*?)$/.exec(e),o=this.getval(i),h=i?"null"===o?null:o||"{}":"{}";try{const e=JSON.parse(h);this.lodash_set(e,r,t),s=this.setval(JSON.stringify(e),i)}catch(e){const o={};this.lodash_set(o,r,t),s=this.setval(JSON.stringify(o),i)}}else s=this.setval(t,e);return s}getval(t){return this.isSurge()||this.isLoon()?$persistentStore.read(t):this.isQuanX()?$prefs.valueForKey(t):this.isNode()?(this.data=this.loaddata(),this.data[t]):this.data&&this.data[t]||null}setval(t,e){return this.isSurge()||this.isLoon()?$persistentStore.write(t,e):this.isQuanX()?$prefs.setValueForKey(t,e):this.isNode()?(this.data=this.loaddata(),this.data[e]=t,this.writedata(),!0):this.data&&this.data[e]||null}initGotEnv(t){this.got=this.got?this.got:require("got"),this.cktough=this.cktough?this.cktough:require("tough-cookie"),this.ckjar=this.ckjar?this.ckjar:new this.cktough.CookieJar,t&&(t.headers=t.headers?t.headers:{},void 0===t.headers.Cookie&&void 0===t.cookieJar&&(t.cookieJar=this.ckjar))}get(t,e=(()=>{})){t.headers&&(delete t.headers["Content-Type"],delete t.headers["Content-Length"]),this.isSurge()||this.isLoon()?(this.isSurge()&&this.isNeedRewrite&&(t.headers=t.headers||{},Object.assign(t.headers,{"X-Surge-Skip-Scripting":!1})),$httpClient.get(t,(t,s,i)=>{!t&&s&&(s.body=i,s.statusCode=s.status),e(t,s,i)})):this.isQuanX()?(this.isNeedRewrite&&(t.opts=t.opts||{},Object.assign(t.opts,{hints:!1})),$task.fetch(t).then(t=>{const{statusCode:s,statusCode:i,headers:r,body:o}=t;e(null,{status:s,statusCode:i,headers:r,body:o},o)},t=>e(t))):this.isNode()&&(this.initGotEnv(t),this.got(t).on("redirect",(t,e)=>{try{if(t.headers["set-cookie"]){const s=t.headers["set-cookie"].map(this.cktough.Cookie.parse).toString();s&&this.ckjar.setCookieSync(s,null),e.cookieJar=this.ckjar}}catch(t){this.logErr(t)}}).then(t=>{const{statusCode:s,statusCode:i,headers:r,body:o}=t;e(null,{status:s,statusCode:i,headers:r,body:o},o)},t=>{const{message:s,response:i}=t;e(s,i,i&&i.body)}))}post(t,e=(()=>{})){if(t.body&&t.headers&&!t.headers["Content-Type"]&&(t.headers["Content-Type"]="application/x-www-form-urlencoded"),t.headers&&delete t.headers["Content-Length"],this.isSurge()||this.isLoon())this.isSurge()&&this.isNeedRewrite&&(t.headers=t.headers||{},Object.assign(t.headers,{"X-Surge-Skip-Scripting":!1})),$httpClient.post(t,(t,s,i)=>{!t&&s&&(s.body=i,s.statusCode=s.status),e(t,s,i)});else if(this.isQuanX())t.method="POST",this.isNeedRewrite&&(t.opts=t.opts||{},Object.assign(t.opts,{hints:!1})),$task.fetch(t).then(t=>{const{statusCode:s,statusCode:i,headers:r,body:o}=t;e(null,{status:s,statusCode:i,headers:r,body:o},o)},t=>e(t));else if(this.isNode()){this.initGotEnv(t);const{url:s,...i}=t;this.got.post(s,i).then(t=>{const{statusCode:s,statusCode:i,headers:r,body:o}=t;e(null,{status:s,statusCode:i,headers:r,body:o},o)},t=>{const{message:s,response:i}=t;e(s,i,i&&i.body)})}}time(t,e=null){const s=e?new Date(e):new Date;let i={"M+":s.getMonth()+1,"d+":s.getDate(),"H+":s.getHours(),"m+":s.getMinutes(),"s+":s.getSeconds(),"q+":Math.floor((s.getMonth()+3)/3),S:s.getMilliseconds()};/(y+)/.test(t)&&(t=t.replace(RegExp.$1,(s.getFullYear()+"").substr(4-RegExp.$1.length)));for(let e in i)new RegExp("("+e+")").test(t)&&(t=t.replace(RegExp.$1,1==RegExp.$1.length?i[e]:("00"+i[e]).substr((""+i[e]).length)));return t}msg(e=t,s="",i="",r){const o=t=>{if(!t)return t;if("string"==typeof t)return this.isLoon()?t:this.isQuanX()?{"open-url":t}:this.isSurge()?{url:t}:void 0;if("object"==typeof t){if(this.isLoon()){let e=t.openUrl||t.url||t["open-url"],s=t.mediaUrl||t["media-url"];return{openUrl:e,mediaUrl:s}}if(this.isQuanX()){let e=t["open-url"]||t.url||t.openUrl,s=t["media-url"]||t.mediaUrl;return{"open-url":e,"media-url":s}}if(this.isSurge()){let e=t.url||t.openUrl||t["open-url"];return{url:e}}}};if(this.isMute||(this.isSurge()||this.isLoon()?$notification.post(e,s,i,o(r)):this.isQuanX()&&$notify(e,s,i,o(r))),!this.isMuteLog){let t=["","==============📣系统通知📣=============="];t.push(e),s&&t.push(s),i&&t.push(i),console.log(t.join("\n")),this.logs=this.logs.concat(t)}}log(...t){t.length>0&&(this.logs=[...this.logs,...t]),console.log(t.join(this.logSeparator))}logErr(t,e){const s=!this.isSurge()&&!this.isQuanX()&&!this.isLoon();s?this.log("",`❗️${this.name}, 错误!`,t.stack):this.log("",`❗️${this.name}, 错误!`,t)}wait(t){return new Promise(e=>setTimeout(e,t))}done(t={}){const e=(new Date).getTime(),s=(e-this.startTime)/1e3;this.log("",`🔔${this.name}, 结束! 🕛 ${s} 秒`),this.log(),(this.isSurge()||this.isQuanX()||this.isLoon())&&$done(t)}}(t,e)}
