/*
3.26-4.5 生活有爱 精致美家

环境变量：
export jd_opencard_draw="3" //抽奖次数 3
export jd_opencard_notify="true" // 是否推送

cron:1 1 1 1 *

*/

const $ = new Env('3.26-4.5 生活有爱 精致美家')
var iｉl='jsjiami.com.v7';const IllIlI=iii1II;if(function(liI1iI,iI1Il1,i1iIl1,i1lli1,llIlII,IIlII,lIIiII){return liI1iI=liI1iI>>0x5,IIlII='hs',lIIiII='hs',function(i1iIlI,li111,liI1lI,lIIiI1,ll1I1){const liI1l1=iii1II;lIIiI1='tfi',IIlII=lIIiI1+IIlII,ll1I1='up',lIIiII+=ll1I1,IIlII=liI1lI(IIlII),lIIiII=liI1lI(lIIiII),liI1lI=0x0;const Ii1ili=i1iIlI();while(!![]&&--i1lli1+li111){try{lIIiI1=parseInt(liI1l1(0x1d3,'PNp&'))/0x1*(parseInt(liI1l1(0x2af,'M@KQ'))/0x2)+parseInt(liI1l1(0x136,'IRah'))/0x3+-parseInt(liI1l1(0x304,'[x!E'))/0x4+-parseInt(liI1l1(0x1dc,'0tOy'))/0x5*(parseInt(liI1l1(0x1a4,'IRah'))/0x6)+parseInt(liI1l1(0x159,'[x!E'))/0x7*(parseInt(liI1l1(0x1e3,'y9*s'))/0x8)+parseInt(liI1l1(0x1e5,'N$vX'))/0x9+-parseInt(liI1l1(0x28f,'FC&D'))/0xa*(parseInt(liI1l1(0x2b9,'[sWS'))/0xb);}catch(iI1Ii1){lIIiI1=liI1lI;}finally{ll1I1=Ii1ili[IIlII]();if(liI1iI<=i1lli1)liI1lI?llIlII?lIIiI1=ll1I1:llIlII=ll1I1:liI1lI=ll1I1;else{if(liI1lI==llIlII['replace'](/[bGPpJEIuxdBeAQgfVDn=]/g,'')){if(lIIiI1===li111){Ii1ili['un'+IIlII](ll1I1);break;}Ii1ili[lIIiII](ll1I1);}}}}}(i1iIl1,iI1Il1,function(Ii1ill,llIlI1,iI1IiI,IIlI1,i1iIli,i1iIll,i1lliI){return llIlI1='\x73\x70\x6c\x69\x74',Ii1ill=arguments[0x0],Ii1ill=Ii1ill[llIlI1](''),iI1IiI='\x72\x65\x76\x65\x72\x73\x65',Ii1ill=Ii1ill[iI1IiI]('\x76'),IIlI1='\x6a\x6f\x69\x6e',(0x160476,Ii1ill[IIlI1](''));});}(0x17c0,0xa2cb7,Iii11l,0xc0),Iii11l){}const notify=require(IllIlI(0x1a6,'8y7O')),jdCookie=require(IllIlI(0x163,'zP$q')),getToken=require(IllIlI(0x1fd,'PNp&')),common=require(IllIlI(0x138,'TwX*'));console[IllIlI(0x128,'zP$q')](''),console[IllIlI(0x258,'M@KQ')](IllIlI(0x1ce,'ie[n')+$[IllIlI(0x108,'N$vX')]+IllIlI(0x19a,'OE)N')),console['log'](IllIlI(0x2ba,'[sWS')),console[IllIlI(0x2a5,'e%KN')]('jd_opencard_notify\x20//\x20是否推送通知，默认不推送'),console[IllIlI(0x1e6,'desN')]('=========='+$['name']+IllIlI(0x161,'mknG')),console[IllIlI(0x2cf,'FrZL')]('');const isNotify=process[IllIlI(0x2f0,'e%KN')][IllIlI(0x252,'Xj)v')]===IllIlI(0x2bb,'%QYv'),opencard_draw=process['env']['jd_opencard_draw']||0x3;let domains=IllIlI(0x2bf,'e%KN'),cookie='';const cookiesArr=Object[IllIlI(0x114,'gybQ')](jdCookie)['map'](ii1ilI=>jdCookie[ii1ilI])[IllIlI(0x2b6,'w#6F')](lI1ll1=>lI1ll1);!cookiesArr[0x0]&&($[IllIlI(0x2c8,'gybQ')]($[IllIlI(0x1ac,'gybQ')],IllIlI(0x305,'z(]y')),process[IllIlI(0x2aa,'[x!E')](0x1));function iii1II(_0x3cc1fb,_0x25946f){const _0x7738dc=Iii11l();return iii1II=function(_0x1a05f4,_0x21bd1f){_0x1a05f4=_0x1a05f4-0x105;let _0x1e15c8=_0x7738dc[_0x1a05f4];if(iii1II['zgUqSS']===undefined){var _0x598174=function(_0x31ae6e){const _0x41a34a='abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=';let _0x2a07de='',_0x1a096b='';for(let _0x4b2a7a=0x0,_0x1561eb,_0x30a467,_0x2a498e=0x0;_0x30a467=_0x31ae6e['charAt'](_0x2a498e++);~_0x30a467&&(_0x1561eb=_0x4b2a7a%0x4?_0x1561eb*0x40+_0x30a467:_0x30a467,_0x4b2a7a++%0x4)?_0x2a07de+=String['fromCharCode'](0xff&_0x1561eb>>(-0x2*_0x4b2a7a&0x6)):0x0){_0x30a467=_0x41a34a['indexOf'](_0x30a467);}for(let _0x13cf2a=0x0,_0x31c062=_0x2a07de['length'];_0x13cf2a<_0x31c062;_0x13cf2a++){_0x1a096b+='%'+('00'+_0x2a07de['charCodeAt'](_0x13cf2a)['toString'](0x10))['slice'](-0x2);}return decodeURIComponent(_0x1a096b);};const _0xe9a306=function(_0x4aa026,_0x295582){let _0x2824de=[],_0x36fd83=0x0,_0x48e077,_0x5a193f='';_0x4aa026=_0x598174(_0x4aa026);let _0x4e04bc;for(_0x4e04bc=0x0;_0x4e04bc<0x100;_0x4e04bc++){_0x2824de[_0x4e04bc]=_0x4e04bc;}for(_0x4e04bc=0x0;_0x4e04bc<0x100;_0x4e04bc++){_0x36fd83=(_0x36fd83+_0x2824de[_0x4e04bc]+_0x295582['charCodeAt'](_0x4e04bc%_0x295582['length']))%0x100,_0x48e077=_0x2824de[_0x4e04bc],_0x2824de[_0x4e04bc]=_0x2824de[_0x36fd83],_0x2824de[_0x36fd83]=_0x48e077;}_0x4e04bc=0x0,_0x36fd83=0x0;for(let _0xf0ed7e=0x0;_0xf0ed7e<_0x4aa026['length'];_0xf0ed7e++){_0x4e04bc=(_0x4e04bc+0x1)%0x100,_0x36fd83=(_0x36fd83+_0x2824de[_0x4e04bc])%0x100,_0x48e077=_0x2824de[_0x4e04bc],_0x2824de[_0x4e04bc]=_0x2824de[_0x36fd83],_0x2824de[_0x36fd83]=_0x48e077,_0x5a193f+=String['fromCharCode'](_0x4aa026['charCodeAt'](_0xf0ed7e)^_0x2824de[(_0x2824de[_0x4e04bc]+_0x2824de[_0x36fd83])%0x100]);}return _0x5a193f;};iii1II['ZpAwTI']=_0xe9a306,_0x3cc1fb=arguments,iii1II['zgUqSS']=!![];}const _0x292533=_0x7738dc[0x0],_0x262ce2=_0x1a05f4+_0x292533,_0x2c6aef=_0x3cc1fb[_0x262ce2];return!_0x2c6aef?(iii1II['MNlWrH']===undefined&&(iii1II['MNlWrH']=!![]),_0x1e15c8=iii1II['ZpAwTI'](_0x1e15c8,_0x21bd1f),_0x3cc1fb[_0x262ce2]=_0x1e15c8):_0x1e15c8=_0x2c6aef,_0x1e15c8;},iii1II(_0x3cc1fb,_0x25946f);}!(async()=>{const IiillI=IllIlI,iIiI1={'YkrFC':function(liil1I,i11ii1){return liil1I(i11ii1);},'tyNld':IiillI(0x288,'Yf#m'),'eWyCe':function(IlIliI,l1iII1,iiill1){return IlIliI(l1iII1,iiill1);},'PtIFA':'ifiBS','WcJpJ':IiillI(0x30b,'[sWS'),'LqQAD':IiillI(0x154,'C6hh'),'MqPsc':'1000100710','TpQfq':function(lIli1i,IIIII1){return lIli1i===IIIII1;},'DwNyO':function(I1lIlI,ii1ill){return I1lIlI+ii1ill;},'TJAEq':function(II1iI,llI1II){return II1iI(llI1II);},'ijPWE':'pt_pin','bqmAD':function(lIli1l){return lIli1l();},'piehg':function(lillIi,illIi1){return lillIi*illIi1;},'vsPzm':function(ii1ili,liil1i){return ii1ili+liil1i;}};authorCodeList=await iIiI1[IiillI(0x1a3,'desN')](getAuthorCodeList,iIiI1[IiillI(0x224,'%WZ5')]),$[IiillI(0x238,'Fh]%')]=![];authorCodeList?(console[IiillI(0x128,'zP$q')](IiillI(0x174,'Yf#m')),$['myCodeRun']=!![],$[IiillI(0x21f,'2o!X')]=authorCodeList[iIiI1[IiillI(0x12d,'V&N5')](random,0x0,authorCodeList[IiillI(0x2bc,'JSK1')])]):iIiI1[IiillI(0x151,'8y7O')]!==iIiI1[IiillI(0x131,'onnC')]?console['log'](iIiI1['LqQAD']):(l1iIl[IiillI(0x13d,'^^ws')](illIll),iIli1I&&(lI11Il[IiillI(0x205,'w%Vz')]=!![],lIII1i['message']&&lIII1l[IiillI(0x2f3,'WtIY')][IiillI(0x2e0,'()37')](l1iIIi)));$[IiillI(0x229,'2o!X')]=iIiI1[IiillI(0x160,'GXOd')],$['activeId']=IiillI(0x312,'mknG'),$[IiillI(0x20a,'FC&D')]='https://szxyun-rc.isvjcloud.com/pagec/unionOpenZDH240222/index.html',$[IiillI(0x1d8,'RtCc')]=$['authorCode'],notify['config']({'title':$['name']});for(let i1l1iI=0x0;i1l1iI<cookiesArr['length'];i1l1iI++){if(iIiI1[IiillI(0x23c,'FrZL')](IiillI(0x2da,'V&N5'),'XYSYi'))i1ill1[IiillI(0x26e,'Yf#m')]=iIIl1l[IiillI(0x19e,'M@KQ')];else{$[IiillI(0x294,'GXOd')]=iIiI1[IiillI(0x175,'e%KN')](i1l1iI,0x1),cookie=cookiesArr[i1l1iI],common['setCookie'](cookie),$[IiillI(0x25d,'z(]y')]=iIiI1[IiillI(0x2d6,'RtCc')](decodeURIComponent,common[IiillI(0x23f,'&WrF')](cookie,iIiI1['ijPWE'])),$['UA']=common[IiillI(0x199,'OE)N')]($[IiillI(0x25d,'z(]y')]),$[IiillI(0x1d7,'qL9X')]=notify['create']($[IiillI(0x280,'desN')],$[IiillI(0x219,'M@KQ')]),$[IiillI(0x125,'2o!X')]='',console[IiillI(0x1d0,'Y[8X')]('\x0a******开始【京东账号'+$['index']+'】'+($[IiillI(0x1af,'M@KQ')]||$['UserName'])+'******\x0a'),await iIiI1[IiillI(0x184,'h9Bb')](Main),common[IiillI(0x1c4,'()37')]();if($[IiillI(0x237,'0tOy')])break;await $['wait'](parseInt(iIiI1[IiillI(0x175,'e%KN')](iIiI1[IiillI(0x2e2,'Yf#m')](Math[IiillI(0x2de,'GXOd')](),0x5dc),0x7d0),0xa));}}isNotify&&notify[IiillI(0x202,'0tOy')]()&&(notify['updateContent'](iIiI1[IiillI(0x26d,'0n66')](notify[IiillI(0x153,'N$vX')],'\x0a')),await notify['push']());})()[IllIlI(0x130,'2o!X')](lI1lii=>$[IllIlI(0x2d9,'FUQy')](lI1lii))[IllIlI(0x127,'w#6F')](()=>$[IllIlI(0x2e6,'Rokm')]());async function Main(){const ili11I=IllIlI,Iiili1={'gxabO':ili11I(0x305,'z(]y'),'VJKKb':ili11I(0x1bd,'N$vX'),'zBYVt':function(Iil1l1,i1i11I){return Iil1l1>i1i11I;},'cmYTB':ili11I(0x2fc,'N$vX'),'Mzppa':'TOKEN获取失败~','lltZq':'Content-Type','tMwWX':function(il1iIl,iii1ii,il1iIi){return il1iIl(iii1ii,il1iIi);},'RjZUs':function(iii1il,II11li,I1l11i){return iii1il(II11li,I1l11i);},'kqoQj':function(iIIiiI,liiI1i){return iIIiiI+liiI1i;},'BfObT':function(ililIi,lilIIl){return ililIi(lilIIl);},'NVcmB':'bOQlW','ZMjsw':ili11I(0x2dd,'0n66'),'NPMcQ':function(ililIl,liiI1l){return ililIl===liiI1l;},'fICFd':function(i1l1II,i1ill){return i1l1II!==i1ill;},'Stjek':'tLRmQ','QRwYC':function(I1l11l,lilIIi){return I1l11l<lilIIi;},'azcAQ':ili11I(0x183,'N$vX'),'fmsTY':'QOTMt','GUFtt':ili11I(0x15f,'8y7O'),'ssalt':function(i1l1Il,llIli,i1i11l){return i1l1Il(llIli,i1i11l);},'zmCnE':function(i1i11i,II11l1){return i1i11i*II11l1;},'TAqgC':'有店铺开卡失败,跳过执行~','eJmxy':function(Iil1lI,IiiliI){return Iil1lI+IiiliI;},'ftZOR':function(iii1iI,llIll){return iii1iI/llIll;},'WTUfd':function(il1iII,iilli){return il1iII===iilli;},'iaDso':ili11I(0x139,'FrZL'),'aZFTu':function(IlllIl,II11lI){return IlllIl(II11lI);},'xVIAG':ili11I(0x1f3,'GXOd'),'KxWfp':function(lI1IIi,I1l11I){return lI1IIi<=I1l11I;},'ducWL':function(Ilil1l,iIIiii){return Ilil1l(iIIiii);},'wzqaf':function(iilll,il1iI1,IlllIi){return iilll(il1iI1,IlllIi);},'zImyy':function(iIIiil,i1l1Ii){return iIIiil+i1l1Ii;},'bqocR':function(I1iIIi,I1iIIl){return I1iIIi*I1iIIl;},'FQOub':'share','pBdhx':ili11I(0x1f9,'8y7O'),'sUGDJ':'oDTFM','aDxoX':function(lI1IIl,i1ilI){return lI1IIl<i1ilI;},'eNNkA':'myshare','KFIWT':function(iii1lI,i1ilI1){return iii1lI+i1ilI1;},'TMcnQ':function(Iiilii,Iil1li){return Iiilii==Iil1li;},'yoiak':ili11I(0x1cd,'zP$q'),'VnfoA':ili11I(0x24c,'GXOd'),'klBCL':ili11I(0x2db,'GXOd'),'ZXJTN':'fpUWY','dxjAp':'yWEkQ'};try{$[ili11I(0x18c,'JSK1')]=0x0,$['is_break']=![],$[ili11I(0x1cf,'GVR]')]='',$[ili11I(0x1b8,'TwX*')]='',$[ili11I(0x172,'C6hh')]=await Iiili1[ili11I(0x12a,'M@KQ')](getToken,cookie,domains);if($[ili11I(0x212,'0tOy')]==''){console[ili11I(0x2ac,'Yf#m')](Iiili1[ili11I(0x239,'WtIY')]),$[ili11I(0x319,'&WrF')]['fix'](Iiili1[ili11I(0x140,'mknG')]);return;}await $[ili11I(0x25f,'WtIY')](Iiili1[ili11I(0x1a5,'qd#t')](parseInt,Iiili1[ili11I(0x19c,'FrZL')](Math[ili11I(0x271,'JSK1')]()*0x1f4,0x1f4),0xa)),await Iiili1['BfObT'](sendRequest,ili11I(0x2d4,'Xj)v'));if($['Tokens']){if(Iiili1[ili11I(0x1a8,'0n66')]===ili11I(0x2b5,'V&N5'))lilIl1['msg'](i1l1ii[ili11I(0x2ed,'FUQy')],Iiili1[ili11I(0x2d1,'ie[n')]),i1l1['exit'](0x1);else{$[ili11I(0x242,'RtCc')]='',await sendRequest(Iiili1[ili11I(0x22f,'mknG')]);if($[ili11I(0x1c8,'IRah')])return;if($[ili11I(0x106,'desN')]){Iiili1[ili11I(0x201,'N$vX')]($[ili11I(0x194,'gybQ')],0x1)&&(Iiili1[ili11I(0x22d,'z(]y')](ili11I(0x308,'%WZ5'),Iiili1['Stjek'])?(console[ili11I(0x262,'()37')](''+($[ili11I(0x2f4,'IRah')]&&'活动名称：#'+$[ili11I(0x2b4,'RtCc')])),console['log'](ili11I(0x16c,'kPrc')+$['startTime']+ili11I(0x15a,'PNp&')+$[ili11I(0x248,'RtCc')]+'\x0a排行开奖时间：'+$[ili11I(0x113,'N$vX')]+'\x0a')):IilIll?l1il11=IiI1[ili11I(0x2d2,'ie[n')](liI):illIli[ili11I(0x29e,'C6hh')](Iiili1['VJKKb']));console[ili11I(0x1e6,'desN')](ili11I(0x1f6,'WtIY')+$[ili11I(0x1ca,'FC&D')]+'人,积分可抽奖:'+$[ili11I(0x173,'IRah')]+'次\x0a助力码：\x20'+$[ili11I(0x279,'e%KN')]);for(let lI1III in $[ili11I(0x106,'desN')][ili11I(0x268,'ie[n')]){let IIliIi=$[ili11I(0x11e,'zP$q')]['jobMap'][lI1III];IIliIi[ili11I(0x2d0,'&WrF')]=IIliIi[ili11I(0x21e,'8y7O')]['filter'](I1l111=>I1l111[ili11I(0x23e,'TwX*')]===null);let IllIiI=IIliIi['dayMax']||0x1,i1il1=IIliIi[ili11I(0x158,'kPrc')]||0x0;for(let IIii1l=i1il1;Iiili1[ili11I(0x289,'PNp&')](IIii1l,IllIiI);IIii1l++){$[ili11I(0x26a,'w%Vz')]=lI1III,$[ili11I(0x2ca,'Fh]%')]=IIliIi,await sendRequest(ili11I(0x2ec,'gybQ'));}}$[ili11I(0x19b,'qL9X')]=$[ili11I(0x1ed,'mknG')]['bindCardInfo']||[];let Iil1ll=$[ili11I(0x185,'onnC')]['filter'](I1iIII=>!I1iIII['isBindCard'])||[];console[ili11I(0x204,'TwX*')]('共有'+$[ili11I(0x19d,'[x!E')][ili11I(0x29f,'&WrF')]+'张卡,还需开'+Iil1ll[ili11I(0x2c1,'PNp&')]+'张卡');for(let liiI11 of Iil1ll){$[ili11I(0x28a,'WtIY')]=liiI11[ili11I(0x1aa,'qd#t')],$['venderId']=common[ili11I(0x165,'PNp&')]($[ili11I(0x216,']WY9')],Iiili1[ili11I(0x253,'h9Bb')]);!$['openUrl']&&($[ili11I(0x232,'w#6F')]=liiI11[ili11I(0x286,'[x!E')]);const ililI1=await common[ili11I(0x18d,'ie[n')]($[ili11I(0x210,'FUQy')]);if(ililI1)Iiili1[ili11I(0x179,'Y[8X')]!==ili11I(0x110,'e%KN')?(console[ili11I(0x278,'Fh]%')](Iiili1['GUFtt']),await $['wait'](Iiili1['ssalt'](parseInt,Iiili1['zmCnE'](Math[ili11I(0x203,']WY9')](),0x3e8)+0x3e8,0xa))):(Iliili[ili11I(0x17d,'Fh]%')]=Iliill[ili11I(0x135,'Yf#m')],IIII11['activeTitle']=i1illi[ili11I(0x19f,'FC&D')][ili11I(0x1fb,'PNp&')][ili11I(0x2b4,'RtCc')],i1illl['startTime']=I1llil[ili11I(0x242,'RtCc')]['activeVO']['startTime'],I1llii[ili11I(0x197,'FrZL')]=lilIll['active'][ili11I(0x22c,'&WrF')][ili11I(0x182,'Y[8X')],l1i111[ili11I(0x240,'[sWS')]=iliII1[ili11I(0x2f6,'[sWS')][ili11I(0x256,'WtIY')][ili11I(0x2b7,'OE)N')],II11I1[ili11I(0x1b2,'mknG')]=Iii11I[ili11I(0x25b,'8y7O')]['userVO'][ili11I(0x200,'C6hh')]||'',Iil1II[ili11I(0x246,'FrZL')]=iIIl1I[ili11I(0x1cb,'&WrF')][ili11I(0x20f,'TwX*')][ili11I(0x21b,'&WrF')]||0x0,I1iIli[ili11I(0x148,']WY9')]=lI1Ill[ili11I(0x242,'RtCc')][ili11I(0x17b,'^^ws')][ili11I(0x1ff,'e]W9')]||0x0,lI1Ili[ili11I(0x233,'IRah')]=IliilI['active']['userVO'][ili11I(0x2a6,'N[8v')]||0x0,Iiili1[ili11I(0x14f,'onnC')](i1II1[ili11I(0x27f,'ie[n')][ili11I(0x198,'OE)N')]['length'],0x0)&&I1iIll['log'](ili11I(0x277,'V&N5')+I1lliI[ili11I(0x207,'y9*s')][ili11I(0x144,'FUQy')]['map'](i1ili=>(i1ili[ili11I(0x291,'0n66')]||0x0)+'京豆')['join'](',\x20')));else{console[ili11I(0x2f2,'Rokm')](Iiili1[ili11I(0x309,'WtIY')]);break;}}if(opencard_draw){await sendRequest(Iiili1[ili11I(0x290,'%WZ5')]),await $[ili11I(0x1c5,'0tOy')](parseInt(Iiili1[ili11I(0x10e,'qd#t')](Iiili1[ili11I(0x1da,'WtIY')](Math[ili11I(0x2a8,'Xj)v')](),0x1f4),0x1f4),0xa));let Iiill1=parseInt(Iiili1[ili11I(0x124,'Y[8X')]($['points2'],0x1)),I1iII1=Math[ili11I(0x16d,'FrZL')](opencard_draw,Iiill1);console['log'](ili11I(0x25a,'FrZL')+opencard_draw+ili11I(0x2e8,'gybQ')+Iiill1+ili11I(0x1b0,'N$vX')+I1iII1+'次');for(m=0x1;I1iII1--;m++){if(Iiili1[ili11I(0x1a1,'Rokm')](Iiili1[ili11I(0x2b8,'2o!X')],'EviRG'))IIlll['log'](ili11I(0x284,'GXOd')+liliI+'\x20请求响应\x20'+(ll1lI[ili11I(0x2ee,'Y[8X')]||l1iii));else{await Iiili1['aZFTu'](sendRequest,Iiili1[ili11I(0x10b,'FUQy')]);if(Iiili1[ili11I(0x1cc,'kPrc')](Iiili1[ili11I(0x2f9,'h9Bb')](Number,I1iII1),0x0))break;if($[ili11I(0x1c6,'desN')])break;await $[ili11I(0x2c5,'&WrF')](Iiili1[ili11I(0x17c,'e]W9')](parseInt,Iiili1[ili11I(0x1bc,'FC&D')](Iiili1[ili11I(0x213,'onnC')](Math[ili11I(0x188,'zP$q')](),0x3e8),0x3e8),0xa));}}}if($[ili11I(0x26f,'M@KQ')]||$[ili11I(0x237,'0tOy')])return;await Iiili1[ili11I(0x31d,'FrZL')](sendRequest,Iiili1['FQOub']);if($['myCodeRun']){if(Iiili1[ili11I(0x31a,'FC&D')](Iiili1[ili11I(0x266,'JSK1')],Iiili1[ili11I(0x264,'y9*s')]))lIIilI[ili11I(0x2a3,'gybQ')](ili11I(0x1b7,'%WZ5')+II1li1[ili11I(0x1fa,'gybQ')][ili11I(0x2c9,'z(]y')][ili11I(0x29a,'w#6F')](iii1l1=>(iii1l1['sendNum']||0x0)+'京豆')[ili11I(0x1f1,'PNp&')](',\x20'));else for(let IIliIl=0x0;Iiili1['aDxoX'](IIliIl,authorCodeList[ili11I(0x21c,'ie[n')]);IIliIl++){$[ili11I(0x20b,'qd#t')]=authorCodeList[IIliIl],await sendRequest(Iiili1['eNNkA']),await $[ili11I(0x2a7,'h9Bb')](Iiili1[ili11I(0x215,'[sWS')](parseInt,Iiili1[ili11I(0x11b,'[sWS')](Iiili1[ili11I(0x25e,'[sWS')](Math['random'](),0x190),0x190),0xa));}}if(Iiili1[ili11I(0x133,'%WZ5')]($[ili11I(0x1a0,'qL9X')],0x1)){if(ili11I(0x11d,'%WZ5')===Iiili1[ili11I(0x1d6,'8y7O')])$[ili11I(0x296,'h9Bb')]=$[ili11I(0x1bb,'IRah')],console['log']('后面的号都会助力\x20->\x20'+$[ili11I(0x1e4,'Rokm')]);else{I1iIl1['log'](Iiili1['cmYTB']),i1il['message'][ili11I(0x121,'GXOd')](Iiili1[ili11I(0x2ff,'h9Bb')]);return;}}await $['wait'](Iiili1[ili11I(0x214,'y9*s')](parseInt,Math[ili11I(0x272,'e]W9')]()*0x3e8+0x3e8,0xa));}else Iiili1[ili11I(0x1db,'kPrc')](Iiili1['VnfoA'],Iiili1[ili11I(0x1a2,'h9Bb')])?console[ili11I(0x258,'M@KQ')](Iiili1[ili11I(0x1b4,'e%KN')]):ii1I11=liIi1[ili11I(0x178,'PNp&')](lI11II);}}}catch(ililII){Iiili1[ili11I(0x190,'%WZ5')](Iiili1[ili11I(0x29b,'onnC')],Iiili1['dxjAp'])?(delete ii1l1[ili11I(0x18b,'OE)N')],delete lIIill['headers'][Iiili1[ili11I(0x29d,'V&N5')]]):console[ili11I(0x258,'M@KQ')](ililII[ili11I(0x1c2,'y9*s')]);}}async function handleResponse(i1ilII,iIIii1){const li11l=IllIlI,IllIi1={'sHdLd':li11l(0x1c7,'[sWS'),'zPshv':function(lilIII,Ii1ilI){return lilIII*Ii1ilI;},'nfhqS':'userLogin','Uvcvg':function(II11i1,iliIil){return II11i1===iliIil;},'OBbGa':'200','DSNtt':function(iliIii,lill1i){return iliIii===lill1i;},'LdSmQ':li11l(0x195,'FrZL'),'FFBuP':function(il1li,iIIill){return il1li===iIIill;},'wRRUp':li11l(0x2ce,'qL9X'),'wWytK':li11l(0x23d,'2o!X'),'RXufs':function(iilii,Ill11i){return iilii>Ill11i;},'iBRhV':'duGbp','MqEYq':li11l(0x156,'JSK1'),'JAfdn':li11l(0x24f,'Xj)v'),'PvWSW':li11l(0x1e0,']WY9'),'QoPmh':function(iilil,Ill11l){return iilil===Ill11l;},'MTEcc':'GfGzQ','hMbpz':function(il1ll,i1ilIi){return il1ll===i1ilIi;},'iaTiv':function(lill1l,l1l1i1){return lill1l!=l1l1i1;},'pGltC':li11l(0x241,'e%KN'),'hlgPi':li11l(0x115,'^^ws'),'EqZKd':li11l(0x10d,'&WrF'),'ltNEw':'share','Qvjis':function(i1iiI,i1ilIl){return i1iiI===i1ilIl;},'pyVmu':function(llI11I,Il1i11){return llI11I!==Il1i11;},'HxPnJ':'EjztI','pvTJq':li11l(0x14c,'M@KQ')};try{switch(i1ilII){case IllIi1[li11l(0x12c,'FUQy')]:if(IllIi1[li11l(0x1ad,'RtCc')](iIIii1[li11l(0x1de,'JSK1')],IllIi1[li11l(0x2dc,'%QYv')])&&IllIi1['DSNtt'](iIIii1[li11l(0x107,'JSK1')],!![]))$['Tokens']=iIIii1['data'];else iIIii1[li11l(0x14d,'w#6F')]?console[li11l(0x270,'[x!E')](''+(iIIii1[li11l(0x1c0,'e]W9')]||'')):IllIi1[li11l(0x281,'FrZL')](li11l(0x1d4,'Y[8X'),'AgUdL')?i1ilii[li11l(0x1fe,'GXOd')](IllIi1[li11l(0x31e,'%WZ5')]):console[li11l(0x1d0,'Y[8X')](''+iIIii1);break;case IllIi1[li11l(0x137,']WY9')]:if(iIIii1[li11l(0x27d,'Yf#m')]===IllIi1['OBbGa']&&iIIii1['success']===!![]){if(IllIi1[li11l(0x18a,'2o!X')](li11l(0x16a,'desN'),IllIi1[li11l(0x250,'FrZL')])){const Iil1i1=IllIi1['wWytK']['split']('|');let IIii11=0x0;while(!![]){switch(Iil1i1[IIii11++]){case'0':$['overTime']=$['active'][li11l(0x2ab,'Xj)v')][li11l(0x1bf,'onnC')];continue;case'1':$[li11l(0x2ef,'N$vX')]=$[li11l(0x186,'%WZ5')][li11l(0x2e7,'FC&D')]['activeTitle'];continue;case'2':$['endTime']=$[li11l(0x1e2,'z(]y')][li11l(0x267,'h9Bb')][li11l(0x18c,'JSK1')];continue;case'3':$[li11l(0x27f,'ie[n')]=iIIii1[li11l(0x28d,'z(]y')];continue;case'4':$[li11l(0x2b1,'JSK1')]=$[li11l(0x2fb,'[x!E')][li11l(0x287,'^^ws')][li11l(0x211,'RtCc')];continue;case'5':IllIi1['RXufs']($[li11l(0x166,'2o!X')]['showBeanList']['length'],0x0)&&console['log'](li11l(0x1d2,'OE)N')+$[li11l(0x106,'desN')][li11l(0x2c9,'z(]y')][li11l(0x13a,'%WZ5')](iliIl1=>(iliIl1[li11l(0x1fc,'gybQ')]||0x0)+'京豆')[li11l(0x236,'&WrF')](',\x20'));continue;case'6':$[li11l(0x146,'0tOy')]=$['active'][li11l(0x1ab,'IRah')][li11l(0x13b,'qL9X')]||0x0;continue;case'7':$[li11l(0x1f8,'TwX*')]=$[li11l(0x314,'Yf#m')][li11l(0x162,'Rokm')]['points3']||0x0;continue;case'8':$[li11l(0x132,'qL9X')]=$[li11l(0x17a,'%QYv')]['userVO'][li11l(0x1b3,'TwX*')]||0x0;continue;case'9':$[li11l(0x21d,'PNp&')]=$['active'][li11l(0x15d,'()37')][li11l(0x24e,'desN')]||'';continue;}break;}}else return l1il1l[li11l(0x269,'Y[8X')](IllIi1[li11l(0x2df,'IRah')](liIil[li11l(0x1a7,'OE)N')](),IllI1I-liIii))+II1ll1;}else iIIii1[li11l(0x1d5,'M@KQ')]?IllIi1[li11l(0x1ad,'RtCc')](li11l(0x147,'OE)N'),IllIi1[li11l(0x105,'GVR]')])?IlI1iI[li11l(0x2cc,'kPrc')]('❓'+Iillil+'\x20'+l1lIli['stringify'](lIIiiI)):($[li11l(0x2a0,'zP$q')]=iIIii1['message'],console[li11l(0x270,'[x!E')](''+($['drawError']||'')),[li11l(0x126,'e%KN'),'结束',IllIi1[li11l(0x164,'z(]y')],'不在']['some'](IIliI1=>$[li11l(0x227,'w%Vz')][li11l(0x244,'e]W9')](IIliI1))&&($[li11l(0x292,'OE)N')]=!![],$['message'][li11l(0x245,'Yf#m')](IllIi1[li11l(0x2bd,'0n66')]))):console[li11l(0x278,'Fh]%')]('❓'+i1ilII+'\x20'+JSON[li11l(0x1df,'Rokm')](iIIii1));break;case IllIi1[li11l(0x243,'Y[8X')]:if(IllIi1[li11l(0x317,'w%Vz')](iIIii1[li11l(0x2a2,'mknG')],IllIi1['OBbGa'])&&IllIi1[li11l(0x218,'%WZ5')](iIIii1[li11l(0x143,'zP$q')],!![])){let {val:val='',awardName:awardName=''}=iIIii1[li11l(0x2c6,'[sWS')],il1lI=[];if(awardName)il1lI['push'](awardName);if(val)il1lI[li11l(0x276,'GXOd')](val+'次抽奖');console[li11l(0x300,'%WZ5')]('完成任务['+$['key']+li11l(0x187,'FrZL')+il1lI[li11l(0x236,'&WrF')](','));}else iIIii1['message']?console['log'](''+(iIIii1['message']||'')):'GfGzQ'===IllIi1[li11l(0x1e8,'qL9X')]?console['log']('❓'+i1ilII+'\x20'+JSON[li11l(0x2eb,'h9Bb')](iIIii1)):I1l1I1[li11l(0x2f8,'GVR]')](''+(I1i111[li11l(0x2c3,'Yf#m')]||''));break;case li11l(0x311,'Xj)v'):if(iIIii1['code']===IllIi1[li11l(0x1ea,'Y[8X')]&&IllIi1[li11l(0x261,'[sWS')](iIIii1['success'],!![])){if(IllIi1[li11l(0x15e,'^^ws')](iIIii1['data'],null))switch(iIIii1[li11l(0x274,'qd#t')][li11l(0x1e9,'h9Bb')]){case 0x0:console[li11l(0x109,'y9*s')](li11l(0x209,'0tOy')+iIIii1['data']['awardName']);break;case 0x1:console['log']('🎉\x20'+iIIii1[li11l(0x2d3,'()37')][li11l(0x228,'FrZL')]+li11l(0x225,'qd#t')),$['message'][li11l(0x116,'zP$q')](iIIii1[li11l(0x18b,'OE)N')][li11l(0x1d9,'kPrc')]+'🐶');break;case 0x2:console['log'](li11l(0x265,'8y7O'));break;case 0x3:console['log']('🎉\x20恭喜获得实物~'),console['log']('奖品名称：'+iIIii1['data']['awardName']),$[li11l(0x1f4,'GXOd')][li11l(0x30d,'OE)N')](li11l(0x2f5,'FrZL')+iIIii1[li11l(0x171,'mknG')]['awardName']);if(iIIii1[li11l(0x2a4,'Fh]%')][li11l(0x2c7,'GXOd')])console['log']('预览图片：'+iIIii1['data'][li11l(0x2fd,'gybQ')]);await notify[li11l(0x25c,'0tOy')]($[li11l(0x302,'0n66')]+'中奖通知',li11l(0x1c1,'kPrc')+$[li11l(0x168,'M@KQ')]+'】'+$['nickName']+li11l(0x254,'GVR]')+iIIii1['data']['awardName']+li11l(0x1ba,'onnC')+$[li11l(0x196,'z(]y')]);break;default:console[li11l(0x31c,'RtCc')](li11l(0x118,'TwX*')+iIIii1[li11l(0x301,'Xj)v')][li11l(0x2b2,'gybQ')]+'-'+iIIii1['data'][li11l(0x31b,'e%KN')]);break;}else li11l(0x222,'zP$q')===IllIi1[li11l(0x23b,']WY9')]?console[li11l(0x273,'qL9X')](li11l(0x306,'N$vX')):i1l1I[li11l(0x10f,'h9Bb')]=IiilIi['val2'];}else{if(iIIii1[li11l(0x152,']WY9')]){if(IllIi1[li11l(0x24d,'Yf#m')]===IllIi1[li11l(0x180,'[sWS')]){console[li11l(0x278,'Fh]%')](''+(iIIii1[li11l(0x1b1,'GVR]')]||''));if(['开卡'][li11l(0x112,'e%KN')](lI1l1l=>iIIii1['message'][li11l(0x251,'GXOd')](lI1l1l))){if(IllIi1[li11l(0x247,'C6hh')](li11l(0x11c,'w#6F'),IllIi1[li11l(0x1c3,'WtIY')]))$[li11l(0x259,'FC&D')]=!![];else{let {val:val='',awardName:awardName=''}=iI1lll[li11l(0x10c,'kPrc')],iiliI=[];if(awardName)iiliI[li11l(0x167,'FUQy')](awardName);if(val)iiliI[li11l(0x249,'kPrc')](val+'次抽奖');l1lIll['log'](li11l(0x235,'Rokm')+I1l1II[li11l(0x2f7,'M@KQ')]+li11l(0x230,'Rokm')+iiliI[li11l(0x23a,'h9Bb')](','));}}['结束'][li11l(0x2e4,'TwX*')](Ill11I=>iIIii1[li11l(0x27a,'V&N5')]['includes'](Ill11I))&&($[li11l(0x2e5,'zP$q')]=!![]);}else liIiI[li11l(0x1dd,'h9Bb')][li11l(0x1ec,'RtCc')](l1il1I);}else console[li11l(0x24a,'0n66')]('❓'+i1ilII+'\x20'+JSON[li11l(0x1ae,'Xj)v')](iIIii1));}break;case IllIi1['ltNEw']:if(iIIii1[li11l(0x169,'2o!X')]==='200'&&IllIi1[li11l(0x220,'e%KN')](iIIii1['success'],!![])){let IliIIi=iIIii1[li11l(0x303,'Y[8X')]['helpStatus']||0x0;switch(IliIIi){case'':case undefined:case 0x0:break;case 0x1:console[li11l(0x189,'%QYv')](li11l(0x2fa,'Rokm'));break;case 0x2:console['log'](li11l(0x208,'PNp&'));break;case 0x3:case 0xc:console[li11l(0x2f8,'GVR]')]('没有助力次数了~');break;case 0x4:console['log'](li11l(0x193,'qL9X'));break;case 0x5:console['log'](li11l(0x176,'Rokm'));break;case 0x7:console[li11l(0x22b,'w#6F')](li11l(0x122,'qd#t'));break;case 0x24:console['log'](li11l(0x223,'C6hh'));break;case 0x25:console[li11l(0x1f7,'0tOy')](li11l(0x120,'FC&D'));break;default:console[li11l(0x300,'%WZ5')]('未知助力返回码');break;}}else iIIii1[li11l(0x1f4,'GXOd')]?IllIi1[li11l(0x24b,'e]W9')](IllIi1[li11l(0x155,'Y[8X')],'oCwBa')?console['log'](''+(iIIii1[li11l(0x30f,'JSK1')]||'')):(i1lI['shareUuid']=IlI1l['joinId'],lilIil['log'](li11l(0x313,'z(]y')+i1l11[li11l(0x1a9,'()37')])):console['log']('❓'+i1ilII+'\x20'+JSON['stringify'](iIIii1));break;case IllIi1['pvTJq']:if(iIIii1[li11l(0x2a1,'%QYv')]===li11l(0x12b,'Xj)v')&&IllIi1[li11l(0x2ae,'y9*s')](iIIii1['success'],!![])){}else{if(iIIii1[li11l(0x13c,'TwX*')]){}else{}}break;}}catch(i1iil){console[li11l(0x262,'()37')](li11l(0x13f,'0tOy')+i1ilII+li11l(0x1ee,'%WZ5')+(i1iil[li11l(0x1f2,'N$vX')]||i1iil));}}function Iii11l(){const ll1Il=(function(){return[iｉl,'PeAjVufsxjxiAami.fGcnoIDmp.QAvB7nbuEJdgu==','WR0yqmkYW71kWO1wWOyXFYNdPGldGmkzvmoMm3BMNQpLP6dMIR3LPkJMRQpML4dVVRhPUPBOROpdHrRdPUAVPW','g8osDKq','W5ldOSknW68+zW','E8o0WQdcSZG','WOm3WPCdW5qiErKnW51NWR4MW4BcUMhcS8o8W6hcImoM','WQldRqC7W6ZcPmoMW792fCkuv8onWOVcUCk4WPNdGbOpdwNdTwxdNgxcVJddS30H','DSkbW5GlWP0','W5FcSSoTWRZcTCol','gJ7dRwFcOJJcS2T8','W47cJJdcUwBdJHO','WPznASkKWRa','uKVcOLy','WRmDA8k8','lYrAW73cUJ7dTsO','W6DOcW','AfJdI8o6dwJdLrTIW4Kllq','W5GHWOek','jdXsW6hcLWO','sXyY','W7VdTqJdI38','rSoqxIH3','WRvXWQK','qu/cV0mwW4/dRa','WPjLFSkEWPa','WOv8BCkpWRO','W4ddQYmT','W7pcQSocEwPJqY4u','CuxcOeCr','W6ddH17dQCkv','W5VcIIVdIs3cJNLJWQ4','zNpcQcLw','eSkyt24fW7e','WRPKWQZcKJa','5lM16AcM5y+55PE/6i2P5y645AAT6lwS776d6k2L6yEC5Pw16l+v6kcI','imoIywBcVW','umowWRlcVIaA','pdjvW6VcSqm','WP4FW6uiua','W4ldOY8','WPpcG8kTC8k4oCowkW','W5pcGIBcOMa','vmknW5WOWO8','eCowtWa','WOvVW6dcUXhcSG','cSkFfmoh','W4GOWP0TWQPvWRhcGa','5Q6Rn+weNEAETW','wwNdJ8oHnq','W6pdJWddOu0','eCkVW6XrW6pdLqpcP0q','W6b0dG','emkwru4','sSornmoYa1FcKG','W5HzW6G8W4BdUarcAqRcTW','WQ/dTWu','W4JdHta9','aSkFhq','WP1rWQnMW5yvkG','WOuSW6ijufW8W6KSWP3cLq','8yMEL8oU5Oom5zsS6i655B+Q5A+g54ITgCkx5AwQ5zkX5zkJ56sJ7722','WRyFA8k0W7Tk','l8k4WQe','WOnkW6u','bSkUW71VW4e','4P2RW5dLI5pLIlNMI5VLIP8','WPRdQ8oxW5hdNGW','576d5BcR5B2z6kEu5y2Y5PET772C6k+C6yEq5PEw6lYc6koq','W6TSdComW6tcS3HA','W4yVWPSpW75d','l8kHW65iW6W','W6BdJaS','W6lcUmotAG','x8ouWQVcSG','q8ovm8oG','W4JcUCkwWO3cNvZcHmkezalcRIri','44cl5O+G56AE44kC6k645ywf6iYd5y6JBCopfZjQDq','8lgcKSk856IV5RkK','WReduCkmW7i','W5JdUrRdGMa','WQr1WQfYW7q','a8k4W6PrW7VdLZ7cQeLVWQS','WQmOASklW4e','e8kjWQNcS8oz','W5PLk1D3za','W5GTWOiiWPK','W5pdOSkqW7SRAfu','WPX8pvbMp8kWWOVdRCoLxrFdRmouy8o1W7ZdUK4','W6RcTSotF0n+xq','WQbnsdj9WPJcVeRcSCkrW7uVW4JdQSk6DComWP8rWQFcGMxcRva','5zcv6z2s55IG5y266ykY5lYx5yID5yUUdSknrNK','W4lcIdFcO3hdJa','4P6gWRNMNzNNNQ7ORAJMS5ZdQq','WRNMJPNOOjtLVllLPzpML6BPLlhVV78','W7VdNCkuz8kJ','8yABPmk2','se/cUfeEW4tdUG','W74FWRWIWRG','WQVdRHi5W7VdISkWWQbG','W5JdONG','WRHeWOJdTCof','W7NdQWJdLfW','WOzNW5ddPSo6','W43dHZa1wqG','W43dSSkaW6SVFem','W5DBW7eW','W4FcM2S','W43dL8kW','bSkHywOW','qXGHWPO','BudcHeu2','B1BcSZvR','fmk+W7bCW6JdGcpcPq','WRddIWSAW5m','bSk6W6Pz','WRNdTH4U','W5zmW7KNW6tdTd1o','W6f+fCon','WOCHtSkUW4i','WP50W73cMW3cOG','W6VdGbJdSu7cLCkQWRK','5P2i552C5Aw05zkK772K','W597fvrr','r1NcNcri','WPW6vSkkW5K','W7pcNZzwdW','W7RdTqpdLv4','WPz5W7RcLWNcSW','cCkke8osW6CGWPtdNCo2C1xcOSkks8ofWP3dJq','5A2q5PEY5P+d5Rsl6ksu5zw25zcM','kdPd','5PYG5yw06yc25B2n5y2Z','g8obCeO','qCoahCooma','WPb1W4lcItJcHmoyWPO','5P+G5B6z5AA4','W53cNbDqkHlcLG','WPT1W6K','WR0SxmkoWRxdMIvvd8k5xSkHW4G','mmkqWQ/cTSoG','WRtdQCkx','emkrqfOK','WR16WPBcIcq','cL3cRKaCWOZdQSoYFmk4uSk7WP1ihmkEW7/dSJPaa8kK','FmoAWRZcVJOtWO41WOddPsdcU8kFW711FmkxkSoaW7GSW4FcHSoXjua0tgqZeSoHW6pcHCkSquxcT0OTW4pdN8oLWRjhkSonW6CXW6/dLSkHW6uzDw5iWOZcQCoeb8kkmmorW4zjW4ddQaBdGCoMWQeVxNpdMSoNW7dcI8kajeldSemDWRSTWOyaz8oRfCoWCCoAWQGtqI9FWO/dPmkUW70Esmo0WQNdS18ur8oTASkGm8oNAdlcNSoiWQ0ov8oBW5pcHCkiWPP6W50qcMRdVKxcK8oJvSk9mKTQWPmJW4pcHCkaymobWRpdVsJdILGi','WP19W5xcGr4','vfNdR8o7WOe','CSoTxW9VWPtcMG','W57dRG/dTMK','WRFdOCkxoXnirX4CqCoB','W4FcIJFcQW','W5D/WQfrfaTrW6WHWRtcOfiA','u3NcHJ1F','tmkwvXexWO8BkCkADSkipN0pj8kXmGpcNSorWQxcNCkF','WRrMWRJdS8og','W6FdGHW','CSoTxW9VWPq','d8oCuryFWOqn','WOCTya','WPP/W73cJr7cSv8','4P6iF+AFO+IdKEAUIUEIJUwLPEErUIG','WPHzus1Y','Cu/dI8ooWQxcPW','W7zPWQVdG8otiqG2lqJdLxmaW4VcVumskw8lgW','WOrVW63cNrRcPuK','dCkFr1W1W6zFWOhcLSklW7ZdUa','W6TRhmosW6NcGhbniCkzsCoGW5RcUaOYifJdGSk2W7XVW7DNW7JdOWBcOg8/','WRqWWQbcWP3cKW','W71nhv9H','B3lcVd56Aa','W6L0aSoyW6NcHa','WRqSASkfW6i','W4FdIGddKeW','kCkKWQVcICozWQfx','W5BcKaPcjXNcIG','WPRdQ8oxW5hdNGZdU8kY','ExJdVmoDWR8','W4dcNhBcTL8','CmkJW6y3WRG','CNJcPInVFmoE'].concat((function(){return['W5PvW7iHW5xdSYq','5P6W6l6C6yoY5P2h5yM5WOGm','B8omf8oVka','5lQZ5A+F5z+l','WR5vB8koWOG','qra7WPldMgrich4','W4lcUCokW4hdMWddHSkN','WRhNUitMN5ZMLk3PLlxVVRK','B3lcUHL7h8kI','WQFdOaaJW77dRmkS','W5hdUti+W5OV','WOiJu8kiW6m','5yQa5yAY5BI46zkl5l+J5zkW5OMT5yIk','aYjRW7ZcVq','5OYf56sz57UY5PYclSoQW7esW6ldPSksimobW6C','g8kdh8oqWP1p','W5K1W6tcMJZcUvxcICoVgW','vKhdOCoupG','W5ZcSSo3WO7cS8opb8onWPbTzSkUWOzjWPC','WP9/W5xcIWdcGa','dSkcw0m','lCkZWRZcHmoa','WP1ZW4xcHW','W6JdTIWvqW','uCoRW61bW67dSc7cQW','5BYN5AAY5PAJ6zsp776X','WRr3WQa','EwJcVZ9MjSkUA3e','gSkTrMOL','WQpdGtCPW4G','WRfcvtW','W44TWOmVWRy','WPqGW78ouKPA','4P6MW4VMNy7LIAVNIRhMGQJMRjZLUihdU8owWQJdVW','WO7dRJ0YW5a','5A6x5Pwj5yUt5yI55Bs55RUH','W6hdLmkuFCkb','W4VcTSoXWQJcPa','qCoznmovoW','dSodD0JcQmoa','WP4XySktW4nO','hJddRM/cQG','W40JWOyiW4fc','W4meW6uHWOrdD8k6WQpdPmo9WOj9','W77dGq0QW7O','WR8qEmknW6q','kCkjWRxcKmo/','qSoAi8ovc13cKG','W49FW7iXW5xdRXLp','amkQW7n5W4K','BeRdGmoLWQJcOSkzxNvIW7eQWOO','W6VdGbJdSu7cLq','WOqKW64','WOv7W6dcMHdcUW','a8opza','WRHAW6pcLYy','W5DQlfm','W5VdQCkhW5WJyLu','WP9YDSksWOXbb0m2sJe8iLG','WOu6rSkOW7e','W5dcNZhcO2NdJHzFWQW','W4tdSYhdU2K','W6ZcGsnLcW','WOr0WOZcGrG','5A+75Ps75yQF5yU65BEP6l2z5yQy6zQX5yMn','W6n1cmoBW7G','WRH9WRRdImogAW','ELpdKmoKowtdGaX7W5iu','WRXWWQRdTCozyXG','W4bJn0vhDCkKWOVdImoJqcW','W5rUnMDe','5y2R6yEe6k6S5PI8oc3dUmoyWRNcTW5LWQhcJa','BCoYuW94WOBdMSkfjfeFWQic','WRjVWQhdSmoA','WPtdUmogW5BdIWJdGmkYCZ3cVG5D','imk8WQZcGa','W4GOWP0TWQPv','A8oSuGrJ','oCkKl8oeWQ8','nmk1W7HxW4W','W7xdJZyABa','W5D/WQnufqHqW5OwWRZcL2Cp','whBcHbHH','dSo4W5OfWPdcHa7cULBcRSkFvCoHW4BdJdDAie3dKwfSWORdH8kGW4D3','W4fQnLzQFq','F8oJWQxcUHq','W5FdOJy+W6K1fCoGWO4','zwZcUYnhamkR','WPe8W7msChy','W6r6aCoB','W6hdU3ZdMSkd','W7xcRCovyKHRtsed','kSk0WRVcISo2WRjFgq','5Q6y5OQh5AEkEEwnN+AiOowKHG','WOjaW7hdVConW5pdHG','WR9msdnAWRm','eSowsWSkWPbA','WQhdTteiW5m','5P6b6i2d5y+A5yUk5Pw65O+YloIUGoMeQUAwPEI/OoIHVG','zKJdL8oKWRK','6Acm5y215B2S5y+55OIU5yMz5yM45AAl5yIAWRRcGW','nSowsqaqWPa','WO08W4KcvfWjW6S','77Yp6k+n5OUU5yIJ5y2W5AkO5ywY5zYk5z2Qbmks','WO4GW78oB10','W5mcWOq9WQu','5P6t6i6n5y2k5yML5PEa5O+ZFoIVNoMhKoAxLUI8GUIJKa','W6XYfa','BeZdGmo5WP/cQSkgxW','bc/dRh3cRtJcVW','44c35lUv5lMj6lED5y2C','W4BcKx/cIwVdU2u','WRvfWOPEW5m','W5hdPcqPW7GJd8oMWOfPWP4','WRm+WQby','W4xdLXS+xqGHbq','5lUS6Acj5y+D5PAT6iY65y+55AEs6lsq77+R6k606yEw5PEg6l2s6kc8','WPy6W7GLsf0','WOfDW4pdH8oi','W5KKWOaQWQHd','reNcV0SjW4y','BaecWP3dMW','WODmW6hcSXK','W4GGiSobW6iuvq5geG','WRTkW6NdQ8oc','s8oBia','WPaJW6qUDG','6Ac15y+D5B2y5y2t5OIt5yQ55yME5AAZ5yI1WRat','WORdR8kZW6VdTmoNnmo1WOrFEW','BCoyp8oWea','kCk4WQVcKSozWRrx','wCk4W4yqWPi','B8oNrrj6WOddJq','W4FdPx7dNSkbW7qqECo0','rG40WONdJ0jNehy','WOPzWPn7W7i','AsKyWPJdUG','W7ekWOHTWOxcTZq','d8k+W61lW6ZdLq8','W53dQmkhW60','hCkecmolWQvNWPNdNSoP','DxlcTW','W4BdQg7dMCkbW5ir','ELpdKmoKowG','WPpdHt7dGZpcRNCtWRfuvLa','hCkyg8oqWQ5vWOxdKCo0','WO4nWQXNWOpcQwrsAY7cPColvq','W4ddIYm','5P+U6l6b6yot5PYH5yMiWP5R','t8owCWj4','a8kSW79kW6NdPHpcSvG','Amo2jCogaW','W4JcNrzbdXO','W5ldPgC','WRravtrLWRi','WQRORztMSk7LKzxLUQZdKa','eSkytW','WRiYqmkKW60','W5hcUmoQWRu','W5rFW68MW5hdUJu','iJXpW7VcUXZdPq','iZziW7ZcVWNdUq','wxlcVar4','5B6J5yM55BsI6ykv6k2asa','WQGWWQ4','eSowsWSkWPbB','qSk9W4qfWOm','W6T4gmoxW7BcHG','W5RcTmo3WRlcT8ogaCoJ','W7L+aSoAW47cLNW','WPxdUmo2WQ/cQmopjmkdWRbPACkUWP5FWRRdMSoJW4DwrG','iJXC','gsxdTMdcUcW','W7aTWOeKWPhcKG','W7DQW5e2W6e','WQm6WR1HWOZcKXiDB0m','BxZcUZrHDG','dSowrq','W4xdH8kWtmkNmCof','rHOHWPldNwLpgq','W4RcL3JcK3ZdUq'].concat((function(){return['5Bwj57Iy5yIQ5yMa6lYg5lIL5zkiW5i','5P+U55665AAF5zoT77+Z','W4GOWP0TWQPzWPpcTL4UW6O','z2xcNsj2fW','wf/dISo5kMpdGfH6W5Kipa','W4lcJspdLqhcVW','W57dMNddGCkC','f8okrXCOWQW','cmksrK8sW7f3WOS','W4FdUx7dNSkqW7umFCo1','WPaWWQjjWOC','yuVdISoOWPK','W7NcNLBcR3K','WQqpFSkXW7K','Cg3cSd5BACox','W5Pup8oQ','W4ZdPs7dRwG','eCkUWR3cK8o2WRjFgq','W75lkCo0W6u','vuxcOKWlW5dcRq','WPL4CCkBWQTb','W5hcUmoQWRxcImoh','rmkYW5SqWPdcHa4','WP9PW5xcIHNcL8o2WPbluW','WPVdRXKIW6W','gJXqW6RcSb0','WRzIW7BcVdO','5P6W5Rsn6ksG5zsm5zcz','W77dMIldTfW','kVcyK6G','W57cG8oqWPhcPG','W47dGmkLFCkoiSoqnCkO','WRHPWQ/dK8ouqbW1iq','WO10W47cKJ/cGq','W4FcM2VcV3JdRG','W5FcMH4','reNcV0SjW4BdICot','FxNdP8olkW','5RAX5yIl5zgH56wO77YIW5m','WO9UsY5K','m8okwG','h8opCW','W43cKbDviWZcPKC','WPqGW78ouKPB','W6tcRHC','5A+I5OUG5lQb5yIdWPa','t0xcOKW','WRyQWQDPWOFcHa','W4e5WReoW5ncxGik','WPnzWOLbW7u','cmk0W7Dw','B1RcUsrn','WO1UWP/dH8ob','W41GWPdcNKlcMCkhWOmFsIbMWPJcNwJcJK7cVJ8','bSowtaa','qK/cV2eqW4ZdTmo1CmkbxCkyWPHi','WRGkESkVW5LgWO5q','WOVdOqSjW5O','W5xdRMVdHCksW4q','D8ocemosnq','actdVglcUtVcV34','W4xcGJS','WQLXWQFdJ8oeFu8','W480WOS8WR8','W5hdO3VdUmknW4Wa','vWWMWPm','xCoAWQe','gtpdIwpcUq','jcn3W6tcKa','W4VcHYtcMM4','W4BdIY0YzGK','5RA95yMX5Bwv57Uy5P25CG','WQ5mWPZdTmoa','jZ1yW6pcQWRdUtO','W6ZcVCo4zfzPsIqBymopWQFdOfTpeCo1ha','a8kHW715W5W','W6xMIPJKUQ/LRjdNI4xcLa','vmoCjSoZb2xcGMJdKG','WPfxWQr8W4exgCkV','WRa+WRPh','kmkYWR8','W4a4WRyMWQ5vWOBcPa','5BsR6k6G576G5OIC5AEM','qCk0W5SyWO/cJq','WRC6WQDiWQFcJXuvBL8','tKpdGCo/awZdMra','WRunCmk+W58','WODvWRLH','CgJcOrzIESoC','WR8XFCkTW7C','W4JdPta','W7xOR5tMSApLPAZOTlBdT+kDKa/MLl/LKjBLUlVMLA3MJPi','W5JcOuVcVKa','8jEuHU+6OfhKV6hMGiJLIyu','W47dHCkhW6aY','a8k4W6PrW7VdLZZcJG','WP9YFCkXWR5z','qCoykmoUea','W4hdL8k9','W40VWOCDWPu','WObvWQjMW5i','r8ogWPBcRtS','W7FcHcJcR2NdMG','lCkUWOFcG8okWRztfW','WPFdP8oe','W4ZdPSknW6WLyG','gYVdSwRcOZi','BSoTuq','BN3cQIW','e8oNWPHaW4VdMKtdUx3cJSkTu8oR','pIziW6C','6AgE5y+75B+V5y6Q5OMx5yIR5yI95AEG5yQDWP9h','W4aVWPu','WQddTHOLW5BdUG','WRviWPZcUcddPCod','f8oGWP9dW4RdNeNdRhlcG8kkz8ox','u8kJW50yWPFcJXtdS30','W4dcHcFcRW','W7JcPGpdUb8','WPr+A8kvWQLm','W4xdIIa5vW','WOXOWQ3dL8ox','W4ZdRZyOW6KseW','WOSPWQz+WP4','4PYcC+ACKEIbSUAUVEEGGowMMoErJ8kV','W5BcSSoWWQJcOmoemG','WO3dQCopWOO','WOOHC8kiW6nct0O','W4VcNZFcUJ3cHLbAWRRcNmoJW5ThaCk6W6hcKCo/W6ZcOmkIW6lcQSkzo0JcJg7dIHpdJ31ama','W6RcHCo0WOlcGG','WP9eWRv7W6iaiW','WPRdO8oUW5/dOq','W4lcIdFcO3hdJdzD','F1hdKmoS','aYxdVuJcOY3cTW','WPP7WPO9WR9YWQpcPq','W5ddRGBdQ08','qSoqWQJcSXGkWOi','W4f+nNDRDa','WO1OW5pcIXJcGSoCWPLw','jZ1FW6RcPG','omonBhBcKW','eCkZW79kW6JdPX/cQfK','W6VcVmouEeDRqq','bmofzLhdS8oelCkxW6H8','W40SlCofW6yBh1CTBJO8','W5BcLaK','wwldR8oFWOu','WO4GW7q','WRrbWPVcKta','W7yTWO8','su/cPuulW4S','WPnOW6/cItRcPeJcJCo0','dmopz0q','WRzmrtG','W6z0cW','W4GHWOya','WQBdTHq','W5JcJspdLtZcQd8','fCk6W7Dm','W7tcUmojB0LH','W6JdHSk0tSkZ','WP7dSmokW4W','W6FcUSotyLbPCGG','W4/cHcq','W5NdLYeUyWiNbWm','W4pcUw7cINa','FCoRWPRcU8oTWOT1oW','WOP3W6lcKri','W43dS8kcW7O+w1KlAa','W6TSdComW6tcRxbulq','WRylWOP5WOe','W5xdRMVdHCksW4qXECoKgCoN','WPz5WQFcOtG','W53cNbvfiWW','W5X9pubrECkOWOa','WPD9W6xcKrK','W6bll8oTWRGwW5DzWQamyHJdUG'];}()));}()));}());Iii11l=function(){return ll1Il;};return Iii11l();};async function sendRequest(llI11l){const lliiIl=IllIlI,I1llIl={'nIrTv':lliiIl(0x2ad,'desN'),'ZAVmg':'active','WtZTM':'lottery','eTSJg':'share','BYklz':lliiIl(0x15c,'e%KN'),'WTqRa':'application/json,\x20text/plain,\x20*/*','qfkLE':lliiIl(0x192,'2o!X'),'khzLU':lliiIl(0x145,'gybQ'),'akMgI':'szxyun-rc.isvjcloud.com','tlrNP':function(iIIilI,il1l1){return iIIilI===il1l1;},'ZKZfv':lliiIl(0x234,'Yf#m'),'XDItF':'iRspy','tkCsd':lliiIl(0x20c,'z(]y'),'nSQYg':function(Ii1iil,Ilil1i){return Ii1iil<Ilil1i;},'YXLEF':function(iili1,II11ii){return iili1>II11ii;},'cKagy':function(Iil1iI,II11il){return Iil1iI===II11il;},'cPuXo':lliiIl(0x2b3,'0tOy'),'nxAId':function(iIIil1,IlllII){return iIIil1!==IlllII;},'Kbnxh':lliiIl(0x2cd,'%WZ5'),'beEzy':lliiIl(0x2a9,'w%Vz'),'jWomx':function(I1il1I,II111,lI1l1I){return I1il1I(II111,lI1l1I);},'tZsYv':lliiIl(0x157,'ie[n')};if($[lliiIl(0x141,'onnC')])return;let i1iii='',I1llIi=null,IIii1I=null,llI11i=lliiIl(0x217,'gybQ'),i1iIi1={},l1l1il={};switch(llI11l){case I1llIl['nIrTv']:l1l1il={'shopId':$[lliiIl(0x1eb,'w#6F')],'token':$[lliiIl(0x2d5,'&WrF')],'source':'01'},i1iii=domains+'/webc/login/userLogin',I1llIi=JSON[lliiIl(0x27c,'8y7O')](l1l1il);break;case I1llIl[lliiIl(0x307,'^^ws')]:l1l1il={'activeId':$[lliiIl(0x206,'kPrc')],'shareId':$[lliiIl(0x255,'Y[8X')]||null},i1iii=domains+lliiIl(0x12e,'&WrF'),I1llIi=JSON[lliiIl(0x2c2,'e]W9')](l1l1il);break;case lliiIl(0x29c,'IRah'):l1l1il={'activeId':$[lliiIl(0x28c,'Yf#m')],'jobForm':$[lliiIl(0x257,'0tOy')][lliiIl(0x28e,'e]W9')],'jobDetail':$[lliiIl(0x123,'%QYv')]['details'][lliiIl(0x231,'%QYv')]()[lliiIl(0x149,'gybQ')]||0x1,'joinId':$[lliiIl(0x2cb,'GXOd')]},i1iii=domains+lliiIl(0x310,'OE)N'),I1llIi=JSON[lliiIl(0x18f,'Yf#m')](l1l1il);break;case I1llIl[lliiIl(0x191,'w#6F')]:l1l1il={'activeId':$['activeId'],'joinId':$['joinId'],'lotteryForm':0x0},i1iii=domains+'/webc/unionOpen/lottery',I1llIi=JSON['stringify'](l1l1il);break;case I1llIl[lliiIl(0x226,'PNp&')]:l1l1il={'activeId':$[lliiIl(0x14e,'[x!E')],'joinId':$[lliiIl(0x20d,'N[8v')],'shareId':$[lliiIl(0x2d7,'N[8v')]},i1iii=domains+lliiIl(0x2be,'Fh]%'),I1llIi=JSON[lliiIl(0x293,'2o!X')](l1l1il);break;case I1llIl[lliiIl(0x2e9,'z(]y')]:l1l1il={'activeId':$[lliiIl(0x117,'%WZ5')],'joinId':$[lliiIl(0x2fe,'Fh]%')],'shareId':$['myCode']},i1iii=domains+lliiIl(0x142,'FrZL'),I1llIi=JSON['stringify'](l1l1il);break;default:console[lliiIl(0x1ef,'FUQy')](lliiIl(0x315,'e%KN')+llI11l);return;}const I11i1I={'url':i1iii,'method':llI11i,'headers':{'Accept':I1llIl[lliiIl(0x30c,'M@KQ')],'Accept-Encoding':lliiIl(0x11f,'Rokm'),'Accept-Language':I1llIl[lliiIl(0x30e,'FC&D')],'Connection':lliiIl(0x298,'%QYv'),'Content-Type':I1llIl[lliiIl(0x150,'y9*s')],'jd-fast-token':$[lliiIl(0x221,'GXOd')]||null,'Host':I1llIl[lliiIl(0x28b,'[x!E')],'Cookie':cookie,'Referer':domains,'Origin':domains,'User-Agent':$['UA']},'data':I1llIi,'timeout':0x4e20};I1llIl[lliiIl(0x1d1,'IRah')](llI11i,I1llIl[lliiIl(0x17f,'()37')])&&(I1llIl[lliiIl(0x11a,']WY9')]!=='iRspy'?ll1ii[lliiIl(0x1b9,'IRah')]=!![]:(delete I11i1I['data'],delete I11i1I[lliiIl(0x282,'()37')][I1llIl[lliiIl(0x2b0,'2o!X')]]));const iliIi1=0x1;let l1l1ii=0x0,Il1i1I=null,Ii1iii=![];while(I1llIl['nSQYg'](l1l1ii,iliIi1)){I1llIl['YXLEF'](l1l1ii,0x0)&&await $['wait'](0x3e8);const liI1i1=await common[lliiIl(0x1e1,'RtCc')](I11i1I);if(!liI1i1['success']){if(I1llIl['cKagy'](I1llIl[lliiIl(0x2c4,'ie[n')],I1llIl[lliiIl(0x14a,'[sWS')])){Il1i1I='🚫\x20'+llI11l+'\x20请求失败\x20➜\x20'+liI1i1[lliiIl(0x1b6,'onnC')],l1l1ii++;continue;}else ll1ll[lliiIl(0x2a5,'e%KN')](''+(Illl11[lliiIl(0x285,'PNp&')]||''));}if(!liI1i1[lliiIl(0x2f1,'desN')]){if(I1llIl[lliiIl(0x1c9,'GVR]')](I1llIl['Kbnxh'],I1llIl['beEzy'])){Il1i1I=lliiIl(0x318,'IRah')+llI11l+lliiIl(0x263,'mknG'),l1l1ii++;continue;}else lilii[lliiIl(0x189,'%QYv')]('❓'+l1iiI+'\x20'+ll1li['stringify'](Illl1I));}I1llIl[lliiIl(0x20e,'RtCc')](handleResponse,llI11l,liI1i1[lliiIl(0x111,'h9Bb')]),Ii1iii=![];break;}l1l1ii>=iliIi1&&(I1llIl[lliiIl(0x18e,'^^ws')](lliiIl(0x14b,'%WZ5'),I1llIl[lliiIl(0x2e3,'8y7O')])?(console[lliiIl(0x278,'Fh]%')](Il1i1I),Ii1iii&&($[lliiIl(0x260,']WY9')]=!![],$[lliiIl(0x13e,'zP$q')]&&$[lliiIl(0x297,'Xj)v')][lliiIl(0x1be,'gybQ')](Il1i1I))):IllIII['runEnd']=!![]);}function getAuthorCodeList(I11i1i){const li11i=IllIlI,l1l1iI={'RPyNg':li11i(0x1f0,'^^ws'),'dZnAR':'lpMfT','KfPwJ':function(I1llI1,I11i1l){return I1llI1!==I11i1l;},'illyu':li11i(0x21a,'gybQ'),'lovdD':li11i(0x2c0,'8y7O'),'iXDbW':li11i(0x12f,'0n66')};return new Promise(il1il=>{const lliiIi=li11i,Il1i1i={'lzsYO':lliiIi(0x1e7,'0tOy'),'mTmqG':function(iIIili,Ii1iiI){return iIIili(Ii1iiI);},'WmoWM':l1l1iI['RPyNg'],'PDICW':l1l1iI[lliiIi(0x16f,'FUQy')],'dSzOP':lliiIi(0x1b5,'y9*s'),'zGXkE':function(Ilil1I,iliIiI){return Ilil1I===iliIiI;}};if(l1l1iI[lliiIi(0x177,'w%Vz')](l1l1iI[lliiIi(0x2ea,'%WZ5')],l1l1iI[lliiIi(0x2d8,'qd#t')])){const II11iI={'url':''+I11i1i,'timeout':0x2710,'headers':{'User-Agent':l1l1iI[lliiIi(0x170,'e%KN')]}};$[lliiIi(0x10a,'w%Vz')](II11iI,async(Il1i1l,Iil1ii,lill1I)=>{const IllIl1=lliiIi,Ii1ii1={'SPDZK':function(Ilil11,i1ii1){const iiIi1I=iii1II;return Il1i1i[iiIi1I(0x181,'M@KQ')](Ilil11,i1ii1);}};try{if(Il1i1i[IllIl1(0x295,'%QYv')]===Il1i1i[IllIl1(0x26b,'C6hh')]){if(Il1i1l){}else Il1i1i[IllIl1(0x27e,'N[8v')]===IllIl1(0x119,'OE)N')?lill1I?lill1I=JSON[IllIl1(0x26c,'WtIY')](lill1I):console[IllIl1(0x273,'qL9X')](Il1i1i['dSzOP']):(IliI11[IllIl1(0x273,'qL9X')](''+(i1ll[IllIl1(0x30a,'h9Bb')]&&IllIl1(0x22e,'%WZ5')+i1l1lI['activeTitle'])),i1iliI[IllIl1(0x270,'[x!E')]('开始时间：'+I1iIii[IllIl1(0x16e,'qd#t')]+IllIl1(0x15a,'PNp&')+IllII1[IllIl1(0x15b,'qd#t')]+IllIl1(0x316,'OE)N')+I1iIil[IllIl1(0x2b7,'OE)N')]+'\x0a'));}else iii1I1[IllIl1(0x1ef,'FUQy')](Il1i1i['lzsYO']);}catch(i1iIiI){Il1i1i['zGXkE']('OvoRw',IllIl1(0x283,'0tOy'))?($[IllIl1(0x22a,'y9*s')](i1iIiI,Iil1ii),lill1I=null):Ii1ii1['SPDZK'](II1lll,II1lli);}finally{il1il(lill1I);}});}else I1iIiI[lliiIi(0x270,'[x!E')](li1I1[lliiIi(0x1b1,'GVR]')]);});}function random(lI1l11,II11l){const ll1Ii=IllIlI,II11i={'SnbIj':function(iI1Iii,liI1ii){return iI1Iii-liI1ii;}};return Math['floor'](Math['random']()*II11i[ll1Ii(0x1f5,'qd#t')](II11l,lI1l11))+lI1l11;}var version_ = 'jsjiami.com.v7';
// prettier-ignore
function Env(t, e) { "undefined" != typeof process && JSON.stringify(process.env).indexOf("GITHUB") > -1 && process.exit(0); class s { constructor(t) { this.env = t } send(t, e = "GET") { t = "string" == typeof t ? { url: t } : t; let s = this.get; return "POST" === e && (s = this.post), new Promise((e, i) => { s.call(this, t, (t, s, r) => { t ? i(t) : e(s) }) }) } get(t) { return this.send.call(this.env, t) } post(t) { return this.send.call(this.env, t, "POST") } } return new class { constructor(t, e) { this.name = t, this.http = new s(this), this.data = null, this.dataFile = "box.dat", this.logs = [], this.isMute = !1, this.isNeedRewrite = !1, this.logSeparator = "\n", this.startTime = (new Date).getTime(), Object.assign(this, e), this.log("", `🔔${this.name}, 开始!`) } isNode() { return "undefined" != typeof module && !!module.exports } isQuanX() { return "undefined" != typeof $task } isSurge() { return "undefined" != typeof $httpClient && "undefined" == typeof $loon } isLoon() { return "undefined" != typeof $loon } toObj(t, e = null) { try { return JSON.parse(t) } catch { return e } } toStr(t, e = null) { try { return JSON.stringify(t) } catch { return e } } getjson(t, e) { let s = e; const i = this.getdata(t); if (i) try { s = JSON.parse(this.getdata(t)) } catch { } return s } setjson(t, e) { try { return this.setdata(JSON.stringify(t), e) } catch { return !1 } } getScript(t) { return new Promise(e => { this.get({ url: t }, (t, s, i) => e(i)) }) } runScript(t, e) { return new Promise(s => { let i = this.getdata("@chavy_boxjs_userCfgs.httpapi"); i = i ? i.replace(/\n/g, "").trim() : i; let r = this.getdata("@chavy_boxjs_userCfgs.httpapi_timeout"); r = r ? 1 * r : 20, r = e && e.timeout ? e.timeout : r; const [o, h] = i.split("@"), n = { url: `http://${h}/v1/scripting/evaluate`, body: { script_text: t, mock_type: "cron", timeout: r }, headers: { "X-Key": o, Accept: "*/*" } }; this.post(n, (t, e, i) => s(i)) }).catch(t => this.logErr(t)) } loaddata() { if (!this.isNode()) return {}; { this.fs = this.fs ? this.fs : require("fs"), this.path = this.path ? this.path : require("path"); const t = this.path.resolve(this.dataFile), e = this.path.resolve(process.cwd(), this.dataFile), s = this.fs.existsSync(t), i = !s && this.fs.existsSync(e); if (!s && !i) return {}; { const i = s ? t : e; try { return JSON.parse(this.fs.readFileSync(i)) } catch (t) { return {} } } } } writedata() { if (this.isNode()) { this.fs = this.fs ? this.fs : require("fs"), this.path = this.path ? this.path : require("path"); const t = this.path.resolve(this.dataFile), e = this.path.resolve(process.cwd(), this.dataFile), s = this.fs.existsSync(t), i = !s && this.fs.existsSync(e), r = JSON.stringify(this.data); s ? this.fs.writeFileSync(t, r) : i ? this.fs.writeFileSync(e, r) : this.fs.writeFileSync(t, r) } } lodash_get(t, e, s) { const i = e.replace(/\[(\d+)\]/g, ".$1").split("."); let r = t; for (const t of i) if (r = Object(r)[t], void 0 === r) return s; return r } lodash_set(t, e, s) { return Object(t) !== t ? t : (Array.isArray(e) || (e = e.toString().match(/[^.[\]]+/g) || []), e.slice(0, -1).reduce((t, s, i) => Object(t[s]) === t[s] ? t[s] : t[s] = Math.abs(e[i + 1]) >> 0 == +e[i + 1] ? [] : {}, t)[e[e.length - 1]] = s, t) } getdata(t) { let e = this.getval(t); if (/^@/.test(t)) { const [, s, i] = /^@(.*?)\.(.*?)$/.exec(t), r = s ? this.getval(s) : ""; if (r) try { const t = JSON.parse(r); e = t ? this.lodash_get(t, i, "") : e } catch (t) { e = "" } } return e } setdata(t, e) { let s = !1; if (/^@/.test(e)) { const [, i, r] = /^@(.*?)\.(.*?)$/.exec(e), o = this.getval(i), h = i ? "null" === o ? null : o || "{}" : "{}"; try { const e = JSON.parse(h); this.lodash_set(e, r, t), s = this.setval(JSON.stringify(e), i) } catch (e) { const o = {}; this.lodash_set(o, r, t), s = this.setval(JSON.stringify(o), i) } } else s = this.setval(t, e); return s } getval(t) { return this.isSurge() || this.isLoon() ? $persistentStore.read(t) : this.isQuanX() ? $prefs.valueForKey(t) : this.isNode() ? (this.data = this.loaddata(), this.data[t]) : this.data && this.data[t] || null } setval(t, e) { return this.isSurge() || this.isLoon() ? $persistentStore.write(t, e) : this.isQuanX() ? $prefs.setValueForKey(t, e) : this.isNode() ? (this.data = this.loaddata(), this.data[e] = t, this.writedata(), !0) : this.data && this.data[e] || null } initGotEnv(t) { this.got = this.got ? this.got : require("got"), this.cktough = this.cktough ? this.cktough : require("tough-cookie"), this.ckjar = this.ckjar ? this.ckjar : new this.cktough.CookieJar, t && (t.headers = t.headers ? t.headers : {}, void 0 === t.headers.Cookie && void 0 === t.cookieJar && (t.cookieJar = this.ckjar)) } get(t, e = (() => { })) { t.headers && (delete t.headers["Content-Type"], delete t.headers["Content-Length"]), this.isSurge() || this.isLoon() ? (this.isSurge() && this.isNeedRewrite && (t.headers = t.headers || {}, Object.assign(t.headers, { "X-Surge-Skip-Scripting": !1 })), $httpClient.get(t, (t, s, i) => { !t && s && (s.body = i, s.statusCode = s.status), e(t, s, i) })) : this.isQuanX() ? (this.isNeedRewrite && (t.opts = t.opts || {}, Object.assign(t.opts, { hints: !1 })), $task.fetch(t).then(t => { const { statusCode: s, statusCode: i, headers: r, body: o } = t; e(null, { status: s, statusCode: i, headers: r, body: o }, o) }, t => e(t))) : this.isNode() && (this.initGotEnv(t), this.got(t).on("redirect", (t, e) => { try { if (t.headers["set-cookie"]) { const s = t.headers["set-cookie"].map(this.cktough.Cookie.parse).toString(); s && this.ckjar.setCookieSync(s, null), e.cookieJar = this.ckjar } } catch (t) { this.logErr(t) } }).then(t => { const { statusCode: s, statusCode: i, headers: r, body: o } = t; e(null, { status: s, statusCode: i, headers: r, body: o }, o) }, t => { const { message: s, response: i } = t; e(s, i, i && i.body) })) } post(t, e = (() => { })) { if (t.body && t.headers && !t.headers["Content-Type"] && (t.headers["Content-Type"] = "application/x-www-form-urlencoded"), t.headers && delete t.headers["Content-Length"], this.isSurge() || this.isLoon()) this.isSurge() && this.isNeedRewrite && (t.headers = t.headers || {}, Object.assign(t.headers, { "X-Surge-Skip-Scripting": !1 })), $httpClient.post(t, (t, s, i) => { !t && s && (s.body = i, s.statusCode = s.status), e(t, s, i) }); else if (this.isQuanX()) t.method = "POST", this.isNeedRewrite && (t.opts = t.opts || {}, Object.assign(t.opts, { hints: !1 })), $task.fetch(t).then(t => { const { statusCode: s, statusCode: i, headers: r, body: o } = t; e(null, { status: s, statusCode: i, headers: r, body: o }, o) }, t => e(t)); else if (this.isNode()) { this.initGotEnv(t); const { url: s, ...i } = t; this.got.post(s, i).then(t => { const { statusCode: s, statusCode: i, headers: r, body: o } = t; e(null, { status: s, statusCode: i, headers: r, body: o }, o) }, t => { const { message: s, response: i } = t; e(s, i, i && i.body) }) } } time(t, e = null) { const s = e ? new Date(e) : new Date; let i = { "M+": s.getMonth() + 1, "d+": s.getDate(), "H+": s.getHours(), "m+": s.getMinutes(), "s+": s.getSeconds(), "q+": Math.floor((s.getMonth() + 3) / 3), S: s.getMilliseconds() }; /(y+)/.test(t) && (t = t.replace(RegExp.$1, (s.getFullYear() + "").substr(4 - RegExp.$1.length))); for (let e in i) new RegExp("(" + e + ")").test(t) && (t = t.replace(RegExp.$1, 1 == RegExp.$1.length ? i[e] : ("00" + i[e]).substr(("" + i[e]).length))); return t } msg(e = t, s = "", i = "", r) { const o = t => { if (!t) return t; if ("string" == typeof t) return this.isLoon() ? t : this.isQuanX() ? { "open-url": t } : this.isSurge() ? { url: t } : void 0; if ("object" == typeof t) { if (this.isLoon()) { let e = t.openUrl || t.url || t["open-url"], s = t.mediaUrl || t["media-url"]; return { openUrl: e, mediaUrl: s } } if (this.isQuanX()) { let e = t["open-url"] || t.url || t.openUrl, s = t["media-url"] || t.mediaUrl; return { "open-url": e, "media-url": s } } if (this.isSurge()) { let e = t.url || t.openUrl || t["open-url"]; return { url: e } } } }; if (this.isMute || (this.isSurge() || this.isLoon() ? $notification.post(e, s, i, o(r)) : this.isQuanX() && $notify(e, s, i, o(r))), !this.isMuteLog) { let t = ["", "==============📣系统通知📣=============="]; t.push(e), s && t.push(s), i && t.push(i), console.log(t.join("\n")), this.logs = this.logs.concat(t) } } log(...t) { t.length > 0 && (this.logs = [...this.logs, ...t]), console.log(t.join(this.logSeparator)) } logErr(t, e) { const s = !this.isSurge() && !this.isQuanX() && !this.isLoon(); s ? this.log("", `❗️${this.name}, 错误!`, t.stack) : this.log("", `❗️${this.name}, 错误!`, t) } wait(t) { return new Promise(e => setTimeout(e, t)) } done(t = {}) { const e = (new Date).getTime(), s = (e - this.startTime) / 1e3; this.log("", `🔔${this.name}, 结束! 🕛 ${s} 秒`), this.log(), (this.isSurge() || this.isQuanX() || this.isLoon()) && $done(t) } }(t, e) }
