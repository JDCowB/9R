/*
PRO抽奖机任务

jd_pro_lottery_task_id // 活动ID
jd_pro_lottery_task_opencard // 是否入会，默认不入会

走代理，不然403


cron:1 1 1 1 * jd_pro_lottery_task.js

*/

const $ = new Env('PRO抽奖机任务');
var iｉl='jsjiami.com.v7';const lI1lil=iii1II;function Iii11l(){const il1iIi=(function(){return[...[iｉl,'knUjxOsKjfiamPSSi.UpcQoElmN.kDEvwY7IkDyu==','WPlcT3BcVCoeWO9TW6Sn','dNVcPSkaW7CG','lgehD8kzWOyxW60n','WOVNUlJMNltVV7lKUO3MRlNMLPdNG6dMNQBLKQddRW','WR5KecFdJG','WOZcIhXXxxOZW6ZcUSkNWPNcRa','iSkuW4fNya','WOJdO8kBzG','k8ksW5vwtSoudSo9WR8bWQCxwSkXsG','WOqbW6ZcK8klW7tcPSkXWPVdISkteCkMW40','C34HzG','mNZcPSkFW7aLW6BdGq','uSkzW67cLKS','g8obW73cKH7cL1Hw','WQZcK0RcTmoq','W4FcHaW','W6u4W7Paqa','rSoSh8o0AG','aCoIW5BcHaO','hSojW7C','W7KeWQhcUmkIjXW','fmkZDJZcHSkVWQVdNSobaSoXw1dcGSo2Fci','E8oOlCoDxW','eCk3W4O+','pMGrEGRdR1a','smodWRRcGINcMmoMrCot','WQ5mp8oSW5O','W7nQhCksCW','6kg85AsW5PMx5lUK5OI86lso','hmkmW6b7tG','5y636ywc6k6i5PQYW5ZdRmoBECkJWQ7cReRdJxC','WPxcOMtcPmoZWRrXW6GC','WOzZcCo8W4q','CrtdICopWOG','W5fopW','W41DpCogW5m2W6mXWQW8WQ/cTq','b8k/W7jNz8o3dSoqWOizWOKSDSknyCo3sGTjmtCqW7K0bCoL','smkvW63dHwm','W6uoWORcJSo/CMeqFv7dMbi','u8oqW4aBDK83W5XQCG','WQ1JWRGWo8oac8ogWQZdJ3FdLCke','WRPaW6/dT8oW','WOJcK31PEhS','bLrkWPmpWOFcPaq','WQLfW5RdS8os','WRrjjJJdHHLTWRqkiW','WR5lW7JdOCoPANm','x8oIWP7cQJq','W78VW4C7oh4JiG','WPRdKSk4W4ZdKSkNWOlcPmo+','ySk/W5eoiG','W5JcNGJcNCoJAWO','BCk9WPbFWQVcVmkccwG','WRzwodldHH1cWQeokuxdHK0AWPtcNSowW5nuW4pcRWldL1ldGLhdRCkBWOVdLJFdS8oS','uuNdKmkjW4RdI1G','C8olWQ9BW6S','xtldP07dUc7cLW','a8oIgW','sW7dTmoSWPZdOCo2W77dOSojxCkRsbyoW7JdGhxcJa','WOVcL2LSqq','tSkwW4tcTx4','xSo1WPGFs3ZcPxft','WQzrlsZdMWDwWRWinKRcMKmpWPZcMmkqWPHmW5ZcRXxcJKddGf0','eSkZW7mZWPO','WOySr07dJ2CT','vLRdLSkI','WRpdUCoVW4CKWPrgW6TGBSknsq','W7yzWPBcHCoOtu0h','WR9bW6W','W7SVW54+l2G7m27dUsxdJSocoa','cSkOCZVcNSkEWOxdLSoq','WRpcPwdcPmojWOf1W6a','WO8DWOm1dW','W4JcMq7cN8oYFq','B8kPWQbeWRu','vmoEW5OC','ngtdS8oc','WQjhDSoplG','tftdM8kJW47dGwVcTCoRWRX4cmk1imo5','WQnCW6tdJCoGyMi','yN4MBa7dS0pdSs0AWOBcJa','y8kUWOf0WPRcVSk6awldUW','m8o9W4CbW4ldQmoAkxZdQd7cUrq','rSo8WOG+Ba','WOSjWQKdfmkeWPm','yEw/UowLKU+9PUAAHoEbSUweGUADJEwtJei','W7qdW5fYiCo+W6FdHq','meVcKCkyW4O','FchdPq','WOO5tCopW5ZdRmkgW4y','mSkCW4jiBmoqjmo9','W6usWPZcTCoKuMe','5lIO5yQp5OQB5yInWRiT','WQZdUIGdAvi','WPtcNM9Gqa','W5pcSCoqWR4yB8kPDh/dL8kUz8kZfW','WPpdI8kL','WOtcUwRcUSoIWOf2','6koe5AsS5PI25lMf5OUP6lAt','xCoqW4OiC007W5X0CSkRg8oVuq','WOCMuW','WO7dP8kiBINdPt85aa','WPddTCkiW4nppa','z3FcPmohgSk1yxzLWO8q','p3/dSSowzSkT','WR5sltm','kSoZW4JcPr0','WObVCW','iMRdPmoqyCkOpM8','ACoyjSoEvmo6sX3cTSkrCmkL','W5KvWRfQW4VcTCkuW48','h8oLW5xcKtO','uZJdULVdSc7cVmo6omo0','WOG9umoaW7FdV8kIW4C','EdFdUK0GWQH8WRddOq','vSkpW7RcGJNcMKyCW43cUmkzW6tdSZLTWOO','WOWSqhhdGwCHW5BcL8oiiflcQx8','tSkxW7BcPvWWWRZdT8oi','FNuTELhdS2VcRZOFW4hcOCoVdCkixa','WRVdVI4Qmvjf','vrldI0vkWOm','W4FcHaZcU8o0AG','WPKSq1ZdNgqzW43cPCosnu/cQhu'],...(function(){return[...['wa7dRuiC','u8odWQ/cGc7dTSkGb8oxW6lcPCoWWPX2lw5gWOtcVCoaW7biyvO1','gUE6NEAFNEAvOoMuSE+9MW','WOVLV6VLPQdVV7lMM5ZNGQhLH7tMNlZLK6tdUq','WOpcUhm','fK5pWRiF','5RAt5yQh5lMc5A+X5z6j5zkKW7G','Emolj8oAAmowqWS','W6SiW5X6mCoOW4VdKG','AZBcQSkgeSo0BJDSW44','WRFdS8kdW7rVoCo1iW','WQqUwM/dTW','WRPeamoPW4xcHCkT','p8keW4HAd8o8bmk1WQ83W6iOC8o5q8ok','WRPjlcVdGXTHWRqui2lcH0eg','k8kpvrRcPW','WRNdOZmw','nSo1mCoQWQq','o8kBAbpcGG','aCkwwJ/cPq','pmkuqc7cNq','DsddPSocWQWSW5e','r8oEW4Cj','g8opW6hcKdNcKxTsW7lcUa','WP4pW6hcKG','xmoqW4K','ECkYW6BcJNS','6kgc5Aw45PQx5lMC5OM06lEH','W67cRgWgqgvLWRRdRa','WQv0W4hdKCoB','DHRdKCo4WPe','WQnhoZxdOr9oWRa','W5K7W702cG','D8kJWOzuWOdcMCkbb2tdTY8','ngNdSCozsW','sGldHKfBWPJdQq','WO7dJbiKyW','vGhdMhq1','A8kFW4pcNNK','WO7dR8kb','kSkDW6az','W7BORBZMS5/LPPNOTBpdUEkEV8k4','6lES5y+b5PAp5PE+','imkEoCoJA2xdSq','r8osmSkNWO4','WPXogCo5W5G','5lIA5yMg5AwL5yol5BEd57Uq5ycT5AYp5lMOWRG','uCo/WPSdsu3cIhnIWQjUFG','sCkzW5BcP0C','cKHBWPaiWQ7cParyWO4+zq','z8kvW7CKbq','aLvnWOOwWOBcHHjFWQ46DmoTWRFdPh/dSG','WPGSvmoYW5a','WQNNUPNMN7BVVzpKUzBMRk3MLOpNG7/MNARLKRaV','W7aEW69+tG','ea3cH8oVWPFcNw/cU8oxWP5ZeG','DwKJyG7dMG','5Aw35yQk5OQV5yMj','WPm3wSorW77dQmkSW4zTjCo6FmkhWRVcRa','lCofW6FcHXO','W6KiWP3cJmoewW','wtNdSfJdOq','W5pdKc5GDvSJW7NcIG','WQnBW7JdUG','5Rsh5yI45AEv54cD54IJ','WPJdH8kUW5hdRmkMWOS','xtJdSeJdTsZcTCo+iCoqW5FdHSoFW7T4xSo1','B8kIWPfeWPJcV8kPdxVdNYNcMJuHW7BcT8oo','W5TBlSoBW5uVW68VWRO','WPKQuCorW6ldMCksW5n8','BSkwa8oyySoeW5FdVW','iK98WRii','xrJdSunnWOddQmkwrq','W4FcPHlcQmol','WRHdaCoZW4pcJG','zSkkW6JcSem','wtNdT1hdRc3cL8oO','xdJdSW','WP3dG8kUW73dQCkUWOdcOmogWPlcJSkacq','W4TaiCopW4GCW4GJWRi4','W6yvF27cMKyvWPWafKlcP38','yCofmmoesSosAqVcSCkXDmk0fI7dISkPW44','dmkLzs3cMW','wCo+WPSItexcQq','WPNdJCk6','WPldSSkjW5Ljn8oS','vSk4fmoCEW','hCosW73cMslcU1baW6ZcVmkCW6q','WPlcT3BcVCojWOf1W6a','WPKSruJdI3m8','W6ywEM7cMuWxWPqumf/cVM8','5REN5yIZeYBVVj4','5lMK5yU15OQD5yQxm8ow','sSokWRu1DG','zchdL8oMWRuKW4ztWORcQmob','W6WXW7LlzSkzumoNWQe','eMJcGCkxW6O','WOZcLh8','j3Wp','W7S7W5LPESkDsCo7WQO','WRLpW4JdKSk7cMi2AhddNre','DSkyfW','W5LZWOOdW4/cL0G','W7m7W6O','xdldULRdRse','c1TDWP4','gCodW7VcSZ7cKMfAW7lcUa','WQJdUIKjseHcWRq','5lMT5yQQ5AwA6lEKcSom','WOtcJNW','ESoQpmkhWRupW7jBWQq','h8kfW7X1zW','WOq8qhVdGMeV','W6JcO29BnXyjW7xdQs3dVHpcLZ/cK8kdkufhWPGrlSoIWPqUFmkQatuxW7tcIq','WORcUwi','5Rsx5yUd5zkn56wq77+NWRy','W4XVcCkrWQhcVmoDW6fQbCo5q8kq','4P6YEoACLoIbMEAVSEEJO+wNR+EsPtK','5RA75yUu5Bsk5lMVWQ0','lCkxW74','WQ7cQ25Qrq','W47cHr0','qatdPW','W4rUWRyEWR0','vmoKWOSgvHldOZnxWRn0o2SEqmkoW6BcMmo/WQiXWO8XFmoy'],...(function(){return['WO4lW7ZcQSkgW6xcGCkJWPZdRSkQd8kwW4FdVIldOmklW7O','CYRdSG','WOeTA03dNg8xW5tcQ8oinupcRNuifKddH8kPW4KFr8opfmoFthjP','iCkulq','tWtdRSogWPtdSG','W49DimoCW5eVW78YWRO','ceHgWOOkWRFcUaDo','6kcd5As55PMq5lIt5OIY6lsl','owygr8khWRy','vmkvW44jna','4P2tzEIgJ+ACLoI+GoIISoMbGUwlSos4GUMvMUIUUmkP','WO3cIh8','WOO8WQafdG','vrJdGG','a1vo','gCoEbSoBWRK','WPPlpcFdPG','W6mDWPBcJ8oIs1SmFLRdKsJdKSoNWOhcGa','W5C+WQbJW6C','WRvcW6tdVCo6','tCkDW5BcJbOOWRO','yIVdTCo3WRCLW6DKWORcR8orzG','CEA2T+ILQUwwGUwtRGy','WPddNJWOBq','ksmHDXxdKLxcRqWEWOpcJmolrmk6qSowW508rZpdT8kwWORdNCoDFa','W4ibWRzhW6NcTCkE','WRxdTt4hFa','Fmoyo8oUtSoywG','iCo+WO9uyIvsjrNdPhtcGhhcUNxcOG','DCkUW5qll0qfyuO','yN4MBa4','5Rs55yML5Bsh5lQ/W5q','FSkyhSow','W5n5WPO+WPBcGxVcMYFdISkgW63cPJVdImo0WRG','cCoKba','Amksb8osxSobW6VdR8kVW61kW7ldGmk8','xSoEW4my','WOFdSSkuW6LtfCo9nxxdTmk+rq','WO/dR8kcW7nnpCoFi3ldLmk6vmkQeSo6BZi','BXpdK8oxWRy','B8o5pCkwWQO2','WQvdpZ/dNrPYWQagkf/cGfmq','dmoUW6hcGWG','WPykWQGEkG','k8koW5y','cCkmWP5okr0FW6HHwmkaeW','WOBdOryrqG','DmkwhCow','WR5bW6/dP8oKAfhdSmkuWPfYWQFcTSo7W5NcS8k8','WPW9wConW7ZdMCkcW458','smkmW7JcTee','WPyuWQiPemkoWQm6WOOhW5pdHa','emoDwSkzbSkpWPdLVPRLPixJGPpKUPlKUOFOTPlLJli','BmkwmCo1AW','WR9gqmo8aa','8ysyQCop','zCoEmCoCB8ot','oUISGoAWSUwrVUw6Umkf','WPGAWQGYe8kFWRG6WQ4dW47dSmo7xv7cGa','4PQ/zEITOUwfSowVIUs6TEw/GoILGEEyGoEpRowJLownU+MeLUwrO+whU+I9ToIGN+IeM+AFVG','5REq5yUH5BEg5lQZWO4','sqldPa','vSoyWR/cHthcQCoitCocW5pcR8kQWPGUlN4r','qrvdWPS5WOZcRHXcWOO','WPtcO2VcK8oPWOq','WOZcIhXXxxO1W6lcNCkJWQpcQCkLW5S','D8kwaa','fw7cRCkjW5eP','5lMt5yQo5Aw+6lAmWPTB','W7OvWPVcSmoE','pCkjjCopyM3dOa','Dmk9W48ijf0byvlcVhlcHW','rGNdHSoXWQ4','smo/WQOgvu3cVL9xWRb4','ECkWW6VcVK0','WRRdPmo6','iSkxgCoiEq','nSk6W6m5WPm','WPivWQuWcCkpWOiM','WOZdOCklW6m','WPddGCkaW4r0','W6CoWPFcLmo9A30tAW','WPKSq1ZdNgqoW5hcQSovmK4','W4GDWQy','rvRdI8k3','WOZdLCkKW7rh','WO3NUQFMNP3VVi3KUO7MR7xMLjdNGjpMNOlLKyzG','yrZdT2X3','WRzwodldHH1cWQeokuxdHL9eWOZcH8knW55gW4NcPrVdLvFdNfZdOCkBW4tcMxNcUCkI','WP7dLSkNW5ldQa','qqtdPmovWPhdSmouW6JdOSojtSkVDWuvW7/dKa','ra7dOCoeWPJdP8oG','WP4dWQ8O','vmoQW6SNDG','bNuGASkA','c8kPFaZcHmkU','zdZcOmkohmo4zuGIWOfgiCoS','abpdOfTiWRRdRa','W4SDWQXGW6NcUmka','44k75OY756wr44oV6k2X5ywq6i+o5y6pWOddQmo+W5lcJMO','W5CSWQbzW58','W53cSCoyn3lcIwaDaSoBW77dTfa','wd3dMgFdNG','WPBdQCklW6m','WO4GW6xcRCkG','lNpcRqfLW4vgWQVdJdm5W44','igisBCki','E8kRW6ixjh87FK7cQwhcH2dcP0/cSmotasZcIKhcNMJdSKyyxtrqWQvEW4pMMPZLKkZLHB7KVRpVVOBPUiVORl/KUQtLHkFKV5W','dEw8JowMN+AxTEMwIo++Pa','umoBpmkcWRy','W64UW6r5tW','kmkslG','WOldO8kcyG','W7TUgmkYuCklWPe','m3NdPCouxCkenNKIWPjhda','W4eBWQu','lmkxW70FWRlcRSolr8k/xCooWP0','umo/WPG','ECk7W4KxjsPlpudcRxZdJh/dShRcOmkCesJcUahcJ33dTrO','AsddU1W1WO5mWQq','bLrnWPOc','g1neWPO','lSkXoSo2BG'];}())];}())];}());Iii11l=function(){return il1iIi;};return Iii11l();};(function(II1ii,IIIIII,lillII,ii1ilI,lI1ll1,iIiI1,liil1I){return II1ii=II1ii>>0x9,iIiI1='hs',liil1I='hs',function(i11ii1,IlIliI,l1iII1,iiill1,lIli1i){const liil1i=iii1II;iiill1='tfi',iIiI1=iiill1+iIiI1,lIli1i='up',liil1I+=lIli1i,iIiI1=l1iII1(iIiI1),liil1I=l1iII1(liil1I),l1iII1=0x0;const IIIII1=i11ii1();while(!![]&&--ii1ilI+IlIliI){try{iiill1=parseInt(liil1i(0x1dc,'dhr('))/0x1+parseInt(liil1i(0x1d2,'laF$'))/0x2+parseInt(liil1i(0x25a,'MLkF'))/0x3+parseInt(liil1i(0x1ec,'6v9g'))/0x4+parseInt(liil1i(0x298,'AQ3]'))/0x5+parseInt(liil1i(0x307,'08Y@'))/0x6*(-parseInt(liil1i(0x322,'UI3U'))/0x7)+parseInt(liil1i(0x2cf,'dQ$V'))/0x8*(-parseInt(liil1i(0x256,'y9PL'))/0x9);}catch(I1lIlI){iiill1=l1iII1;}finally{lIli1i=IIIII1[iIiI1]();if(II1ii<=ii1ilI)l1iII1?lI1ll1?iiill1=lIli1i:lI1ll1=lIli1i:l1iII1=lIli1i;else{if(l1iII1==lI1ll1['replace'](/[xUlSnDPNYwufEpKkIQyO=]/g,'')){if(iiill1===IlIliI){IIIII1['un'+iIiI1](lIli1i);break;}IIIII1[liil1I](lIli1i);}}}}}(lillII,IIIIII,function(ii1ill,II1iI,llI1II,lIli1l,lillIi,illIi1,ii1ili){return II1iI='\x73\x70\x6c\x69\x74',ii1ill=arguments[0x0],ii1ill=ii1ill[II1iI](''),llI1II=`\x72\x65\x76\x65\x72\x73\x65`,ii1ill=ii1ill[llI1II]('\x76'),lIli1l=`\x6a\x6f\x69\x6e`,(0x159fab,ii1ill[lIli1l](''));});}(0x17c00,0x8b870,Iii11l,0xc0),Iii11l)&&(iｉl=`\xfac`);const jdCookie=require(lI1lil(0x234,'5VDi')),notify=require(lI1lil(0x20d,'F!pw')),common=require('./utils/Rebels_jdCommon'),{H5st}=require(lI1lil(0x2e3,'bGox')),isNotify=![];let cookie='';console[lI1lil(0x268,'$I6R')](''),console[lI1lil(0x2d4,'5^!B')](lI1lil(0x2f4,'PAYL')+$[lI1lil(0x244,'dQ$V')]+lI1lil(0x28e,'mNjT')),console[lI1lil(0x200,']QKj')]('jd_pro_lottery_task_id\x20//\x20活动ID'),console[lI1lil(0x2b4,'hCIj')](lI1lil(0x260,'vsM!')),console['log']('=========='+$[lI1lil(0x219,'!!S1')]+'提示结束=========='),console[lI1lil(0x27f,'dVgW')](''),$['fp']=randomString(0x20,'0123456789abcdef'),$[lI1lil(0x248,'$I6R')]=randomString(0x5a,lI1lil(0x294,'4QCY'))[lI1lil(0x1d6,'MM6q')]();const configCode=process[lI1lil(0x1f1,'dVgW')]['jd_pro_lottery_task_id']||lI1lil(0x1e9,'08Y@'),joinMember=process[lI1lil(0x2ef,'fe4E')][lI1lil(0x1f7,'5^!B')]===lI1lil(0x27a,'F!pw'),cookiesArr=Object[lI1lil(0x313,'%eVp')](jdCookie)[lI1lil(0x237,')&&2')](il1i1I=>jdCookie[il1i1I])['filter'](lI1li1=>lI1li1);function iii1II(_0x35050a,_0x58d453){const _0x3eec1c=Iii11l();return iii1II=function(_0xee035f,_0x54ffb0){_0xee035f=_0xee035f-0x1d0;let _0x5478e3=_0x3eec1c[_0xee035f];if(iii1II['cmHUTp']===undefined){var _0x26a3ff=function(_0x13a2d9){const _0x56a1c7='abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=';let _0x18817a='',_0x53ac8b='';for(let _0x2b7bbe=0x0,_0x1b1739,_0x1cf8fd,_0x45435b=0x0;_0x1cf8fd=_0x13a2d9['charAt'](_0x45435b++);~_0x1cf8fd&&(_0x1b1739=_0x2b7bbe%0x4?_0x1b1739*0x40+_0x1cf8fd:_0x1cf8fd,_0x2b7bbe++%0x4)?_0x18817a+=String['fromCharCode'](0xff&_0x1b1739>>(-0x2*_0x2b7bbe&0x6)):0x0){_0x1cf8fd=_0x56a1c7['indexOf'](_0x1cf8fd);}for(let _0xd89a8d=0x0,_0x20493b=_0x18817a['length'];_0xd89a8d<_0x20493b;_0xd89a8d++){_0x53ac8b+='%'+('00'+_0x18817a['charCodeAt'](_0xd89a8d)['toString'](0x10))['slice'](-0x2);}return decodeURIComponent(_0x53ac8b);};const _0x53c1a3=function(_0x395972,_0x4abaa4){let _0xd2a7a8=[],_0x18a521=0x0,_0x12c6a8,_0x37e25f='';_0x395972=_0x26a3ff(_0x395972);let _0x2b64ac;for(_0x2b64ac=0x0;_0x2b64ac<0x100;_0x2b64ac++){_0xd2a7a8[_0x2b64ac]=_0x2b64ac;}for(_0x2b64ac=0x0;_0x2b64ac<0x100;_0x2b64ac++){_0x18a521=(_0x18a521+_0xd2a7a8[_0x2b64ac]+_0x4abaa4['charCodeAt'](_0x2b64ac%_0x4abaa4['length']))%0x100,_0x12c6a8=_0xd2a7a8[_0x2b64ac],_0xd2a7a8[_0x2b64ac]=_0xd2a7a8[_0x18a521],_0xd2a7a8[_0x18a521]=_0x12c6a8;}_0x2b64ac=0x0,_0x18a521=0x0;for(let _0x321e21=0x0;_0x321e21<_0x395972['length'];_0x321e21++){_0x2b64ac=(_0x2b64ac+0x1)%0x100,_0x18a521=(_0x18a521+_0xd2a7a8[_0x2b64ac])%0x100,_0x12c6a8=_0xd2a7a8[_0x2b64ac],_0xd2a7a8[_0x2b64ac]=_0xd2a7a8[_0x18a521],_0xd2a7a8[_0x18a521]=_0x12c6a8,_0x37e25f+=String['fromCharCode'](_0x395972['charCodeAt'](_0x321e21)^_0xd2a7a8[(_0xd2a7a8[_0x2b64ac]+_0xd2a7a8[_0x18a521])%0x100]);}return _0x37e25f;};iii1II['WITIuW']=_0x53c1a3,_0x35050a=arguments,iii1II['cmHUTp']=!![];}const _0x3d1ceb=_0x3eec1c[0x0],_0x2f9a57=_0xee035f+_0x3d1ceb,_0x88e2bc=_0x35050a[_0x2f9a57];return!_0x88e2bc?(iii1II['FVmlfN']===undefined&&(iii1II['FVmlfN']=!![]),_0x5478e3=iii1II['WITIuW'](_0x5478e3,_0x54ffb0),_0x35050a[_0x2f9a57]=_0x5478e3):_0x5478e3=_0x88e2bc,_0x5478e3;},iii1II(_0x35050a,_0x58d453);}!cookiesArr[0x0]&&($[lI1lil(0x1d9,']QKj')]($[lI1lil(0x265,'MLkF')],'【提示】请先获取Cookie'),process[lI1lil(0x251,'jp#h')](0x1));!(async()=>{const i1l1iI=lI1lil,iI11II={'zxHUG':i1l1iI(0x230,'V)Cb'),'YpCEq':function(iIII1I,ilil1i){return iIII1I<ilil1i;},'xLdSH':function(IlIIi,IiI1l){return IlIIi+IiI1l;},'IDMLe':function(illlII,iIII11){return illlII(iIII11);},'olSXs':'pt_pin','gEZgj':function(IiI1i,llll1,lil11l){return IiI1i(llll1,lil11l);},'kNcKQ':i1l1iI(0x211,'vsM!'),'ktzpe':function(i1i1Il,I1lIl1,lil11i){return i1i1Il(I1lIl1,lil11i);},'gQZSS':'ABCDEFGHIJKLMNOPQRSTUVWXYZ','dpwEJ':function(IlIIl){return IlIIl();}};if(!configCode){console[i1l1iI(0x1ef,'%eVp')](iI11II[i1l1iI(0x1f3,'V#Jb')]);return;}notify[i1l1iI(0x1f9,'Kajs')]({'title':$[i1l1iI(0x224,')&&2')]});for(let lI1liI=0x0;iI11II['YpCEq'](lI1liI,cookiesArr[i1l1iI(0x2e8,'y9PL')]);lI1liI++){$[i1l1iI(0x299,'hCIj')]=iI11II['xLdSH'](lI1liI,0x1),cookie=cookiesArr[lI1liI],common[i1l1iI(0x1d7,'AQ3]')](cookie),$['UserName']=iI11II[i1l1iI(0x310,'V)Cb')](decodeURIComponent,common['getCookieValue'](cookie,iI11II[i1l1iI(0x241,'%1EX')])),$[i1l1iI(0x29e,'hCIj')]=notify[i1l1iI(0x2b9,'dVgW')]($[i1l1iI(0x20f,'08Y@')],$[i1l1iI(0x2b7,'fe4E')]),$['nickName']='',console[i1l1iI(0x304,'!!S1')](i1l1iI(0x229,')&&2')+$[i1l1iI(0x328,'T(h1')]+'】'+($['nickName']||$[i1l1iI(0x2f5,'dQ$V')])+i1l1iI(0x284,'hCIj')),$['UA']=common['genUA']($[i1l1iI(0x27b,'M(!v')]),$['fp']=iI11II[i1l1iI(0x2df,'bGox')](randomString,0x20,iI11II['kNcKQ']),$[i1l1iI(0x264,'%1EX')]=iI11II[i1l1iI(0x24e,'mZ74')](randomString,0x5a,iI11II['gQZSS'])[i1l1iI(0x23e,'5ITb')](),await iI11II['dpwEJ'](Main),common[i1l1iI(0x30c,'QT3#')]();if($[i1l1iI(0x235,'fe4E')])break;await $[i1l1iI(0x303,'T02F')](0x7d0);}isNotify&&notify['getMessage']()&&await notify['push']();})()[lI1lil(0x31b,'M@zF')](i1i1Ii=>$[lI1lil(0x2e9,'dVgW')](i1i1Ii))[lI1lil(0x257,'$I6R')](()=>$[lI1lil(0x215,')&&2')]());async function Main(){const liil1l=lI1lil,lllii={'JfsYV':liil1l(0x2d1,'fe4E'),'BGzZh':function(iIII1l,lllil){return iIII1l(lllil);},'AgaZV':function(iI11Il,iIII1i){return iI11Il===iIII1i;},'aZKYM':liil1l(0x2f8,'4QCY'),'aOzmg':function(iil1i1,il1i11){return iil1i1>il1i11;},'CxSwK':function(IlIll1){return IlIll1();}},iI11Ii=await common[liil1l(0x2e4,'5^!B')](cookie);if(!iI11Ii&&typeof iI11Ii===lllii['JfsYV']){console[liil1l(0x1dd,')&&2')](liil1l(0x315,'oZlD'));return;}try{$[liil1l(0x2f7,'oZlD')]=![],$[liil1l(0x1db,'AQ3]')]=![],$['moduleGetActivity']='',await lllii[liil1l(0x2fd,']2X!')](sendRequest,liil1l(0x24f,'Kajs'));if($[liil1l(0x254,']2X!')])return;if(lllii[liil1l(0x311,'M@zF')]($[liil1l(0x26d,'5VDi')],0x1)){const IlIII=$['time']('yyyy-MM-dd\x20HH:mm',$[liil1l(0x2ad,'5ITb')]),ilil1l=$['time'](lllii[liil1l(0x291,'MM6q')],$['endTime']);console[liil1l(0x1da,'0jf4')](($[liil1l(0x33a,'Foql')]&&liil1l(0x1eb,'Kajs')+$['configName']+'\x0a')+'活动ID：'+configCode+liil1l(0x261,'F!pw')+IlIII+'\x0a结束时间：'+ilil1l+'\x0a');const illlIi=Date[liil1l(0x2db,'9H2)')]();if($[liil1l(0x2b6,']2X!')]&&illlIi<$[liil1l(0x289,'G)fK')]){console[liil1l(0x33f,'mZ74')]('活动将在\x20'+IlIII+liil1l(0x2c5,'%eVp')),$['runEnd']=!![];return;}if($[liil1l(0x2c1,'QT3#')]&&lllii['aOzmg'](illlIi,$[liil1l(0x1e2,'bGox')])){console[liil1l(0x1f6,'V)Cb')](liil1l(0x1ee,'dhr(')+ilil1l+liil1l(0x24b,'$I6R')),$[liil1l(0x335,'oZlD')]=!![];return;}}await lllii[liil1l(0x21c,'Kajs')](doTask),$[liil1l(0x333,'y9PL')]&&console[liil1l(0x1ea,'fe4E')]('任务好像已经做完了~'),joinMember&&await memberList(),await rewardStatus();}catch(I1lIii){console[liil1l(0x2d4,'5^!B')](liil1l(0x1ff,'V)Cb')+I1lIii);}}async function doTask(){const lI1lii=lI1lil,IiI1I={'iBXya':function(illlIl,i11ill){return illlIl(i11ill);},'dnfqQ':'moduleGetActivity','VGDgk':function(IIIIIi,IIIIIl){return IIIIIi>=IIIIIl;},'tNnuX':lI1lii(0x30f,'08Y@'),'zlwHI':function(I1lIil,IIIl1i){return I1lIil==IIIl1i;},'dzPZw':lI1lii(0x20b,'M@zF'),'zicQS':function(liiII1){return liiII1();}};await IiI1I['iBXya'](sendRequest,IiI1I[lI1lii(0x2ac,'M@zF')]);for(let IIIl1l of $['moduleGetActivity']?.[lI1lii(0x212,'vsM!')]?.[lI1lii(0x1e3,'08Y@')]||[]){if(IiI1I[lI1lii(0x23d,'MM6q')](IIIl1l['finishCount'],IIIl1l[lI1lii(0x270,'fe4E')])){if(IiI1I[lI1lii(0x21f,'bGox')]===lI1lii(0x27e,'fe4E'))IIli1l[lI1lii(0x1f6,'V)Cb')](II1lii),lIIii1&&(IIllI[lI1lii(0x1e8,'5^!B')]=!![],lliilI[lI1lii(0x2a8,'T(h1')]&&IllIIi[lI1lii(0x316,'%1EX')][lI1lii(0x217,'mNjT')](IllIIl));else{$[lI1lii(0x2e5,'M@zF')]=!![];continue;}}$[lI1lii(0x2ca,'4QCY')]=IiI1I[lI1lii(0x2c3,'5ITb')](IIIl1l[lI1lii(0x1e6,'bchI')],0x1)?'[浏览店铺]':IiI1I[lI1lii(0x280,'AQ3]')](IIIl1l[lI1lii(0x2e2,'V)Cb')],0x2)?IiI1I[lI1lii(0x28a,'oZlD')]:'',$[lI1lii(0x21e,'laF$')]=IIIl1l[lI1lii(0x218,')&&2')]||0x0,$[lI1lii(0x1fb,'5VDi')]=IIIl1l[lI1lii(0x272,'0jf4')],$[lI1lii(0x327,'dhr(')]=IIIl1l[lI1lii(0x2d9,'laF$')][lI1lii(0x2d8,'PAYL')],await $['wait'](0x3e8),$[lI1lii(0x339,'mZ74')]=![],await IiI1I[lI1lii(0x274,'laF$')](sendRequest,lI1lii(0x275,']QKj')),await $[lI1lii(0x2b1,'UI3U')](0x3e8);if($[lI1lii(0x210,'*rSc')])break;}!$['doTaskrun']&&!$['pro_hot']&&await IiI1I[lI1lii(0x23a,'dhr(')](doTask);}async function memberList(){const Iiili1=lI1lil,i11ili={'zXbXZ':function(iil1l1,lllli){return iil1l1===lllli;},'dHZOi':Iiili1(0x1d8,'M(!v'),'vSzgX':'moduleGetReward'};$['cannot_open_list']=[];for(let iiili1 of $[Iiili1(0x21b,'dQ$V')]?.['memberTask']?.['memberList']||[]){if(i11ili[Iiili1(0x259,'$I6R')](i11ili['dHZOi'],Iiili1(0x23f,'M@zF')))lliiil[Iiili1(0x20e,'$I6R')]=!![],lliiii[Iiili1(0x2b0,'5^!B')]&&IIli11[Iiili1(0x32c,'mZ74')][Iiili1(0x2d0,'mZ74')](IllIII);else{$['rewardQuantity']=iiili1['rewardQuantity']||0x0,$[Iiili1(0x2f3,'cwwW')]=iiili1[Iiili1(0x2e1,'6v9g')];if($[Iiili1(0x206,'dhr(')][Iiili1(0x243,'jp#h')]($[Iiili1(0x2a0,'A5QS')]))continue;switch(iiili1['result']){case 0x0:$[Iiili1(0x2a1,'mZ74')]=await common['joinShopMember']($['venderId']);if($[Iiili1(0x2a4,'QT3#')]){$[Iiili1(0x22f,'jp#h')][Iiili1(0x32a,'hCIj')]($[Iiili1(0x2b3,'dhr(')]);continue;}await $[Iiili1(0x2b1,'UI3U')](0x3e8);case 0x1:$[Iiili1(0x2dc,'PAYL')]='['+iiili1[Iiili1(0x27d,'bGox')]+']开卡',$[Iiili1(0x246,'dhr(')]='7',$[Iiili1(0x271,'M(!v')]=$[Iiili1(0x26c,'V)Cb')],await sendRequest(i11ili[Iiili1(0x204,'mNjT')]),await $['wait'](0x3e8);break;}if($[Iiili1(0x2a6,'UI3U')])break;}}}async function rewardStatus(){const Iil1l1=lI1lil,lllill={'TPTkW':function(ill11l,I1lIiI){return ill11l(I1lIiI);},'WDRut':Iil1l1(0x31e,'5VDi'),'EZsnb':function(lllili,IliiiI){return lllili==IliiiI;},'MfHhs':Iil1l1(0x2d7,'PAYL'),'qziqF':function(Ill11,liiIII){return Ill11(liiIII);}};$[Iil1l1(0x285,']2X!')]='',await lllill['TPTkW'](sendRequest,lllill[Iil1l1(0x2c7,'M(!v')]);if(lllill[Iil1l1(0x1fe,'vsM!')]($[Iil1l1(0x225,'hCIj')]?.[Iil1l1(0x2f9,'laF$')]?.[Iil1l1(0x20a,'MM6q')],0x1)){const li1i11=lllill[Iil1l1(0x253,'0jf4')][Iil1l1(0x2a2,'vsM!')]('|');let iI11I1=0x0;while(!![]){switch(li1i11[iI11I1++]){case'0':await $[Iil1l1(0x301,'!!S1')](0x7d0);continue;case'1':$[Iil1l1(0x30a,'laF$')]='[最终奖励]';continue;case'2':$[Iil1l1(0x22d,'*rSc')]='1';continue;case'3':$[Iil1l1(0x323,'F!pw')]=$[Iil1l1(0x216,'V#Jb')]?.[Iil1l1(0x2d3,'!!S1')]?.[Iil1l1(0x247,'5^!B')];continue;case'4':await lllill[Iil1l1(0x263,'AQ3]')](sendRequest,Iil1l1(0x2be,'UI3U'));continue;case'5':$[Iil1l1(0x330,'6v9g')]='5';continue;}break;}}}async function handleResponse(il1i1l,IlIlll){const i1i11I=lI1lil,IIIl1I={'Sdnem':'⚠\x20请先定义必要的环境变量后再运行脚本','dUEZi':'奖励已抢光','SJDJT':i1i11I(0x233,'G)fK'),'hjLZG':'WRwRM','IIUnT':i1i11I(0x2eb,'V)Cb'),'UehqJ':i1i11I(0x228,'jp#h'),'SKjYD':function(iil1ii,IlIlli){return iil1ii==IlIlli;},'eavSC':function(il1i1i,lil111){return il1i1i!==lil111;},'LrJtl':'lfGnU','MmtyI':i1i11I(0x318,'oZlD'),'ftjVB':i1i11I(0x201,'jp#h'),'PqTiW':i1i11I(0x32b,'5ITb'),'LOdoW':i1i11I(0x28c,'laF$'),'QFDTf':'doBPt','vaAFG':'hvXrj','zJbbb':i1i11I(0x278,'4QCY'),'wksrt':function(i11ilI,ii1ii1){return i11ilI==ii1ii1;},'ZJaUK':'lFutO','NUSHd':i1i11I(0x2f0,'5VDi'),'xJHvO':function(llllI,lllil1){return llllI===lllil1;},'xaLRd':i1i11I(0x334,'dVgW'),'nUBrf':i1i11I(0x223,'08Y@'),'XkRNI':function(iil1il,ilil1I){return iil1il===ilil1I;},'wOhRM':i1i11I(0x321,'AQ3]')};try{switch(il1i1l){case IIIl1I[i1i11I(0x305,'M@zF')]:IlIlll[i1i11I(0x277,'MLkF')]&&IlIlll['success']==!![]?IIIl1I[i1i11I(0x25b,'T(h1')]===IIIl1I['IIUnT']?Ii1iIi[i1i11I(0x1f8,'%1EX')]('❌\x20脚本运行遇到了错误\x0a'+iliIIl):($[i1i11I(0x32e,'QT3#')]=IlIlll?.[i1i11I(0x2bb,'!!S1')],$[i1i11I(0x226,'6v9g')]=$[i1i11I(0x32d,'T(h1')]?.[i1i11I(0x279,'T02F')]?.['beginTime'],$[i1i11I(0x33e,'5ITb')]=$['moduleGetActivity']?.['moduleBaseInfo']?.[i1i11I(0x300,'MM6q')],$[i1i11I(0x2e0,'T(h1')]=$['moduleGetActivity']?.['moduleBaseInfo']?.[i1i11I(0x302,'bGox')],!$[i1i11I(0x225,'hCIj')]?.[i1i11I(0x236,']QKj')]&&($['runEnd']=!![],console[i1i11I(0x1f2,'Kajs')](i1i11I(0x2f1,'Foql')))):console[i1i11I(0x240,'o!Ps')]('❓'+il1i1l+'\x20'+JSON['stringify'](IlIlll));break;case IIIl1I[i1i11I(0x326,'bGox')]:if(IIIl1I[i1i11I(0x2af,'%eVp')](IlIlll[i1i11I(0x2a3,'dVgW')],!![]))IIIl1I[i1i11I(0x28b,'41VL')]('ZtSVm',IIIl1I[i1i11I(0x336,'M@zF')])?console[i1i11I(0x1ea,'fe4E')]('完成'+$['taskName']+i1i11I(0x2cc,'hCIj')+$['rewardQuantity']+'京豆'):(lilIl1[i1i11I(0x221,'4QCY')](i1l1ii['name'],i1i11I(0x258,'dVgW')),i1l1[i1i11I(0x2fb,'08Y@')](0x1));else{if(IIIl1I[i1i11I(0x205,'laF$')]===IIIl1I[i1i11I(0x31f,'6v9g')]){IiilI1['log'](IIIl1I['Sdnem']);return;}else(IlIlll[i1i11I(0x342,'bGox')][i1i11I(0x2c6,'cwwW')](IIIl1I[i1i11I(0x30b,'A5QS')])||IlIlll[i1i11I(0x2b2,'o!Ps')]['includes'](IIIl1I[i1i11I(0x341,')&&2')])||IlIlll[i1i11I(0x2c0,'F!pw')][i1i11I(0x29b,'5VDi')](IIIl1I[i1i11I(0x252,'!!S1')]))&&(IIIl1I[i1i11I(0x22b,'9H2)')]===IIIl1I[i1i11I(0x22a,')&&2')]?iIIl11[i1i11I(0x203,'5VDi')]('完成'+l1l1I1[i1i11I(0x1d0,'fe4E')]+i1i11I(0x1d4,'AQ3]')+I1iIll[i1i11I(0x2ea,'5^!B')]+'京豆'):$['pro_hot']=!![]),console['log']('完成'+$[i1i11I(0x2de,'$I6R')]+i1i11I(0x1e4,'41VL')+IlIlll[i1i11I(0x2dd,'*rSc')]);}break;case IIIl1I[i1i11I(0x207,'$I6R')]:if(IIIl1I['wksrt'](IlIlll['success'],!![])){if(IIIl1I[i1i11I(0x317,'bchI')]!==IIIl1I['NUSHd'])console['log']('领取'+$[i1i11I(0x2f2,'*rSc')]+i1i11I(0x324,'UI3U')+($['rewardQuantity']?':\x20'+$[i1i11I(0x2b5,'A5QS')]+'京豆':''));else{llIli1[i1i11I(0x338,'T(h1')](i1i11I(0x231,'5^!B')+iliIII+i1i11I(0x320,'A5QS')),iIIl1i[i1i11I(0x235,'fe4E')]=!![];return;}}else IIIl1I[i1i11I(0x2fe,']2X!')](IIIl1I[i1i11I(0x27c,'M@zF')],IIIl1I['xaLRd'])?(IlIlll[i1i11I(0x267,'PAYL')]['includes'](i1i11I(0x306,'T02F'))&&(IIIl1I[i1i11I(0x24a,'dQ$V')]!==i1i11I(0x286,'*rSc')?$[i1i11I(0x2c4,'jp#h')]=!![]:(I1llii['runEnd']=!![],lilIll[i1i11I(0x338,'T(h1')]('活动不存在哟~'))),console[i1i11I(0x1f6,'V)Cb')]('领取'+$[i1i11I(0x331,')&&2')]+'奖励失败:\x20'+IlIlll[i1i11I(0x21a,'dQ$V')])):((IiiIl1[i1i11I(0x293,'Foql')][i1i11I(0x29b,'5VDi')]('活动太火爆')||lIIil1[i1i11I(0x23c,'vsM!')][i1i11I(0x337,'T(h1')](i1i11I(0x1fc,'Foql'))||IIli1[i1i11I(0x296,'dhr(')]['includes'](IIIl1I[i1i11I(0x29f,'G)fK')]))&&(Iilli1[i1i11I(0x2bf,'hCIj')]=!![]),IlI1i1[i1i11I(0x202,'y9PL')]('完成'+l1lIl1['taskName']+i1i11I(0x239,'Foql')+IiiIlI['errorMessage']));break;}}catch(liiIIi){IIIl1I[i1i11I(0x24c,'y9PL')](IIIl1I['wOhRM'],'xMHpy')?ill111[i1i11I(0x2b4,'hCIj')](i1i11I(0x319,']QKj')):console[i1i11I(0x26a,'5ITb')](i1i11I(0x1ed,'6v9g')+il1i1l+i1i11I(0x22e,')&&2')+(liiIIi['message']||liiIIi));}}async function sendRequest(Iliii1){const il1iIl=lI1lil,iIiIi={'mqnBV':function(Ill1l,llI1Il){return Ill1l*llI1Il;},'cJpfd':il1iIl(0x287,'%eVp'),'YxMVE':il1iIl(0x292,'41VL'),'ZqQXl':'jdchoujiang_h5','LEfJi':'iOS','vZJCS':'3.1','dipDB':il1iIl(0x31a,'5ITb'),'LGrgH':il1iIl(0x30d,'PAYL'),'soQke':'moduleGetReward','DQmPC':il1iIl(0x2a5,'laF$'),'rAfBU':'zh-CN,zh;q=0.9,en;q=0.8,en-GB;q=0.7,en-US;q=0.6','jpqhp':'keep-alive','BYdgA':il1iIl(0x24d,'laF$'),'JFKEL':'https://pro.m.jd.com','uywdq':function(ii1iii,i11iil){return ii1iii===i11iil;},'tfEis':'Content-Type','JGwTO':function(Ill1i,ii1iil){return Ill1i!==ii1iil;},'zkQaZ':'cZyLv','gNmKG':function(lllI1l,i11iii,llI1Ii){return lllI1l(i11iii,llI1Ii);},'OgnRY':il1iIl(0x2ff,']2X!')};if($[il1iIl(0x2d6,'dQ$V')])return;let iil1ll='',iiilil='',iil1li=iIiIi[il1iIl(0x26f,'%1EX')],lillIl=null,iIiIl={};switch(Iliii1){case'moduleGetActivity':iil1li=iIiIi[il1iIl(0x2fc,'mNjT')],iIiIl={'appId':il1iIl(0x295,'bGox'),'functionId':il1iIl(0x33c,'*rSc'),'appid':iIiIi[il1iIl(0x28d,'4QCY')],'clientVersion':common['getLatestAppVersion'](),'client':iIiIi[il1iIl(0x290,'oZlD')],'body':{'configCode':configCode,'fp':$['fp'],'eid':$[il1iIl(0x1e5,']QKj')]},'version':iIiIi[il1iIl(0x308,'hCIj')],'t':!![]},lillIl=await H5st[il1iIl(0x2e7,'08Y@')](iIiIl),iil1ll=il1iIl(0x1f4,'5ITb')+lillIl['params'];break;case iIiIi[il1iIl(0x276,'4QCY')]:iIiIl={'appId':iIiIi[il1iIl(0x2bd,'9H2)')],'functionId':il1iIl(0x269,'%eVp'),'appid':iIiIi['ZqQXl'],'clientVersion':common[il1iIl(0x1f5,'T02F')](),'client':iIiIi[il1iIl(0x20c,'08Y@')],'body':{'groupType':$[il1iIl(0x1fa,'Foql')],'configCode':configCode,'itemId':$[il1iIl(0x29a,']QKj')],'fp':$['fp'],'eid':$['eid']},'version':iIiIi[il1iIl(0x31d,'vsM!')],'t':!![]},lillIl=await H5st[il1iIl(0x1de,'V#Jb')](iIiIl),iil1ll=il1iIl(0x2ec,'G)fK'),iiilil=''+lillIl['params'];break;case iIiIi['soQke']:iIiIl={'appId':il1iIl(0x2a7,'%eVp'),'functionId':il1iIl(0x325,'6v9g'),'appid':iIiIi[il1iIl(0x309,'Kajs')],'clientVersion':common[il1iIl(0x2aa,'Kajs')](),'client':'iOS','body':{'groupType':$[il1iIl(0x1fb,'5VDi')],'configCode':configCode,'itemId':$['itemId'],'fp':$['fp'],'eid':$[il1iIl(0x232,'Kajs')]},'version':iIiIi[il1iIl(0x1d5,'5ITb')],'t':!![]},lillIl=await H5st[il1iIl(0x209,'M@zF')](iIiIl),iil1ll=il1iIl(0x26b,'vsM!'),iiilil=''+lillIl[il1iIl(0x2cd,'08Y@')];break;default:console[il1iIl(0x26a,'5ITb')]('❌\x20未知请求\x20'+Iliii1);return;}const iiilii={'url':iil1ll,'method':iil1li,'headers':{'Accept':iIiIi['DQmPC'],'Accept-Encoding':'gzip,\x20deflate,\x20br','Accept-Language':iIiIi[il1iIl(0x245,'dQ$V')],'Connection':iIiIi[il1iIl(0x2ab,']QKj')],'Content-Type':iIiIi['BYdgA'],'Cookie':cookie,'Origin':iIiIi[il1iIl(0x281,'*rSc')],'Referer':iIiIi['JFKEL'],'User-Agent':$['UA']},'body':iiilil,'timeout':0x7530};iIiIi[il1iIl(0x2ce,']QKj')](iil1li,iIiIi[il1iIl(0x1e7,'4QCY')])&&(iIiIi[il1iIl(0x33d,']2X!')](il1iIl(0x332,'5VDi'),il1iIl(0x262,'bchI'))?(IIlil[il1iIl(0x31c,'5VDi')]['includes'](il1iIl(0x2d2,'5VDi'))&&(IilliI[il1iIl(0x340,'dQ$V')]=!![]),IiiIll[il1iIl(0x1df,'AQ3]')]('领取'+IIlii[il1iIl(0x2c9,'6v9g')]+'奖励失败:\x20'+IlI1il['errorMessage'])):(delete iiilii[il1iIl(0x2bc,'PAYL')],delete iiilii[il1iIl(0x250,'Kajs')][iIiIi[il1iIl(0x2b8,'jp#h')]]));const li1i1i=0x1;let IlIli1=0x0,illIiI=null,lI1lli=![];while(IlIli1<li1i1i){IlIli1>0x0&&await $['wait'](0x3e8);const li1i1l=await common[il1iIl(0x1d1,'5^!B')](iiilii);if(!li1i1l[il1iIl(0x30e,'y9PL')]){if(iIiIi['JGwTO'](iIiIi[il1iIl(0x29c,'hCIj')],iIiIi['zkQaZ']))lIIiii[il1iIl(0x23b,'%1EX')]=!![];else{illIiI='🚫\x20'+Iliii1+il1iIl(0x314,'o!Ps')+li1i1l[il1iIl(0x213,'F!pw')],IlIli1++;continue;}}if(!li1i1l?.[il1iIl(0x1e1,'5VDi')]){illIiI=il1iIl(0x22c,'MLkF')+Iliii1+'\x20请求失败\x20➜\x20无响应数据',IlIli1++;continue;}iIiIi[il1iIl(0x25d,'T02F')](handleResponse,Iliii1,li1i1l[il1iIl(0x249,'UI3U')]),lI1lli=![];break;}IlIli1>=li1i1i&&(il1iIl(0x25f,'0jf4')!==iIiIi[il1iIl(0x2f6,'5^!B')]?(console[il1iIl(0x2c8,'MM6q')](illIiI),lI1lli&&($['outFlag']=!![],$[il1iIl(0x266,'41VL')]&&$['message'][il1iIl(0x283,'bGox')](illIiI))):ii1l1+=lIIill[I11iIi[il1iIl(0x208,'hCIj')](iIiIi[il1iIl(0x220,'jp#h')](I1ilII[il1iIl(0x238,'M(!v')](),I11iIl[il1iIl(0x1e0,'T(h1')]))]);}function randomString(iIiII,iil1lI=lI1lil(0x2ae,'laF$')){const iii1ii=lI1lil,iiiliI={'wBzSM':iii1ii(0x2e6,'F!pw'),'RSGSM':function(illIii,ii1il1){return illIii<ii1il1;},'bOmBd':function(lI1llI,illIil){return lI1llI>illIil;},'yBYrZ':function(Ill1I,i11iiI){return Ill1I===i11iiI;},'OLvnt':iii1ii(0x227,'M@zF'),'mdUuA':function(lIli11,lllI1I){return lIli11*lllI1I;}};let li1i1I='';for(let lillI1=0x0;iiiliI[iii1ii(0x2fa,']2X!')](lillI1,iIiII);lillI1++){if(iiiliI[iii1ii(0x282,'bGox')](iiiliI['OLvnt'],iiiliI[iii1ii(0x1f0,']QKj')]))li1i1I+=iil1lI[Math['floor'](iiiliI[iii1ii(0x2ba,'QT3#')](Math[iii1ii(0x21d,'bchI')](),iil1lI['length']))];else{const i1l1i1=IliI1I[iii1ii(0x25c,'dQ$V')](iiiliI[iii1ii(0x242,'%eVp')],lI1Iii[iii1ii(0x2d5,'MLkF')]),liil11=i1li[iii1ii(0x26e,'5VDi')](iiiliI['wBzSM'],li1II[iii1ii(0x2cb,'dhr(')]);IliI11['log']((i1ll[iii1ii(0x29d,'laF$')]&&'活动名称：#'+i1l1lI[iii1ii(0x297,'!!S1')]+'\x0a')+iii1ii(0x1d3,'08Y@')+i1iliI+'\x0a开始时间：'+i1l1i1+iii1ii(0x2ed,'MM6q')+liil11+'\x0a');const iiillI=I1iIii['now']();if(IllII1[iii1ii(0x32f,'Foql')]&&iiiliI[iii1ii(0x2da,'bGox')](iiillI,I1iIil[iii1ii(0x28f,'fe4E')])){iii1Il[iii1ii(0x2a9,'mNjT')]('活动将在\x20'+i1l1i1+iii1ii(0x2ee,'dVgW')),lI1IiI[iii1ii(0x1fd,'0jf4')]=!![];return;}if(i1l1I['actEndTime']&&iiiliI['bOmBd'](iiillI,IiilIi['actEndTime'])){i1lI[iii1ii(0x312,'dQ$V')](iii1ii(0x214,'QT3#')+liil11+iii1ii(0x273,'dVgW')),IlI1l['runEnd']=!![];return;}}}return li1i1I;}var version_ = 'jsjiami.com.v7';
// prettier-ignore
function Env(t, e) { "undefined" != typeof process && JSON.stringify(process.env).indexOf("GITHUB") > -1 && process.exit(0); class s { constructor(t) { this.env = t } send(t, e = "GET") { t = "string" == typeof t ? { url: t } : t; let s = this.get; return "POST" === e && (s = this.post), new Promise((e, i) => { s.call(this, t, (t, s, r) => { t ? i(t) : e(s) }) }) } get(t) { return this.send.call(this.env, t) } post(t) { return this.send.call(this.env, t, "POST") } } return new class { constructor(t, e) { this.name = t, this.http = new s(this), this.data = null, this.dataFile = "box.dat", this.logs = [], this.isMute = !1, this.isNeedRewrite = !1, this.logSeparator = "\n", this.startTime = (new Date).getTime(), Object.assign(this, e), this.log("", `🔔${this.name}, 开始!`) } isNode() { return "undefined" != typeof module && !!module.exports } isQuanX() { return "undefined" != typeof $task } isSurge() { return "undefined" != typeof $httpClient && "undefined" == typeof $loon } isLoon() { return "undefined" != typeof $loon } toObj(t, e = null) { try { return JSON.parse(t) } catch { return e } } toStr(t, e = null) { try { return JSON.stringify(t) } catch { return e } } getjson(t, e) { let s = e; const i = this.getdata(t); if (i) try { s = JSON.parse(this.getdata(t)) } catch { } return s } setjson(t, e) { try { return this.setdata(JSON.stringify(t), e) } catch { return !1 } } getScript(t) { return new Promise(e => { this.get({ url: t }, (t, s, i) => e(i)) }) } runScript(t, e) { return new Promise(s => { let i = this.getdata("@chavy_boxjs_userCfgs.httpapi"); i = i ? i.replace(/\n/g, "").trim() : i; let r = this.getdata("@chavy_boxjs_userCfgs.httpapi_timeout"); r = r ? 1 * r : 20, r = e && e.timeout ? e.timeout : r; const [o, h] = i.split("@"), n = { url: `http://${h}/v1/scripting/evaluate`, body: { script_text: t, mock_type: "cron", timeout: r }, headers: { "X-Key": o, Accept: "*/*" } }; this.post(n, (t, e, i) => s(i)) }).catch(t => this.logErr(t)) } loaddata() { if (!this.isNode()) return {}; { this.fs = this.fs ? this.fs : require("fs"), this.path = this.path ? this.path : require("path"); const t = this.path.resolve(this.dataFile), e = this.path.resolve(process.cwd(), this.dataFile), s = this.fs.existsSync(t), i = !s && this.fs.existsSync(e); if (!s && !i) return {}; { const i = s ? t : e; try { return JSON.parse(this.fs.readFileSync(i)) } catch (t) { return {} } } } } writedata() { if (this.isNode()) { this.fs = this.fs ? this.fs : require("fs"), this.path = this.path ? this.path : require("path"); const t = this.path.resolve(this.dataFile), e = this.path.resolve(process.cwd(), this.dataFile), s = this.fs.existsSync(t), i = !s && this.fs.existsSync(e), r = JSON.stringify(this.data); s ? this.fs.writeFileSync(t, r) : i ? this.fs.writeFileSync(e, r) : this.fs.writeFileSync(t, r) } } lodash_get(t, e, s) { const i = e.replace(/\[(\d+)\]/g, ".$1").split("."); let r = t; for (const t of i) if (r = Object(r)[t], void 0 === r) return s; return r } lodash_set(t, e, s) { return Object(t) !== t ? t : (Array.isArray(e) || (e = e.toString().match(/[^.[\]]+/g) || []), e.slice(0, -1).reduce((t, s, i) => Object(t[s]) === t[s] ? t[s] : t[s] = Math.abs(e[i + 1]) >> 0 == +e[i + 1] ? [] : {}, t)[e[e.length - 1]] = s, t) } getdata(t) { let e = this.getval(t); if (/^@/.test(t)) { const [, s, i] = /^@(.*?)\.(.*?)$/.exec(t), r = s ? this.getval(s) : ""; if (r) try { const t = JSON.parse(r); e = t ? this.lodash_get(t, i, "") : e } catch (t) { e = "" } } return e } setdata(t, e) { let s = !1; if (/^@/.test(e)) { const [, i, r] = /^@(.*?)\.(.*?)$/.exec(e), o = this.getval(i), h = i ? "null" === o ? null : o || "{}" : "{}"; try { const e = JSON.parse(h); this.lodash_set(e, r, t), s = this.setval(JSON.stringify(e), i) } catch (e) { const o = {}; this.lodash_set(o, r, t), s = this.setval(JSON.stringify(o), i) } } else s = this.setval(t, e); return s } getval(t) { return this.isSurge() || this.isLoon() ? $persistentStore.read(t) : this.isQuanX() ? $prefs.valueForKey(t) : this.isNode() ? (this.data = this.loaddata(), this.data[t]) : this.data && this.data[t] || null } setval(t, e) { return this.isSurge() || this.isLoon() ? $persistentStore.write(t, e) : this.isQuanX() ? $prefs.setValueForKey(t, e) : this.isNode() ? (this.data = this.loaddata(), this.data[e] = t, this.writedata(), !0) : this.data && this.data[e] || null } initGotEnv(t) { this.got = this.got ? this.got : require("got"), this.cktough = this.cktough ? this.cktough : require("tough-cookie"), this.ckjar = this.ckjar ? this.ckjar : new this.cktough.CookieJar, t && (t.headers = t.headers ? t.headers : {}, void 0 === t.headers.Cookie && void 0 === t.cookieJar && (t.cookieJar = this.ckjar)) } get(t, e = (() => { })) { t.headers && (delete t.headers["Content-Type"], delete t.headers["Content-Length"]), this.isSurge() || this.isLoon() ? (this.isSurge() && this.isNeedRewrite && (t.headers = t.headers || {}, Object.assign(t.headers, { "X-Surge-Skip-Scripting": !1 })), $httpClient.get(t, (t, s, i) => { !t && s && (s.body = i, s.statusCode = s.status), e(t, s, i) })) : this.isQuanX() ? (this.isNeedRewrite && (t.opts = t.opts || {}, Object.assign(t.opts, { hints: !1 })), $task.fetch(t).then(t => { const { statusCode: s, statusCode: i, headers: r, body: o } = t; e(null, { status: s, statusCode: i, headers: r, body: o }, o) }, t => e(t))) : this.isNode() && (this.initGotEnv(t), this.got(t).on("redirect", (t, e) => { try { if (t.headers["set-cookie"]) { const s = t.headers["set-cookie"].map(this.cktough.Cookie.parse).toString(); s && this.ckjar.setCookieSync(s, null), e.cookieJar = this.ckjar } } catch (t) { this.logErr(t) } }).then(t => { const { statusCode: s, statusCode: i, headers: r, body: o } = t; e(null, { status: s, statusCode: i, headers: r, body: o }, o) }, t => { const { message: s, response: i } = t; e(s, i, i && i.body) })) } post(t, e = (() => { })) { if (t.body && t.headers && !t.headers["Content-Type"] && (t.headers["Content-Type"] = "application/x-www-form-urlencoded"), t.headers && delete t.headers["Content-Length"], this.isSurge() || this.isLoon()) this.isSurge() && this.isNeedRewrite && (t.headers = t.headers || {}, Object.assign(t.headers, { "X-Surge-Skip-Scripting": !1 })), $httpClient.post(t, (t, s, i) => { !t && s && (s.body = i, s.statusCode = s.status), e(t, s, i) }); else if (this.isQuanX()) t.method = "POST", this.isNeedRewrite && (t.opts = t.opts || {}, Object.assign(t.opts, { hints: !1 })), $task.fetch(t).then(t => { const { statusCode: s, statusCode: i, headers: r, body: o } = t; e(null, { status: s, statusCode: i, headers: r, body: o }, o) }, t => e(t)); else if (this.isNode()) { this.initGotEnv(t); const { url: s, ...i } = t; this.got.post(s, i).then(t => { const { statusCode: s, statusCode: i, headers: r, body: o } = t; e(null, { status: s, statusCode: i, headers: r, body: o }, o) }, t => { const { message: s, response: i } = t; e(s, i, i && i.body) }) } } time(t, e = null) { const s = e ? new Date(e) : new Date; let i = { "M+": s.getMonth() + 1, "d+": s.getDate(), "H+": s.getHours(), "m+": s.getMinutes(), "s+": s.getSeconds(), "q+": Math.floor((s.getMonth() + 3) / 3), S: s.getMilliseconds() }; /(y+)/.test(t) && (t = t.replace(RegExp.$1, (s.getFullYear() + "").substr(4 - RegExp.$1.length))); for (let e in i) new RegExp("(" + e + ")").test(t) && (t = t.replace(RegExp.$1, 1 == RegExp.$1.length ? i[e] : ("00" + i[e]).substr(("" + i[e]).length))); return t } msg(e = t, s = "", i = "", r) { const o = t => { if (!t) return t; if ("string" == typeof t) return this.isLoon() ? t : this.isQuanX() ? { "open-url": t } : this.isSurge() ? { url: t } : void 0; if ("object" == typeof t) { if (this.isLoon()) { let e = t.openUrl || t.url || t["open-url"], s = t.mediaUrl || t["media-url"]; return { openUrl: e, mediaUrl: s } } if (this.isQuanX()) { let e = t["open-url"] || t.url || t.openUrl, s = t["media-url"] || t.mediaUrl; return { "open-url": e, "media-url": s } } if (this.isSurge()) { let e = t.url || t.openUrl || t["open-url"]; return { url: e } } } }; if (this.isMute || (this.isSurge() || this.isLoon() ? $notification.post(e, s, i, o(r)) : this.isQuanX() && $notify(e, s, i, o(r))), !this.isMuteLog) { let t = ["", "==============📣系统通知📣=============="]; t.push(e), s && t.push(s), i && t.push(i), console.log(t.join("\n")), this.logs = this.logs.concat(t) } } log(...t) { t.length > 0 && (this.logs = [...this.logs, ...t]), console.log(t.join(this.logSeparator)) } logErr(t, e) { const s = !this.isSurge() && !this.isQuanX() && !this.isLoon(); s ? this.log("", `❗️${this.name}, 错误!`, t.stack) : this.log("", `❗️${this.name}, 错误!`, t) } wait(t) { return new Promise(e => setTimeout(e, t)) } done(t = {}) { const e = (new Date).getTime(), s = (e - this.startTime) / 1e3; this.log("", `🔔${this.name}, 结束! 🕛 ${s} 秒`), this.log(), (this.isSurge() || this.isQuanX() || this.isLoon()) && $done(t) } }(t, e) }
