/*
京豆红包雨

cron:1 1 1 1 * jd_redrain_hby.js

*/

const $ = new Env('京豆红包雨')
var iｉl='jsjiami.com.v7';const IilIiI=iii1II;function iii1II(_0x52e9a8,_0x4bdbfd){const _0x2a72d9=Iii11l();return iii1II=function(_0x77ae3f,_0x83ad5d){_0x77ae3f=_0x77ae3f-0x1a7;let _0x54dea7=_0x2a72d9[_0x77ae3f];if(iii1II['FzzmUf']===undefined){var _0x262d82=function(_0x236fab){const _0x1999bf='abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=';let _0x281127='',_0xcf90ab='';for(let _0x49ef35=0x0,_0x46bf28,_0x52ee42,_0xfbe5f2=0x0;_0x52ee42=_0x236fab['charAt'](_0xfbe5f2++);~_0x52ee42&&(_0x46bf28=_0x49ef35%0x4?_0x46bf28*0x40+_0x52ee42:_0x52ee42,_0x49ef35++%0x4)?_0x281127+=String['fromCharCode'](0xff&_0x46bf28>>(-0x2*_0x49ef35&0x6)):0x0){_0x52ee42=_0x1999bf['indexOf'](_0x52ee42);}for(let _0x41a08b=0x0,_0x53e421=_0x281127['length'];_0x41a08b<_0x53e421;_0x41a08b++){_0xcf90ab+='%'+('00'+_0x281127['charCodeAt'](_0x41a08b)['toString'](0x10))['slice'](-0x2);}return decodeURIComponent(_0xcf90ab);};const _0x4a52af=function(_0x1d45fb,_0x1f653b){let _0x21eeb5=[],_0x505291=0x0,_0x1e0320,_0x13468e='';_0x1d45fb=_0x262d82(_0x1d45fb);let _0x3699a0;for(_0x3699a0=0x0;_0x3699a0<0x100;_0x3699a0++){_0x21eeb5[_0x3699a0]=_0x3699a0;}for(_0x3699a0=0x0;_0x3699a0<0x100;_0x3699a0++){_0x505291=(_0x505291+_0x21eeb5[_0x3699a0]+_0x1f653b['charCodeAt'](_0x3699a0%_0x1f653b['length']))%0x100,_0x1e0320=_0x21eeb5[_0x3699a0],_0x21eeb5[_0x3699a0]=_0x21eeb5[_0x505291],_0x21eeb5[_0x505291]=_0x1e0320;}_0x3699a0=0x0,_0x505291=0x0;for(let _0x4db85c=0x0;_0x4db85c<_0x1d45fb['length'];_0x4db85c++){_0x3699a0=(_0x3699a0+0x1)%0x100,_0x505291=(_0x505291+_0x21eeb5[_0x3699a0])%0x100,_0x1e0320=_0x21eeb5[_0x3699a0],_0x21eeb5[_0x3699a0]=_0x21eeb5[_0x505291],_0x21eeb5[_0x505291]=_0x1e0320,_0x13468e+=String['fromCharCode'](_0x1d45fb['charCodeAt'](_0x4db85c)^_0x21eeb5[(_0x21eeb5[_0x3699a0]+_0x21eeb5[_0x505291])%0x100]);}return _0x13468e;};iii1II['lCToKb']=_0x4a52af,_0x52e9a8=arguments,iii1II['FzzmUf']=!![];}const _0x3edaed=_0x2a72d9[0x0],_0x694a79=_0x77ae3f+_0x3edaed,_0x3897d4=_0x52e9a8[_0x694a79];return!_0x3897d4?(iii1II['kpOboN']===undefined&&(iii1II['kpOboN']=!![]),_0x54dea7=iii1II['lCToKb'](_0x54dea7,_0x83ad5d),_0x52e9a8[_0x694a79]=_0x54dea7):_0x54dea7=_0x3897d4,_0x54dea7;},iii1II(_0x52e9a8,_0x4bdbfd);}(function(i11I1I,l1il1i,ll1,iI1llI,llliii,IllI11,l1llIi){return i11I1I=i11I1I>>0x3,IllI11='hs',l1llIi='hs',function(II1llI,i11I11,l1llIl,ii1I1l,ii1I1i){const llliiI=iii1II;ii1I1l='tfi',IllI11=ii1I1l+IllI11,ii1I1i='up',l1llIi+=ii1I1i,IllI11=l1llIl(IllI11),l1llIi=l1llIl(l1llIi),l1llIl=0x0;const llI=II1llI();while(!![]&&--iI1llI+i11I11){try{ii1I1l=-parseInt(llliiI(0x1da,'4&gz'))/0x1+parseInt(llliiI(0x259,'NG7Z'))/0x2*(parseInt(llliiI(0x1ad,'C(jz'))/0x3)+-parseInt(llliiI(0x1bf,'b&2e'))/0x4+-parseInt(llliiI(0x1eb,'4&gz'))/0x5*(parseInt(llliiI(0x24e,'SWD2'))/0x6)+parseInt(llliiI(0x251,'bSXB'))/0x7+-parseInt(llliiI(0x25e,'qciI'))/0x8*(-parseInt(llliiI(0x1c9,'XIkR'))/0x9)+-parseInt(llliiI(0x1ae,'Gpl%'))/0xa*(-parseInt(llliiI(0x1f7,'4&gz'))/0xb);}catch(llliI){ii1I1l=l1llIl;}finally{ii1I1i=llI[IllI11]();if(i11I1I<=iI1llI)l1llIl?llliii?ii1I1l=ii1I1i:llliii=ii1I1i:l1llIl=ii1I1i;else{if(l1llIl==llliii['replace'](/[wlhDPqStbMFELgdOAC=]/g,'')){if(ii1I1l===i11I11){llI['un'+IllI11](ii1I1i);break;}llI[l1llIi](ii1I1i);}}}}}(ll1,l1il1i,function(iI1li1,lllii1,liIli,liIll,IilIi1,iI1liI,l1lIiI){return lllii1='\x73\x70\x6c\x69\x74',iI1li1=arguments[0x0],iI1li1=iI1li1[lllii1](''),liIli=`\x72\x65\x76\x65\x72\x73\x65`,iI1li1=iI1li1[liIli]('\x76'),liIll=`\x6a\x6f\x69\x6e`,(0x156ca4,iI1li1[liIll](''));});}(0x5f8,0xc475b,Iii11l,0xc1),Iii11l)&&(iｉl=0x211d);const ii1li=require(IilIiI(0x1a8,'ZWPL')),IIll1=require('./utils/Rebels_sendJDNotify'),ll1il=require('./utils/Rebels_jdCommon'),IiiIiI=![];let lilii='';const l1iiI=Object[IilIiI(0x1ac,'XZe$')](ii1li)[IilIiI(0x23b,'oAt(')](ll1ll=>ii1li[ll1ll])[IilIiI(0x25a,'Gpl%')](Illl11=>Illl11);!l1iiI[0x0]&&($['msg']($[IilIiI(0x1bc,'mBAx')],'【提示】请先获取Cookie'),process[IilIiI(0x205,'i)9g')](0x1));!(async()=>{const i1i1I1=IilIiI,ii1lI={'IOvul':i1i1I1(0x1db,'XZe$'),'bvsKO':function(I1ilIl,I11iII){return I1ilIl(I11iII);},'BzPEE':i1i1I1(0x246,'T3Q3'),'reqTz':function(I1ilIi,IiiiI){return I1ilIi===IiiiI;},'lXICK':'\x0a当期活动已经结束,请等待下次活动\x0a','gDIFR':i1i1I1(0x240,'BHgb'),'EOUDL':i1i1I1(0x1a7,'E7xI'),'yvZwT':function(llIlli,llIlll){return llIlli(llIlll);},'WZkCJ':'pt_pin','JtVCm':function(lliii1){return lliii1();}};authorCodeList=await ii1lI[i1i1I1(0x1b0,'b&2e')](lilil,ii1lI['BzPEE']);if(!authorCodeList||ii1lI[i1i1I1(0x1d6,'XZe$')](authorCodeList['length'],0x0)){console['log'](ii1lI[i1i1I1(0x201,'AuW2')]);return;}IIll1[i1i1I1(0x237,'ALVt')]({'title':$['name']});for(let Iiii1=0x0;Iiii1<l1iiI[i1i1I1(0x1e7,'AuW2')];Iiii1++){if(ii1lI['reqTz'](ii1lI[i1i1I1(0x21e,'2f9m')],ii1lI['EOUDL']))I1llii[i1i1I1(0x208,'5IyN')](ii1lI[i1i1I1(0x1f3,'LFt2')]);else{$[i1i1I1(0x1cb,'EY&Q')]=Iiii1+0x1,lilii=l1iiI[Iiii1],ll1il['setCookie'](lilii),$[i1i1I1(0x25b,']P8N')]=ii1lI[i1i1I1(0x1e1,']XQB')](decodeURIComponent,ll1il[i1i1I1(0x1c2,'pK5t')](lilii,ii1lI[i1i1I1(0x1d3,'5IyN')])),$[i1i1I1(0x24a,'dIDi')]=IIll1['create']($[i1i1I1(0x21c,'NG7Z')],$['UserName']),$['nickName']='',console[i1i1I1(0x23d,'BHgb')](i1i1I1(0x250,'Gl4M')+$[i1i1I1(0x1f8,']J)&')]+'】'+($['nickName']||$[i1i1I1(0x24c,'Gpl%')])+i1i1I1(0x217,'OwTL')),$['UA']=ll1il['genUA']($[i1i1I1(0x1f2,'4&gz')]),await ii1lI[i1i1I1(0x1f4,'AB9C')](ll1li),ll1il['unsetCookie']();if($[i1i1I1(0x231,'bSXB')])break;await $[i1i1I1(0x1bd,'OfOK')](0x3e8);}}IiiIiI&&IIll1[i1i1I1(0x1c7,'XZe$')]()&&await IIll1['push']();})()['catch'](IiiIil=>$[IilIiI(0x1f5,'Id1m')](IiiIil))['finally'](()=>$['done']());async function ll1li(){const IlII1=IilIiI,IiiIii={'lLyzE':function(liliI,ll1lI){return liliI===ll1lI;},'VjTkU':'ulHLb','XIiuN':function(l1iii,IIlli){return l1iii<IIlli;},'wPMHe':'YbAvW','NnTQi':IlII1(0x1fa,'EY&Q'),'vNWvy':function(l1iil,ii1l1){return l1iil(ii1l1);},'AIXIX':function(lIIill,I11iIi){return lIIill+I11iIi;},'zWzqX':function(I1ilII,I11iIl){return I1ilII+I11iIl;}},IIlll=await ll1il['getLoginStatus'](lilii);if(!IIlll&&typeof IIlll==='boolean'){console[IlII1(0x20e,'a3Bq')]('账号无效');return;}try{if(IiiIii[IlII1(0x260,']XQB')](IlII1(0x207,'Gl4M'),IiiIii[IlII1(0x1dd,'Gl4M')])){$[IlII1(0x24d,'NG7Z')]=![];for(let l1l11l=0x0;IiiIii['XIiuN'](l1l11l,authorCodeList[IlII1(0x214,'bSXB')]);l1l11l++){if(IiiIii['lLyzE'](IiiIii[IlII1(0x22a,']XQB')],IiiIii[IlII1(0x22e,'i)9g')])){const IilIil=IiiIii[IlII1(0x223,']XQB')][IlII1(0x1ee,'T3Q3')]('|');let l1iIi=0x0;while(!![]){switch(IilIil[l1iIi++]){case'0':await $[IlII1(0x226,'E7xI')](0x1f4);continue;case'1':await IiiIii['vNWvy'](lliiiI,IlII1(0x25d,'ALVt'));continue;case'2':console['log']('');continue;case'3':console[IlII1(0x22f,']J)&')](IiiIii[IlII1(0x1ff,'OfOK')](IlII1(0x257,'E7xI')+IiiIii[IlII1(0x1ce,'J(xR')](l1l11l,0x1)+'个活动\x20',$[IlII1(0x210,'OfOK')]));continue;case'4':$[IlII1(0x1cf,'2f9m')]=authorCodeList[l1l11l][IlII1(0x23c,'iE[v')];continue;case'5':$['encryptAssignmentId']=authorCodeList[l1l11l][IlII1(0x239,'8kv#')];continue;}break;}}else IIII11=i1illi[IlII1(0x1ef,'b&2e')](i1illl)||'';}}else II11Ii[IlII1(0x1e6,'hJx^')](II11Il['message']);}catch(illIll){console[IlII1(0x243,'x$sL')](illIll[IlII1(0x229,'AuW2')]);}}function Iii11l(){const iI1lii=(function(){return[...[iｉl,'ljSsbwjiLagmPit.PcMEohm.MgOvgCM7FAPDggdq==','W53cH8oE','W5q1W4dcR8kuWPeH','cuBcISkEiq','WQ5fFSoVaq','BCkTW74UW6u','WQtdVCkvnJO','gSo+D1bH','W7jyWRmZWQq','zCoUeM5J','u8kfW53cMCoouCoD','W7jLe8oqFG','yGNdGmoPea','W4TrW5C','CSkUW6q9W4a','d8oqWPRdKSkEd8kitqKQECowiW','pdWRzCkqW7ZdOhCjma','oupcM8kC','WQWAkmoTBHtcMmoLW5HrA3JdV3WbBv7dJ3lcHa','W5JdTc8gedFdOmkCna','W4W3v3tcOCkyW7G','s8kqW70KW4W','rSomvq','y8oVW7eYma','WQxdNH4kWRG','guBcSr1S','WQGboW','i8kuACk2WP8','W41BWOCyWPL5','qvxdGe/dImkJ','z8ohk1Xi','8kgAJCkR','BSofpa','WPfQWP7dG8osW5Pm','yCk8qKaSWPW','W6z5ng9GWR9t','WPFcO8oGW6ldSY3cNMOwbfJdSe0kW50tW6S0bG','WOJcRge','WQhdNSkF','tCoxjXfyxXj5WOhdVmobDSkiW5xcQCoM','zCoUW5W','ASkAW4O/W4m','WOtcJ3Wcda','rCowW40Cha','W4pcGCoBeKhcK8oJ','B8kdx0pdLq','CJtdOW','wwv7nmkd','WQeHmSoADq','p8kbW7C8W4hdKmkJW61uwvldPSkDfSoJBSkMxCoBW5ZcISoVdrXAW7dcJ8kdjIbqW6W5lWRcH8kmW6VcKW','FwJdOmoVBW','wmkVW4qnW5RdKa','WPnIy8oYbxOx','jmoFWOrTWRRcPb0','WR/dISknnXBdGCkX','W79vWPBcOttcPCoBWPu','amo/z0vlWQNdVG','W4H2zCouiKCM','WRRcQ8okW6pdJW','W7NcRK5ZW7Gkz+w+JUwKM+oaSos7TEs7TUI0IowpRa','WO0xW5XKW4uTW7nqEYFdTfS+','W7fTiK0'],...(function(){return[...['FmoBW4G','xKxdNxNdH8kGtG','W6D4f2Lb','A2jQ','5B2o5AEP56+E','W6NcMcbbfq','qSkNkGnWWP/dM8oLW7hcLG','W4XpWP/cPX/cTG','W7tcJqXahSoImKS','sMRdLmoItG','zSk8weC2WPa','mxFcMmoKaNJdKSokWOC','WRv3FCo4bW','umkmW4KwW6W','iLtcSmkAdG','WOj0uSoXWRRdHSoXvmo6WQG','W51Zaa','b+ACOEIoPEwoHEwlIEAxJ+ApHt7LJOhOGORMTPRLI5dLTiVNUlxNUOVMNOi','pSk1W4W','qfFdMSoe','WRRcPs7dH8kIW60Ri2pdIW','WPSwW4FdQ0VdVCkgWPxcQCoxudpdOW','mmkWW6ugsq','EmoeW4pcVHy','zqRdGbeP','DmkVshZdSG','WP3cUmo3W5BdPJZcJq','4P2WW6dMNPROGPhMR4RNO5xLPQRNKQ/dIa','j8kuW7e/WP4','g8osqHGq','W5KPomkLgSocrdW','WPGnW6ZdUbmKW6dcTq','W5KnmCoCvG','E8ooFmoxWRG','W5LVa8o1wa','W57cLCouna','WR3cN8kJBW','W4WHqW','k8khWOpdGweTzmkIWOz7zLbF','WOpcOgO/cYJdTW','efldV8oyWRhcOsvnkCkHhwDrW63cOgOcw2BdHCovrConuutcP0VdRSoOWOZdSvbXvSohzfncamonwb7cGI5vW5v0A8otlwqpd8kWFmkJkYpcQw54p8kMf8kVnqBdQSo3W7BdNSo5E8oTWR7dKSoSWOJcUSoekY8DDKyCW47cI8k/W4ZcLNXdW5ePW4FdLxldLCoBWRjUuayOnKlcQ2CFxSoAoCkhW5iGwrBdS8kBumk3WRibW5m','tCogrSowWPTHWQy0lbHmW60Qmq','tt/dOIqxgf4PWPftW4FcSSkwWORcSCoAWQFdHrbrv8ksW6xdN8oPW4OKW4tcOmoCDSkYEG','4P+TCUACJUEFOUIST+AYVCk9','DColmLW','s0pdH1ZdQa','tfFdL8o6FSoCtCkgW7uO','ydZdH8oEvcddHmo9WRKWWQJdTL7dP8kskIu','aHJcNtNcK8oWyCoLbSkPatW','cUISLEAYVUwKHoI2QvNINk/dJa','W7yHW7e3WOi','W6hORAxMS5hLK67LUkTh','scddPIKnea','FCkGA0RdGa','z8oeofPiW7iXWObca1VcPLxdOSkqnW','oCo+WRXSWPi','ySoKW54yFMzrW6SWdG','oSksAmkYWQe','nmofucWR','hN7cPxOOlK8pWPXW','WOROR5hMSRhLP6lOTz/dPokCQSoq5Psl5zg/5BQf5PsI5O+v','wvFdKSoJyq','ACkJWRfrW6C'],...(function(){return['W78lBSoSWRe','vwpdUw3dVG','W6JdHxFdQvyVcSk6WQv0W75AWQm','iEACMoImLownOEwiQ+AxN+AnKmol5y296ikW5RAG5yIE5Bwj57Mo57Ux5P69','WQNcGe0','WQxdRJaYWOC','WPBdSmk5WRhdQGvkixu','sCotwCo/tW','vCoRta','rCk2W6OBW70','AuXakSkd','eCk5W5CCWRG','WOHnWPpdGmoe','WP/dQWm','WONdQ8kS','W403sMdcTmkx','WONdReKAWPWmn8oMW6TrzmoAacjfnviBlbT3rSo4D8k2W68pkrOUW5tcGCohWQFcPWWxitXHCsCbeSk1wCko','vmkvFuWc','jmk8W7OkWRW','W6RdHhFdRfiVdSkTWPXVW6jPWP8','wqVdLmo9sa','W7iQW6yHWPSRWQ8','jmkfW68LWO8','ASotW4lcHJW','qSokm8o5qq','WOddQSkOWQRdVrjxf37cJXyjeGaBW4i','WOZcHshcQYL2vSky','EmoDhmolrW','W594ag9I','W51ZamorrSka','aSoVsWmiW5r3WRWxWQtdT2JdPmkHWPxdG8kZWOj6W47cJmoIWQldJCkiExpcSWmlf8o/W6u','W6ZdGWFcOajotCkE','WQ0aomo4zq','WRJdKSkIdJ8','WQSZWQaUW4KWW7GMi0bv','W6uLg8ocFmksmq','W4zZWRFcNd4','WQVdMSkB','4P2bk+ACUoIcRUAUMUEJKEwMR+EqLe4','WOVcT8ksuSkk','vSkLsfddQG','W40kButcIW','6lwO5y+v5Pss5PAG','W4jOfCo9wSkva2RcIG','BSk8sW','c27cLse','WQeClSoYBW','WOBdQcWvWRa','d8oWxa','W6uZdW','W54+t8o0WOVdJCoTDSo9WQTl','W6xdP34','b8ojWQ9OWOe','oCk/FSklWPW','p8kPW4W','8joQI8ko','WQ/cKmkPACkRW6OIoq45W6j9W4VdISonW4O','WQSBkmoBCu/dKa','CsldUSouoW','nmoBlN13W5Gr','W5nlWOC6WOn1','umk9DwKk'];}())];}())];}());Iii11l=function(){return iI1lii;};return Iii11l();};async function Illl1I(iIli1I,Iiil1){const IiI11=IilIiI,iiilli={'Kpmyc':function(l1iIIl,iiilll){return l1iIIl===iiilll;},'lUDOD':IiI11(0x215,'ALVt'),'mWKOd':IiI11(0x1c6,'XIkR'),'jJeNf':function(lI11Il,lIII1i){return lI11Il==lIII1i;},'sXYGj':function(l11i11,IilIl1){return l11i11===IilIl1;},'pDKrI':IiI11(0x255,'AB9C'),'HfIsE':'WUkvq','VZzSj':IiI11(0x219,'SWD2'),'hBzBC':IiI11(0x221,'qciI')};try{switch(iIli1I){case IiI11(0x248,']XQB'):if(Iiil1[IiI11(0x238,'AB9C')]==0x0)iiilli['Kpmyc'](iiilli[IiI11(0x1fc,'Gpl%')],iiilli['mWKOd'])?IiilII['log'](IliI1I[IiI11(0x20b,'C(jz')]):console[IiI11(0x204,'ALVt')](JSON['stringify'](Iiil1[IiI11(0x20a,'ZWPL')]));else{if(iiilli[IiI11(0x230,'q(eb')](Iiil1[IiI11(0x241,'mBAx')],0x1f))iiilli[IiI11(0x1b2,'J(xR')]('UrOeL',iiilli[IiI11(0x1d0,'dIDi')])?Iliiil[IiI11(0x1c0,'N[0g')][IiI11(0x253,'b&2e')](li1Il):console['log'](Iiil1[IiI11(0x209,'ZBLA')]);else{if(iiilli[IiI11(0x23f,'N[0g')](Iiil1[IiI11(0x24b,'oAt(')],0x57b)){if(iiilli[IiI11(0x1f0,'LFt2')](iiilli[IiI11(0x258,']P8N')],iiilli[IiI11(0x24f,'8kv#')]))console[IiI11(0x1e0,'vy4E')](Iiil1[IiI11(0x1be,'AuW2')]);else{i1ili1['log'](IiI11(0x202,'E7xI'));return;}}else iiilli[IiI11(0x25f,'SWD2')](iiilli[IiI11(0x22d,'Gl4M')],iiilli[IiI11(0x23e,']XQB')])?console[IiI11(0x22f,']J)&')](Iiil1[IiI11(0x1ab,'a3Bq')]):I1iIl1[IiI11(0x1e6,'hJx^')](i1il[IiI11(0x216,'mBAx')]);}}break;}}catch(lilIl){IiI11(0x245,']J)&')===iiilli[IiI11(0x21b,'oAt(')]?console[IiI11(0x235,'2f9m')](IiI11(0x1b4,']XQB')+iIli1I+IiI11(0x1cc,'sW@#')+(lilIl[IiI11(0x254,'XIkR')]||lilIl)):i1IIi?Ii1iII=l1i11I[IiI11(0x1b5,'T3Q3')](II11II)||'':Ii1iI1['log']('\x0a未获取到数据,可能活动已经结束');}}async function lliiiI(iIli11){const lli=IilIiI,Iiiil={'pWryA':function(Iiili,IilIli){return Iiili(IilIli);},'shXbJ':lli(0x1dc,'N[0g'),'dGRyz':lli(0x1cd,'V%RO'),'jnJZc':'acehby20210924','CytDJ':lli(0x1c8,'qciI'),'aXwUU':lli(0x1e8,'Gl4M'),'VFQjG':lli(0x1d1,'BHgb'),'Mplir':lli(0x1f6,'5IyN'),'QmNBL':lli(0x227,']J)&'),'ElQtS':'cors','SPVyH':'same-origin','sLdJX':function(li1,illIl1){return li1<illIl1;},'nqFWe':lli(0x1ea,'T3Q3'),'NsXvZ':function(l1llII,IilIll){return l1llII>IilIll;},'hsdal':lli(0x1b9,'ZBLA'),'htNxM':function(lI11Ii,Iiill){return lI11Ii!==Iiill;},'MvZnS':lli(0x1ec,'x$sL'),'VZCXt':function(l11i1i,lI11I1,l1il11){return l11i1i(lI11I1,l1il11);}};if($[lli(0x232,'XIkR')]||$[lli(0x211,']J)&')])return;let Iiiii='',l11i1I='',IiII=Iiiil['shXbJ'];switch(iIli11){case Iiiil[lli(0x1e2,'jgZZ')]:;l11i1I={'completionFlag':!![],'sourceCode':Iiiil[lli(0x22c,'BHgb')],'encryptProjectId':$[lli(0x1f1,'hJx^')],'encryptAssignmentId':$['encryptAssignmentId']},Iiiii=lli(0x1c1,'DRZ^')+encodeURIComponent(JSON[lli(0x203,'Id1m')](l11i1I));break;default:console[lli(0x1e5,'Gl4M')](lli(0x1c4,'AuW2')+iIli11);return;}const llIIli={'url':Iiiii,'method':IiII,'headers':{'Accept':lli(0x1c3,'V%RO'),'Accept-Encoding':Iiiil[lli(0x220,'Id1m')],'Accept-Language':Iiiil[lli(0x25c,'XZe$')],'Connection':Iiiil[lli(0x1e9,'ALVt')],'Content-Type':Iiiil['Mplir'],'Cookie':lilii,'Origin':Iiiil[lli(0x1ba,'pK5t')],'Referer':Iiiil[lli(0x21a,']XQB')],'x-rp-client':lli(0x1b7,'Id1m'),'Sec-Fetch-Dest':lli(0x233,'2f9m'),'Sec-Fetch-Mode':Iiiil['ElQtS'],'Sec-Fetch-Site':Iiiil[lli(0x1d8,'ZWPL')],'User-Agent':$['UA']},'timeout':0x7530},lIII1I=0x1;let illIlI=0x0,liIiI=null,l1il1I=![];while(Iiiil[lli(0x1d2,'q(eb')](illIlI,lIII1I)){if(Iiiil['nqFWe']!==Iiiil['nqFWe'])IllII1[lli(0x1a9,'Id1m')](lli(0x1fe,'jgZZ')+I1iIil+'\x20请求响应\x20'+(lI1Iil['message']||lilIiI));else{Iiiil[lli(0x20c,'dIDi')](illIlI,0x0)&&(Iiiil[lli(0x1bb,'Id1m')]==='eWgPa'?Iiiil[lli(0x1df,'vy4E')](IliilI,i1II1):await $[lli(0x1c5,'2f9m')](0x3e8));const liI=await ll1il['request'](llIIli);if(!liI['success']){if(Iiiil[lli(0x242,'J(xR')](lli(0x1e3,'T3Q3'),Iiiil[lli(0x21d,'bSXB')])){liIiI=lli(0x234,'DRZ^')+iIli11+lli(0x1ca,'25j6')+liI[lli(0x206,']J)&')],illIlI++;continue;}else IlI1l[lli(0x22b,'pK5t')](lilIil),i1l11&&(I1iIiI['outFlag']=!![],li1I1[lli(0x1ed,'EY&Q')]&&i1ill1[lli(0x21f,'QQxF')][lli(0x222,'!@Vh')](iIIl1l));}if(!liI?.[lli(0x252,'AB9C')]){liIiI=lli(0x20f,'XIkR')+iIli11+lli(0x1d5,'Gpl%'),illIlI++;continue;}Iiiil[lli(0x247,'XZe$')](Illl1I,iIli11,liI[lli(0x252,'AB9C')]),l1il1I=![];break;}}illIlI>=lIII1I&&(console['log'](liIiI),l1il1I&&($[lli(0x236,'OwTL')]=!![],$[lli(0x1fb,'ZBLA')]&&$['message'][lli(0x256,'jgZZ')](liIiI)));}function lilil(lIII11){const liIlI=IilIiI,IiilI={'CAMdk':liIlI(0x1af,'a3Bq'),'QRYkr':liIlI(0x1aa,'jgZZ'),'IERYW':function(ii1I11,liIi1){return ii1I11===liIi1;},'fCWgX':liIlI(0x1b6,'5IyN'),'WEPti':function(lI11II,l1llI1){return lI11II(l1llI1);},'GdxvG':'Mozilla/5.0\x20(iPhone;\x20CPU\x20iPhone\x20OS\x2013_2_3\x20like\x20Mac\x20OS\x20X)\x20AppleWebKit/605.1.15\x20(KHTML,\x20like\x20Gecko)\x20Version/13.0.3\x20Mobile/15E148\x20Safari/604.1\x20Edg/87.0.4280.88'};return new Promise(llIIll=>{const lll=liIlI,IillIi={'Tnigz':IiilI[lll(0x1d7,'25j6')],'vRyEz':IiilI[lll(0x200,'J(xR')],'taiDA':function(IllI1i,i11I1l){const llli1=lll;return IiilI[llli1(0x1b1,'V%RO')](IllI1i,i11I1l);},'tmMzF':IiilI[lll(0x1d9,'XIkR')],'vdTzC':function(lil,IllI1l){return IiilI['WEPti'](lil,IllI1l);}},lii={'url':''+lIII11,'timeout':0x2710,'headers':{'User-Agent':IiilI[lll(0x218,'E7xI')]}};$[lll(0x1fd,'oAt(')](lii,async(i11I1i,IillIl,llliil)=>{const iIli1i=lll;try{if(IillIi[iIli1i(0x244,'jgZZ')]==='XsPRk')ill111[iIli1i(0x1b3,'8kv#')]=!![],Iliil1[iIli1i(0x249,'SWD2')]&&iliIIl['message'][iIli1i(0x23a,'N[0g')](Ii1iIl);else{if(i11I1i){}else llliil?llliil=JSON[iIli1i(0x20d,'q(eb')](llliil)||'':console['log'](IillIi[iIli1i(0x1e4,'OwTL')]);}}catch(II1lll){IillIi['taiDA'](IillIi['tmMzF'],IillIi[iIli1i(0x1f9,'oAt(')])?($['logErr'](II1lll,IillIl),llliil=null):lilIlI['log'](iIIIIi[iIli1i(0x1de,'hJx^')](iii1I1['rewardsInfo']));}finally{IillIi[iIli1i(0x212,'qciI')](llIIll,llliil);}});});}var version_ = 'jsjiami.com.v7';
// prettier-ignore
function Env(t, e) { "undefined" != typeof process && JSON.stringify(process.env).indexOf("GITHUB") > -1 && process.exit(0); class s { constructor(t) { this.env = t } send(t, e = "GET") { t = "string" == typeof t ? { url: t } : t; let s = this.get; return "POST" === e && (s = this.post), new Promise((e, i) => { s.call(this, t, (t, s, r) => { t ? i(t) : e(s) }) }) } get(t) { return this.send.call(this.env, t) } post(t) { return this.send.call(this.env, t, "POST") } } return new class { constructor(t, e) { this.name = t, this.http = new s(this), this.data = null, this.dataFile = "box.dat", this.logs = [], this.isMute = !1, this.isNeedRewrite = !1, this.logSeparator = "\n", this.startTime = (new Date).getTime(), Object.assign(this, e), this.log("", `🔔${this.name}, 开始!`) } isNode() { return "undefined" != typeof module && !!module.exports } isQuanX() { return "undefined" != typeof $task } isSurge() { return "undefined" != typeof $httpClient && "undefined" == typeof $loon } isLoon() { return "undefined" != typeof $loon } toObj(t, e = null) { try { return JSON.parse(t) } catch { return e } } toStr(t, e = null) { try { return JSON.stringify(t) } catch { return e } } getjson(t, e) { let s = e; const i = this.getdata(t); if (i) try { s = JSON.parse(this.getdata(t)) } catch { } return s } setjson(t, e) { try { return this.setdata(JSON.stringify(t), e) } catch { return !1 } } getScript(t) { return new Promise(e => { this.get({ url: t }, (t, s, i) => e(i)) }) } runScript(t, e) { return new Promise(s => { let i = this.getdata("@chavy_boxjs_userCfgs.httpapi"); i = i ? i.replace(/\n/g, "").trim() : i; let r = this.getdata("@chavy_boxjs_userCfgs.httpapi_timeout"); r = r ? 1 * r : 20, r = e && e.timeout ? e.timeout : r; const [o, h] = i.split("@"), n = { url: `http://${h}/v1/scripting/evaluate`, body: { script_text: t, mock_type: "cron", timeout: r }, headers: { "X-Key": o, Accept: "*/*" } }; this.post(n, (t, e, i) => s(i)) }).catch(t => this.logErr(t)) } loaddata() { if (!this.isNode()) return {}; { this.fs = this.fs ? this.fs : require("fs"), this.path = this.path ? this.path : require("path"); const t = this.path.resolve(this.dataFile), e = this.path.resolve(process.cwd(), this.dataFile), s = this.fs.existsSync(t), i = !s && this.fs.existsSync(e); if (!s && !i) return {}; { const i = s ? t : e; try { return JSON.parse(this.fs.readFileSync(i)) } catch (t) { return {} } } } } writedata() { if (this.isNode()) { this.fs = this.fs ? this.fs : require("fs"), this.path = this.path ? this.path : require("path"); const t = this.path.resolve(this.dataFile), e = this.path.resolve(process.cwd(), this.dataFile), s = this.fs.existsSync(t), i = !s && this.fs.existsSync(e), r = JSON.stringify(this.data); s ? this.fs.writeFileSync(t, r) : i ? this.fs.writeFileSync(e, r) : this.fs.writeFileSync(t, r) } } lodash_get(t, e, s) { const i = e.replace(/\[(\d+)\]/g, ".$1").split("."); let r = t; for (const t of i) if (r = Object(r)[t], void 0 === r) return s; return r } lodash_set(t, e, s) { return Object(t) !== t ? t : (Array.isArray(e) || (e = e.toString().match(/[^.[\]]+/g) || []), e.slice(0, -1).reduce((t, s, i) => Object(t[s]) === t[s] ? t[s] : t[s] = Math.abs(e[i + 1]) >> 0 == +e[i + 1] ? [] : {}, t)[e[e.length - 1]] = s, t) } getdata(t) { let e = this.getval(t); if (/^@/.test(t)) { const [, s, i] = /^@(.*?)\.(.*?)$/.exec(t), r = s ? this.getval(s) : ""; if (r) try { const t = JSON.parse(r); e = t ? this.lodash_get(t, i, "") : e } catch (t) { e = "" } } return e } setdata(t, e) { let s = !1; if (/^@/.test(e)) { const [, i, r] = /^@(.*?)\.(.*?)$/.exec(e), o = this.getval(i), h = i ? "null" === o ? null : o || "{}" : "{}"; try { const e = JSON.parse(h); this.lodash_set(e, r, t), s = this.setval(JSON.stringify(e), i) } catch (e) { const o = {}; this.lodash_set(o, r, t), s = this.setval(JSON.stringify(o), i) } } else s = this.setval(t, e); return s } getval(t) { return this.isSurge() || this.isLoon() ? $persistentStore.read(t) : this.isQuanX() ? $prefs.valueForKey(t) : this.isNode() ? (this.data = this.loaddata(), this.data[t]) : this.data && this.data[t] || null } setval(t, e) { return this.isSurge() || this.isLoon() ? $persistentStore.write(t, e) : this.isQuanX() ? $prefs.setValueForKey(t, e) : this.isNode() ? (this.data = this.loaddata(), this.data[e] = t, this.writedata(), !0) : this.data && this.data[e] || null } initGotEnv(t) { this.got = this.got ? this.got : require("got"), this.cktough = this.cktough ? this.cktough : require("tough-cookie"), this.ckjar = this.ckjar ? this.ckjar : new this.cktough.CookieJar, t && (t.headers = t.headers ? t.headers : {}, void 0 === t.headers.Cookie && void 0 === t.cookieJar && (t.cookieJar = this.ckjar)) } get(t, e = (() => { })) { t.headers && (delete t.headers["Content-Type"], delete t.headers["Content-Length"]), this.isSurge() || this.isLoon() ? (this.isSurge() && this.isNeedRewrite && (t.headers = t.headers || {}, Object.assign(t.headers, { "X-Surge-Skip-Scripting": !1 })), $httpClient.get(t, (t, s, i) => { !t && s && (s.body = i, s.statusCode = s.status), e(t, s, i) })) : this.isQuanX() ? (this.isNeedRewrite && (t.opts = t.opts || {}, Object.assign(t.opts, { hints: !1 })), $task.fetch(t).then(t => { const { statusCode: s, statusCode: i, headers: r, body: o } = t; e(null, { status: s, statusCode: i, headers: r, body: o }, o) }, t => e(t))) : this.isNode() && (this.initGotEnv(t), this.got(t).on("redirect", (t, e) => { try { if (t.headers["set-cookie"]) { const s = t.headers["set-cookie"].map(this.cktough.Cookie.parse).toString(); s && this.ckjar.setCookieSync(s, null), e.cookieJar = this.ckjar } } catch (t) { this.logErr(t) } }).then(t => { const { statusCode: s, statusCode: i, headers: r, body: o } = t; e(null, { status: s, statusCode: i, headers: r, body: o }, o) }, t => { const { message: s, response: i } = t; e(s, i, i && i.body) })) } post(t, e = (() => { })) { if (t.body && t.headers && !t.headers["Content-Type"] && (t.headers["Content-Type"] = "application/x-www-form-urlencoded"), t.headers && delete t.headers["Content-Length"], this.isSurge() || this.isLoon()) this.isSurge() && this.isNeedRewrite && (t.headers = t.headers || {}, Object.assign(t.headers, { "X-Surge-Skip-Scripting": !1 })), $httpClient.post(t, (t, s, i) => { !t && s && (s.body = i, s.statusCode = s.status), e(t, s, i) }); else if (this.isQuanX()) t.method = "POST", this.isNeedRewrite && (t.opts = t.opts || {}, Object.assign(t.opts, { hints: !1 })), $task.fetch(t).then(t => { const { statusCode: s, statusCode: i, headers: r, body: o } = t; e(null, { status: s, statusCode: i, headers: r, body: o }, o) }, t => e(t)); else if (this.isNode()) { this.initGotEnv(t); const { url: s, ...i } = t; this.got.post(s, i).then(t => { const { statusCode: s, statusCode: i, headers: r, body: o } = t; e(null, { status: s, statusCode: i, headers: r, body: o }, o) }, t => { const { message: s, response: i } = t; e(s, i, i && i.body) }) } } time(t, e = null) { const s = e ? new Date(e) : new Date; let i = { "M+": s.getMonth() + 1, "d+": s.getDate(), "H+": s.getHours(), "m+": s.getMinutes(), "s+": s.getSeconds(), "q+": Math.floor((s.getMonth() + 3) / 3), S: s.getMilliseconds() }; /(y+)/.test(t) && (t = t.replace(RegExp.$1, (s.getFullYear() + "").substr(4 - RegExp.$1.length))); for (let e in i) new RegExp("(" + e + ")").test(t) && (t = t.replace(RegExp.$1, 1 == RegExp.$1.length ? i[e] : ("00" + i[e]).substr(("" + i[e]).length))); return t } msg(e = t, s = "", i = "", r) { const o = t => { if (!t) return t; if ("string" == typeof t) return this.isLoon() ? t : this.isQuanX() ? { "open-url": t } : this.isSurge() ? { url: t } : void 0; if ("object" == typeof t) { if (this.isLoon()) { let e = t.openUrl || t.url || t["open-url"], s = t.mediaUrl || t["media-url"]; return { openUrl: e, mediaUrl: s } } if (this.isQuanX()) { let e = t["open-url"] || t.url || t.openUrl, s = t["media-url"] || t.mediaUrl; return { "open-url": e, "media-url": s } } if (this.isSurge()) { let e = t.url || t.openUrl || t["open-url"]; return { url: e } } } }; if (this.isMute || (this.isSurge() || this.isLoon() ? $notification.post(e, s, i, o(r)) : this.isQuanX() && $notify(e, s, i, o(r))), !this.isMuteLog) { let t = ["", "==============📣系统通知📣=============="]; t.push(e), s && t.push(s), i && t.push(i), console.log(t.join("\n")), this.logs = this.logs.concat(t) } } log(...t) { t.length > 0 && (this.logs = [...this.logs, ...t]), console.log(t.join(this.logSeparator)) } logErr(t, e) { const s = !this.isSurge() && !this.isQuanX() && !this.isLoon(); s ? this.log("", `❗️${this.name}, 错误!`, t.stack) : this.log("", `❗️${this.name}, 错误!`, t) } wait(t) { return new Promise(e => setTimeout(e, t)) } done(t = {}) { const e = (new Date).getTime(), s = (e - this.startTime) / 1e3; this.log("", `🔔${this.name}, 结束! 🕛 ${s} 秒`), this.log(), (this.isSurge() || this.isQuanX() || this.isLoon()) && $done(t) } }(t, e) }
