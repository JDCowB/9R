/*
取关（收藏的）店铺和商品
环境变量：JD_UNFOLLOW_PIN_FILTER_GOODS // 不取关商品收藏的账号（填入pin，多个用@分割）
          JD_UNFOLLOW_PIN_FILTER_SHOP // 不取关店铺关注的账号（填入pin，多个用@分割）

cron:15 0-23/12 * * *
============Quantumultx===============
[task_local]
#取关（收藏的）店铺和商品
15 0-23/12 * * * jd_unfollow.js, tag=取关（收藏的）店铺和商品, enabled=true

注：系统可能会存在无法被正常取关的异常商品或异常店铺

*/

const $ = new Env('取关店铺关注和商品')
var iｉl='jsjiami.com.v7';const llllI=iii1II;(function(iil1l1,lllli,iiili1,ill11i,lllill,ill11l,I1lIiI){return iil1l1=iil1l1>>0x2,ill11l='hs',I1lIiI='hs',function(lllili,IliiiI,Ill11,liiIII,li1i11){const ii1ii1=iii1II;liiIII='tfi',ill11l=liiIII+ill11l,li1i11='up',I1lIiI+=li1i11,ill11l=Ill11(ill11l),I1lIiI=Ill11(I1lIiI),Ill11=0x0;const iI11I1=lllili();while(!![]&&--ill11i+IliiiI){try{liiIII=parseInt(ii1ii1(0x2c8,'WySh'))/0x1+parseInt(ii1ii1(0x230,'pZ!R'))/0x2*(-parseInt(ii1ii1(0x2d4,'XqcK'))/0x3)+-parseInt(ii1ii1(0x2ce,'3E3J'))/0x4*(-parseInt(ii1ii1(0x296,'350T'))/0x5)+-parseInt(ii1ii1(0x27b,'u@w8'))/0x6*(-parseInt(ii1ii1(0x23f,'n5(i'))/0x7)+-parseInt(ii1ii1(0x27a,'Ojo^'))/0x8*(-parseInt(ii1ii1(0x280,'3E3J'))/0x9)+-parseInt(ii1ii1(0x238,'XqcK'))/0xa+-parseInt(ii1ii1(0x1c9,'EgOw'))/0xb*(parseInt(ii1ii1(0x1e7,'TzGw'))/0xc);}catch(il1i1l){liiIII=Ill11;}finally{li1i11=iI11I1[ill11l]();if(iil1l1<=ill11i)Ill11?lllill?liiIII=li1i11:lllill=li1i11:Ill11=li1i11;else{if(Ill11==lllill['replace'](/[PfCurQGeDxgMENyAOk=]/g,'')){if(liiIII===IliiiI){iI11I1['un'+ill11l](li1i11);break;}iI11I1[I1lIiI](li1i11);}}}}}(iiili1,lllli,function(IlIlll,IIIl1I,iil1ii,IlIlli,il1i1i,lil111,i11ilI){return IIIl1I='\x73\x70\x6c\x69\x74',IlIlll=arguments[0x0],IlIlll=IlIlll[IIIl1I](''),iil1ii='\x72\x65\x76\x65\x72\x73\x65',IlIlll=IlIlll[iil1ii]('\x76'),IlIlli='\x6a\x6f\x69\x6e',(0x15f7d5,IlIlll[IlIlli](''));});}(0x318,0xd7006,Iii11l,0xc8),Iii11l)&&(iｉl=0x1fee);const jdCookie=require(llllI(0x275,'r)jG')),notify=require('./utils/Rebels_sendJDNotify'),common=require(llllI(0x204,'0BpQ')),{H5st}=require(llllI(0x259,'350T'));console[llllI(0x20f,'Gku!')](''),console[llllI(0x22a,'I7ih')](llllI(0x1c0,'l&kk')+$['name']+llllI(0x24d,'r)jG')),console['log'](llllI(0x2c3,'3E3J')),console[llllI(0x281,'RaCu')](llllI(0x19c,'2$fI')),console[llllI(0x208,'@ueS')](llllI(0x1c0,'l&kk')+$['name']+llllI(0x1f8,'rTZY')),console['log']('');const pinFilterGoods=(process['env'][llllI(0x23b,'WySh')]||'')[llllI(0x217,'q^x)')]('@'),pinFilterShop=(process['env'][llllI(0x1d2,'&IRm')]||'')['split']('@'),isNotify=![];let cookie='';const cookiesArr=Object[llllI(0x23a,'3E3J')](jdCookie)[llllI(0x250,'gU6g')](Iiill=>jdCookie[Iiill])['filter'](l11i1i=>l11i1i);!cookiesArr[0x0]&&($[llllI(0x24b,'Qq8r')]($[llllI(0x1a5,'CYuG')],'【提示】请先获取Cookie'),process[llllI(0x223,'C5qw')](0x1));!(async()=>{const lllil1=llllI,lI11I1={'XiTkt':function(l1il11,IiI1){return l1il11+IiI1;},'KsNBh':lllil1(0x21d,'&P59'),'NhIvO':function(liI){return liI();},'doOkr':lllil1(0x25b,'oSP]'),'jIUqt':lllil1(0x20c,'!EmB')};notify[lllil1(0x285,'350T')]({'title':$[lllil1(0x1cc,'*hzp')]});for(let illIli=0x0;illIli<cookiesArr[lllil1(0x251,'RaCu')];illIli++){$[lllil1(0x1fd,'QjFN')]=lI11I1['XiTkt'](illIli,0x1),cookie=cookiesArr[illIli],common[lllil1(0x1eb,'Sa8y')](cookie),$[lllil1(0x283,'gU6g')]=decodeURIComponent(common[lllil1(0x229,'p560')](cookie,lI11I1[lllil1(0x1ef,'C5qw')])),$[lllil1(0x1b4,'RaCu')]=notify[lllil1(0x22f,'j[H#')]($[lllil1(0x2a9,'GcLY')],$['UserName']),$[lllil1(0x282,'Ojo^')]='',console[lllil1(0x191,'350T')]('\x0a******开始【京东账号'+$[lllil1(0x1ad,'Gku!')]+'】'+($['nickName']||$[lllil1(0x220,'l&kk')])+lllil1(0x1cd,'n5(i')),await lI11I1[lllil1(0x225,'@ueS')](Main),common[lllil1(0x1c7,'0BpQ')]();if($['runEnd'])break;await $[lllil1(0x214,'rTZY')](0x7d0);}isNotify&&notify[lllil1(0x1c8,'@ueS')]()&&(lI11I1['doOkr']===lI11I1['jIUqt']?iliIIi[lllil1(0x1ea,'Jsue')](lllil1(0x25a,'XqcK')+(ill11I?.[lllil1(0x27d,'RaCu')]||Iliiil[lllil1(0x235,'350T')](li1Il))):await notify[lllil1(0x293,'Gc$B')]());})()['catch'](lIII11=>$[llllI(0x222,'oSP]')](lIII11))['finally'](()=>$['done']());async function Main(){const iil1il=llllI,IiilI={'sludG':iil1il(0x240,'Fi)x'),'DmvGz':'取关商品收藏成功','QtTEg':'已设置当前账号不取关店铺关注','AQKVt':'【提示】请先获取Cookie','ZrkmK':function(liIi1,lI11II){return liIi1===lI11II;},'yEehg':'boolean','UGrxy':iil1il(0x22d,'n5(i'),'vsFRV':iil1il(0x28b,'n]XW'),'OsqCo':iil1il(0x192,'QjFN'),'MWLMD':function(l1llI1,llIIll){return l1llI1(llIIll);},'xSlMH':iil1il(0x1b6,'EhT^'),'cdTRW':'已设置当前账号不取关商品收藏','wTqKM':iil1il(0x2c5,')!oh'),'CVimb':function(IillIi,lii){return IillIi<lii;},'EIGJf':iil1il(0x26c,'q^x)'),'TdHJd':function(IllI1i,i11I1l){return IllI1i>i11I1l;},'ANFCh':iil1il(0x1f3,'Gc$B'),'lSjPG':'fcgVX','PldVx':'没有收藏的商品','WmgvS':function(lil,IllI1l){return lil>IllI1l;},'WXcgS':function(i11I1i,IillIl){return i11I1i(IillIl);},'eLquX':function(llliil,liIl1){return llliil(liIl1);},'lYOVy':'QueryShopFavList','YjkDW':function(II1lll,II1lli){return II1lll!==II1lli;},'NiKfC':iil1il(0x1a0,'n]XW'),'nGbwj':function(ii1I1I,IiIl){return ii1I1I<=IiIl;},'MLbwg':function(IiIi,iI1ll1){return IiIi(iI1ll1);},'sDwKp':iil1il(0x24f,'j[H#'),'tcyFI':iil1il(0x205,')!oh'),'DltVA':function(IlI1Il,l1il1l){return IlI1Il(l1il1l);},'mKjNr':iil1il(0x1ca,'pZ!R'),'KEdXf':function(liIil,IllI1I){return liIil===IllI1I;},'OYUyq':iil1il(0x2d8,'350T'),'yiqDW':iil1il(0x242,'oSP]')},ii1I11=await common[iil1il(0x21b,'q^x)')](cookie);if(!ii1I11&&IiilI[iil1il(0x180,'u@w8')](typeof ii1I11,IiilI[iil1il(0x1aa,'Fi)x')])){if(IiilI[iil1il(0x29b,'0BpQ')]!==IiilI[iil1il(0x2ca,'350T')]){console[iil1il(0x236,'(hd[')]('账号无效');return;}else iii1Il['log'](IiilI[iil1il(0x298,'!EmB')]),lI1IiI['message'][iil1il(0x207,'XqcK')](IiilI[iil1il(0x1e8,'*hzp')]);}try{if(IiilI[iil1il(0x190,'X44C')](iil1il(0x25e,'n]XW'),IiilI[iil1il(0x2a2,'fUey')])){if(pinFilterGoods[iil1il(0x2dd,'nS]Q')]>0x0&&(pinFilterGoods['includes']($[iil1il(0x19f,'!EmB')])||pinFilterGoods[iil1il(0x2b7,'TzGw')](IiilI['MWLMD'](encodeURIComponent,$[iil1il(0x269,'TzGw')]))))IiilI[iil1il(0x2bb,'gU6g')]===iil1il(0x2bf,'u@w8')?console[iil1il(0x2a7,'nS]Q')](IiilI[iil1il(0x28f,'QjFN')]):iIIIIl['log'](IiilI['QtTEg']);else{$['totalNum']=0x0,$['followProductList']=[],await IiilI[iil1il(0x2cb,'r)jG')](sendRequest,IiilI[iil1il(0x2cd,'&P59')]);if($[iil1il(0x26d,'&IRm')]>0x0){console[iil1il(0x20f,'Gku!')]('已收藏'+$[iil1il(0x1e2,'n5(i')]+'件商品'),$[iil1il(0x1a6,'u@w8')][iil1il(0x237,'NdLN')]('已收藏'+$[iil1il(0x184,'S#)I')]+iil1il(0x1de,'*hzp'));const IlI1Ii=Math[iil1il(0x1f0,'Sa8y')]($[iil1il(0x1d7,'pZ!R')]/0x1e);for(let i11I1I=0x0;IiilI['CVimb'](i11I1I,IlI1Ii);i11I1I++){if(IiilI[iil1il(0x1a2,'j[H#')]===IiilI['EIGJf']){await $['wait'](0x3e8),$[iil1il(0x211,'(hd[')]=$[iil1il(0x22c,'rTZY')][iil1il(0x21e,'KXJs')](l1il1i=>l1il1i?.[iil1il(0x227,'Gku!')]&&l1il1i?.[iil1il(0x1e6,'rTZY')]&&l1il1i?.[iil1il(0x1fa,'q^x)')]!=='0');if(IiilI['TdHJd']($['followProductList'][iil1il(0x228,'&P59')],0x0)){const ll1=$['followProductList']['map'](iI1llI=>iI1llI[iil1il(0x213,'gU6g')]);console[iil1il(0x18a,'!EmB')](iil1il(0x243,'fUey')+ll1[iil1il(0x1c1,'2$fI')]+'件商品'),$[iil1il(0x21f,'#@pr')]=ll1[iil1il(0x2d1,'WySh')](','),await sendRequest(IiilI[iil1il(0x292,'X44C')]),await $[iil1il(0x1dc,'Ojo^')](0x7d0);}$[iil1il(0x1cb,'&IRm')]=[],$[iil1il(0x24a,'S#)I')]='',await sendRequest(IiilI[iil1il(0x20b,'rTZY')]),await $[iil1il(0x210,'350T')](0x1388);}else IIlii[iil1il(0x224,'@ueS')]['fix'](IlI1il);}}else IiilI[iil1il(0x1c4,'GcLY')]===IiilI['lSjPG']?(console['log'](IiilI[iil1il(0x1ee,'C5qw')]),$[iil1il(0x2ac,'&P59')][iil1il(0x29d,'EgOw')]('没有收藏的商品')):(delete I1iIll['data'],delete I1lliI['headers'][iil1il(0x248,')!oh')]);}console[iil1il(0x208,'@ueS')]('');if(IiilI[iil1il(0x24c,'S#)I')](pinFilterShop[iil1il(0x197,'EgOw')],0x0)&&(pinFilterShop[iil1il(0x21c,'fUey')]($[iil1il(0x215,'CYuG')])||pinFilterShop[iil1il(0x2ad,'nS]Q')](IiilI[iil1il(0x1bb,'r)jG')](encodeURIComponent,$[iil1il(0x188,'lUsE')]))))console[iil1il(0x27c,'Fi)x')](IiilI[iil1il(0x276,'p560')]);else{$['totalNum']=0x0,$[iil1il(0x216,'Fi)x')]=[],await IiilI[iil1il(0x2a4,'Jsue')](sendRequest,IiilI['lYOVy']);if(IiilI['TdHJd']($[iil1il(0x2b0,'XqcK')],0x0)){console['log'](iil1il(0x18c,'r)jG')+$[iil1il(0x2b0,'XqcK')]+iil1il(0x297,'!EmB')),$[iil1il(0x193,'KXJs')][iil1il(0x277,'rTZY')](iil1il(0x2d5,'p560')+$['totalNum']+iil1il(0x182,'S#)I'));const l1llIi=Math['ceil']($['totalNum']/0xa);for(let II1llI=0x0;II1llI<l1llIi;II1llI++){if(IiilI[iil1il(0x198,'Gc$B')](IiilI[iil1il(0x279,'RaCu')],IiilI[iil1il(0x1b7,'EhT^')]))lilIl1[iil1il(0x218,'WySh')](i1l1ii['name'],IiilI[iil1il(0x1f6,'EgOw')]),i1l1['exit'](0x1);else{await $[iil1il(0x1dd,'KXJs')](0x3e8),$[iil1il(0x286,'KXJs')]=$[iil1il(0x2cf,'u@w8')][iil1il(0x1af,'r)jG')](l1llIl=>l1llIl?.[iil1il(0x196,'Ojo^')]&&l1llIl?.['venderId']&&l1llIl?.['shopId']&&l1llIl?.['shopId']!=='0');if($[iil1il(0x189,'oSP]')][iil1il(0x202,'&IRm')]>0x0){const ii1I1l=$[iil1il(0x1f4,'I7ih')]['map'](ii1I1i=>ii1I1i[iil1il(0x254,'TzGw')]);console[iil1il(0x18f,'Ojo^')]('去取关'+ii1I1l['length']+'个店铺'),IiilI['nGbwj'](ii1I1l[iil1il(0x1c1,'2$fI')],0x1)?($[iil1il(0x2b1,'350T')]=ii1I1l[0x0]||'',await IiilI[iil1il(0x2aa,'CYuG')](sendRequest,IiilI[iil1il(0x1d9,'&P59')])):IiilI[iil1il(0x2d6,'0BpQ')](IiilI[iil1il(0x245,'KXJs')],iil1il(0x1be,'&IRm'))?lI1Ili[iil1il(0x27e,'fUey')](IliilI,i1II1):($[iil1il(0x272,'X44C')]=ii1I1l[iil1il(0x299,'oSP]')](','),await sendRequest('batchunfollow')),await $[iil1il(0x241,'X44C')](0x7d0);}$[iil1il(0x1d8,'Qq8r')]=[],$[iil1il(0x2a1,'3E3J')]='',await IiilI['DltVA'](sendRequest,IiilI[iil1il(0x187,'EhT^')]),await $['wait'](0x1388);}}}else console[iil1il(0x22e,'KXJs')](IiilI[iil1il(0x1ae,'@ueS')]),$['message'][iil1il(0x1ff,'l&kk')](iil1il(0x1ce,'Sa8y'));}}else lI1Iil['log'](iil1il(0x287,'j[H#')+(lilIiI?.[iil1il(0x199,'3E3J')]||i1l1I['stringify'](IiilIi)));}catch(lllii1){IiilI['KEdXf'](IiilI[iil1il(0x18b,'@ueS')],IiilI[iil1il(0x261,'pZ!R')])?(lIIil1[iil1il(0x22b,'n5(i')](IIli1),II1liI&&(I1l1Il['outFlag']=!![],llIll1[iil1il(0x1f1,'3E3J')]&&lIIiil['message'][iil1il(0x18d,'&IRm')](l1lIii))):console[iil1il(0x22e,'KXJs')](iil1il(0x1a7,'3E3J')+lllii1);}}async function handleResponse(liIll,IilIi1){const ilil1I=llllI,iI1liI={'KnczT':'queryFollowProduct','Dbbeq':function(l1lIiI,llliiI){return l1lIiI===llliiI;},'JszfR':function(IilIiI,i1i1I1){return IilIiI(i1i1I1);},'lYRaq':function(IlII1,IiI11){return IlII1===IiI11;},'SfgjX':'SSlEs','YxNwi':'ZBkDg','eFsuN':ilil1I(0x1e4,'r)jG'),'rydvG':ilil1I(0x246,'!EmB'),'gThVT':function(lli,liIlI){return lli===liIlI;},'swXPK':function(lll,llli1){return lll(llli1);},'gbyJe':function(iIli1i,iI1lii){return iIli1i===iI1lii;},'dKkZf':ilil1I(0x2bc,'oSP]'),'jcAMe':ilil1I(0x2d3,'QjFN')};try{switch(liIll){case iI1liI[ilil1I(0x2ab,'QjFN')]:iI1liI['Dbbeq'](IilIi1['code'],'0')?($[ilil1I(0x1cb,'&IRm')]=IilIi1[ilil1I(0x2be,'TzGw')]||[],$['totalNum']=iI1liI[ilil1I(0x260,'Fi)x')](parseInt,IilIi1?.[ilil1I(0x2c1,'NdLN')]||0x0)):console['log'](ilil1I(0x23c,'350T')+(IilIi1?.[ilil1I(0x1b3,'&IRm')]||JSON['stringify'](IilIi1)));break;case ilil1I(0x1e1,'q^x)'):iI1liI[ilil1I(0x195,'Gku!')](IilIi1[ilil1I(0x181,'EhT^')],'0')?iI1liI[ilil1I(0x253,'WySh')]!==iI1liI[ilil1I(0x183,'S#)I')]?(console[ilil1I(0x1b2,'l&kk')](iI1liI[ilil1I(0x25f,'#@pr')]),$['message'][ilil1I(0x2dc,'Gku!')](iI1liI[ilil1I(0x20d,'l&kk')])):(i1illI[ilil1I(0x226,'XqcK')]('>\x20取关店铺关注成功'),i1IIl[ilil1I(0x239,'p560')][ilil1I(0x244,'fUey')](ilil1I(0x201,'*hzp'))):(console[ilil1I(0x2d7,'S#)I')]('>\x20取关商品收藏失败\x20=>\x20'+(IilIi1?.[ilil1I(0x1b5,'pZ!R')]||JSON['stringify'](IilIi1))),$[ilil1I(0x255,'Jsue')][ilil1I(0x268,'KXJs')]('取关商品收藏失败'));break;case ilil1I(0x26f,'2$fI'):iI1liI['gThVT'](IilIi1[ilil1I(0x264,'Ojo^')],'0')?($[ilil1I(0x28a,'@ueS')]=IilIi1[ilil1I(0x19b,'n5(i')]||[],$['totalNum']=iI1liI['swXPK'](parseInt,IilIi1?.[ilil1I(0x26e,'@ueS')]||0x0)):console[ilil1I(0x27f,'rTZY')](ilil1I(0x1fc,'0BpQ')+(IilIi1?.['errMsg']||JSON[ilil1I(0x200,'fUey')](IilIi1)));break;case ilil1I(0x2c9,'S#)I'):case ilil1I(0x1cf,'Jsue'):iI1liI[ilil1I(0x2a5,'r)jG')](IilIi1['iRet'],'0')?(console[ilil1I(0x278,'lUsE')](iI1liI[ilil1I(0x24e,'lUsE')]),$[ilil1I(0x295,'Sa8y')]['insert'](iI1liI[ilil1I(0x29a,'WySh')])):(console[ilil1I(0x208,'@ueS')](ilil1I(0x1ec,'&P59')+(IilIi1?.['errMsg']||JSON[ilil1I(0x19e,'u@w8')](IilIi1))),$[ilil1I(0x2af,'j[H#')]['insert']('取关店铺关注失败'));break;}}catch(iI1lil){console[ilil1I(0x270,'fUey')]('❌\x20未能正确处理\x20'+liIll+ilil1I(0x2a8,'3E3J')+(iI1lil['message']||iI1lil));}}function iii1II(_0x481964,_0x5446ff){const _0x4456c8=Iii11l();return iii1II=function(_0x44942f,_0x184bf6){_0x44942f=_0x44942f-0x180;let _0x22a99f=_0x4456c8[_0x44942f];if(iii1II['cYgYAv']===undefined){var _0x5c6dd=function(_0x1b228e){const _0x1a7e70='abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=';let _0x25d07f='',_0x49d0dc='';for(let _0x42fbfd=0x0,_0x35d1cb,_0x5227e0,_0x5a58c6=0x0;_0x5227e0=_0x1b228e['charAt'](_0x5a58c6++);~_0x5227e0&&(_0x35d1cb=_0x42fbfd%0x4?_0x35d1cb*0x40+_0x5227e0:_0x5227e0,_0x42fbfd++%0x4)?_0x25d07f+=String['fromCharCode'](0xff&_0x35d1cb>>(-0x2*_0x42fbfd&0x6)):0x0){_0x5227e0=_0x1a7e70['indexOf'](_0x5227e0);}for(let _0x2eded8=0x0,_0xe23705=_0x25d07f['length'];_0x2eded8<_0xe23705;_0x2eded8++){_0x49d0dc+='%'+('00'+_0x25d07f['charCodeAt'](_0x2eded8)['toString'](0x10))['slice'](-0x2);}return decodeURIComponent(_0x49d0dc);};const _0x395646=function(_0x2bf81b,_0x3980b8){let _0x1314cb=[],_0x2e8494=0x0,_0x5fe895,_0x558fef='';_0x2bf81b=_0x5c6dd(_0x2bf81b);let _0x557501;for(_0x557501=0x0;_0x557501<0x100;_0x557501++){_0x1314cb[_0x557501]=_0x557501;}for(_0x557501=0x0;_0x557501<0x100;_0x557501++){_0x2e8494=(_0x2e8494+_0x1314cb[_0x557501]+_0x3980b8['charCodeAt'](_0x557501%_0x3980b8['length']))%0x100,_0x5fe895=_0x1314cb[_0x557501],_0x1314cb[_0x557501]=_0x1314cb[_0x2e8494],_0x1314cb[_0x2e8494]=_0x5fe895;}_0x557501=0x0,_0x2e8494=0x0;for(let _0x3bf9ed=0x0;_0x3bf9ed<_0x2bf81b['length'];_0x3bf9ed++){_0x557501=(_0x557501+0x1)%0x100,_0x2e8494=(_0x2e8494+_0x1314cb[_0x557501])%0x100,_0x5fe895=_0x1314cb[_0x557501],_0x1314cb[_0x557501]=_0x1314cb[_0x2e8494],_0x1314cb[_0x2e8494]=_0x5fe895,_0x558fef+=String['fromCharCode'](_0x2bf81b['charCodeAt'](_0x3bf9ed)^_0x1314cb[(_0x1314cb[_0x557501]+_0x1314cb[_0x2e8494])%0x100]);}return _0x558fef;};iii1II['EyCWqP']=_0x395646,_0x481964=arguments,iii1II['cYgYAv']=!![];}const _0x1573bb=_0x4456c8[0x0],_0x1cfb24=_0x44942f+_0x1573bb,_0x1fcbbf=_0x481964[_0x1cfb24];return!_0x1fcbbf?(iii1II['jBALyd']===undefined&&(iii1II['jBALyd']=!![]),_0x22a99f=iii1II['EyCWqP'](_0x22a99f,_0x184bf6),_0x481964[_0x1cfb24]=_0x22a99f):_0x22a99f=_0x1fcbbf,_0x22a99f;},iii1II(_0x481964,_0x5446ff);}function Iii11l(){const ii1iiI=(function(){return[iｉl,'OAfjuMsPjPQigCamOeigy.NcokmD.EGevGu7xffr==','zYy3','WOBORzVMS4/LKy7LUBOV','WRZcOCkSomoQ','W6v3W5HIxq','W6fHtZtdOq','W5OMa30SWR1U','yICZCbLLDCok','W4tdJCk4W7m+W5xdN8k5W4JdQCkWWODrjmogW7P4','wSosySojkbL0','W7ZdS0ZdS2CnWOvz','cLmXx8kTWRq','W4tcJ0/cHqO','F8k2WQK5DW','gN3dVmoEWQ09W4icW4NdH1KfaG','hvOQtG','F8onk8onWOG','pbKuWRGMW5qzWO4','W5DRW6u6BW','W7JcNUwnVUwfS+wvK+wrNoAvKEIuU+wMNoI2SSoEp8kgW5K','W6BdUCk9lSoHA23cVq','WPldRwVdRvO','WP105y+G5yEq5BM66zk35yA35Rg/5OUd5yI3','hNddS8owWQPkWRWKW4RdNLa','mXGBWRG8W4CSWO8Fn8osWQ5Zxxm8uW','kuCiW6qp','wuL5c0RcSsX1W6asFmkIW7r0W4FcHSkduqH2rXNcKKZcSmkytwj8zsDKrCo9w8k5fW','v8oxb8kOqxpdQCoc','WPVcLc1uW5qXW5vKiYfqW5VdNmkojmoitmkP','W6ZdQmosW5BcOeNcJchcS8kJW5JcMHdcG0RcJMlcUComf3uRW4tdS8klWQu6dmo9W6ighEs6GUwpRowfH+wxVEwsN+AuI+IvNEEyPEI1QowoTE+/SowJOowgKsizq+++OEwMR+s7GUEuI0NLIzVLIB0','W6PKWPb6WQ81WQpdOXGspSoCWOiBWONdULX+','WRGgWQP/BMi+WRjcx0nDW4OEaxVcOmoN','huWiDCkP','WP3dKeJdSve','W7RdOcCJmSk9xxy7lSoksmkD','WQFdGbldIepdSgTSW6xdGa','d0GyFCkY','BmoIfhvJ','gCkuy2lcRCkPWP3dI8k/xI4','W4axauua','WPldPmoyW7xcGv/cHG','lf8hW7WYzSolW55IBSoGWO4hWQWUWQtdRKmzCq','qLvIc3ddRW','WQhcVNz+','W6BORyNMS6RLPlhOTldcVEkFU8ou5Pwn5zgA5BMQ5PwY5O+w','5y285yw85BQ76zk05yEg5Rki5OQm5yMt','WRVcR13dG0e1WQHS','5Bwr5yEe5Rc5','mmkhzwRdIW','WO/dIHK','avKxAmkV','A8oucKfO','wCkDWOG','W69SW5tdJ8oWx8kQW7rZfNFcMW','qSovW47cL8k6Bq','zYW+EXHP','W77cJN7cMYe8W7xcQ8o1','uCoukLLkWORcHmo3zJa','j1GjW6ma','WONcJIXd','5lUj5BIY6zke','WRRdNtddRei','WPFdIGRdUKFdKw5h','wmkgWRKwsG','WRi1WPu','WOBcUaDWW5q','ze5OcxFdQM4/','W7iHu8orWPqEWQZdUmkJW65sWQRdQmkMWOrVW4VcLhpcUW','W6hcLwS','hCk5W77cJCou','5BEt5yEg5RkW','x07dUW','W5H6qGVdMWq','WQXmAG','ASobru3dMG','fvq5','W6neDI3dSG','WRVdO8kmWPFdHSoouG','WRGTWRtcRCke','r8oIW6/cK8k5','WRnlyNnnW54JqG','oXqCWQ86dq','bmo8oCkMfW','W4pdNSo/W47cNwG','WQhcPZVcJtG','BCo2nSoI','WOZdUSo3vvVdMYJcUmoHW5JcQv3dQmkWW6ZcMmoFsCofWRJcMmkiiSoUW6tcQ8owWRZcRbaz5lQA5y2S5ywl5BIJ6zo95ysQ5RcD55UI6lw85yY7776m5AcG5yALWRVcSmkK77YF5Aw35lUX55s6WR7LIkZLIyu','rCouW4O','dL4qW6CLuSokW5DR','W5JcIwNcGae6W7hcQa','wmkyWRKBzq','oSk4W5pcUmoR','CSo+vSoWlW','WO8ZWOOSrW','WO7cGdXh','W4zAW5DW','ee8rW70QuSog','4P+QWOZOHPFMNQ/OVl7OOypPGOtLIz3KUBNPL7xORAddJW','EmkDWPuOAIRcTXhdSeXfcSo1W5LiWP/cTmo4W47cOs9QWPBcM1TQWP5NWQRcV8kwWPtcQhi3h8o/WO/dR3LIW5/cHNFdImkHrmk6WQqNcCo+WQZcLMr4WPHRtmk4x8o3k8oIWPFdP8kqk8kIWROvWRJdQSoApSokWPDQsNKmWP1aWRtcISkxqJ/cVvldMmkRWRpcI1nTW6iAxsGJW7NcNHqqFXreW5BcRCka','WP4Mg3nbfYpcHbuSmmo5','d8oeW7WxW54','WPzIdSosWR4CWRZdS8k8','WOtdHgldTfa','qSovW5NcL8kW','p8kRW4hcUSox','r8oCneXcWOS','W5DhW6msDqWPW5K','W65+W7uHDa','qcFcOG','xfxdSxVdNmkr','W45nW6qaEcu5','WRKOWPdcUSk6dq','WR7cJcjmW6K','WQtcIanaW64','f+ITGoAXK+wMI+I1Rf7INO0b','W6L0WOr9WRmaWRG','WRRcUSk8g8o+xKG','DSoTo190'].concat((function(){return['WQBcTgXJyCoOaa','y19NgxW','EgtdL3ldQq','tSolq8kQtatcQCkEv8k1','exxdUmosWQm4W4HmWR/cMW','WQRdM8ogz2hdTq','bmkAEq','c1G3W5WX','WRNcNmkIdCov','WO8+xapcLa','fWmFWQeN','h8kBFwldTmkfWOddJCkZxIu','nCkfW5/cUCoaW4VdSaNcOCkO','yurlW7L9xCkLt8o8mmk1W5ddOa','5Rg95P2t5yAr5RcF55Mn5BU96zcE','x0JdR1RdGmkbWQrRzCoDvCkVWOpcK8kWcXS','W79xWOFcSW','i8k9AmkPW5HSWPO','5Rg35P2Y5ywl5Rk+55MD5BQD6zod','FmkqCZ13gSozWR4iySoEWRxcRW','W4T8xYFdKG4','8l2yTXG','C2pdNgpdOCkWWRTvrSo2D8ktWQFcLSkxjYNcSmkpW5nPvtbkdJKi','efu9q8krWRrmWOC','eMJLJjpLHPZLUiNPK7/LHOBMSPNLPRpOTOm+CL5C','WQnmF3a','4P6zW6/MN6lNNRJORAxMSB0p','WQG1WPBcLSkLjmkrW64','WPOQWOO7Bcb/vK1fB8oQiKVcMCkJW71MWRyd','W4qhb0u9','tIq2tse','WQ7dLf3dPwq','WRDczhC','WQhdP8kwWPa','5lMN5zwW5zcR','uCodxKZdUcutEmkutZrKW5ZdSshdHW','uHOvsbq','WRKSguflftVdHJyfmSoZbSooWQHs','FCo4nSoIWP4iW6xcSW','bce8WO4B','h8kv5y6o5ywl5zwH5zc45PE26jwz5OIc5yUo','W71zWO0','vrv7WPhcV20','zKecWQCGW6q+WQS','W5vBWPZcKCo3','WQqQWPSpErjW','CSkEya','WQuEtbxcTMvsWQRcUa','WOLJ5y6M5yw95BUA6zcG5yw45RcW5Asl6lA4W45fW57cKq','WQySW58QDeOIcaW3','WRbaW6qigW','WQTFW44CcW','WRuEutO','W4VdICo+W7dcJ2JcPG','W4RdMCkIW6zGWOe','oCoZpSkKlWFcNSosW6PCnt8yWP9IWQi','W45loCoDW4jCrh0VWQ/cPsBcI8kpx8o+aCouWPKC','WOhcOIDnW5O','fIa5WP46','yeHOcuddMgS1W6CLm8k+W5WZW5FcNq','5O+M56wa57Uf5P6JW4S0WOtcPG7cUCo0W79eW7i','5yYd5yA85zAo5zkC5PAK6jEW5AsE6lEo','WR4MggPThq','DSodd1Dk','4PYMW5xMN6VOR6xLUjFPKlZLHPZMSyRLI4/OOz/LPBhOTPxcQhHTza','W4nHscVdJq','WQ9zWQb+WRKJWOK','rsBcTSkkW6XX','W6HLWODHWRGuWQxdQq0','5y2h5ywf5BM96zcS5yE+5RkU5OQ75yMl','vuldRvhdM8kE','pdiDWQm5','rmoAE3pdQCkQWPZcJCkkuIldLCoKnGWUWPxcUCokWQbjWPxcSG','WQiFWOfGqq','pmk9ta','W6hdSKVdT3K3','pSkpW4W','u1tdRfJdN8k1WRzssW','W4i7u8oTWPC','qs5NWRFcUW','W6pcRw/cNtS','xJhcOCkzW5K','WPNdINxdIxZcHYe2W5i','r8ouW5O','dLO3wW','mmk1tuBcP29KW5m8nvJcI8odW5JcHINcPq','WQaDWRXOzva','WONdKwRdJvVcHa','qrT/WOG','W71iW59NDmo6W4if','j8o0W7WnW4dcOMKGWR8eWOKTbCoGz2zKW4KAW40','WQ45gw5q','WQBcONG','pWugWRG9x8k9e8owiCkBWRtdR3Txk2DZs1pdH8klWPzJ','WPJcGvfwvq','WROSauTlhJ7dHXiHiCoOf8oi','W7j/WPzKWQmxWQNdVa','W4C3l34KWRq','WRddR8ktWPddGSoB','WQzvW6ixWRZdNG','EtVcOmkDW5bKWPGu','prvFWQS+dCo2wCobnmkEW7xdSJbpyIq','W487uCoMWP8/','WOvuW6KQ','p8kfW5JcH8oeW5/dPG','hmkiW6lcGSoQ','W6tdS18','smouW5dcN8kCCmkPWQRdPq','W5SMhMK5WRi','W4tdKSkLW4b9WPRdKmk1W4VdK8kWWP9bBq','W7nroW','zCo4jq','ubv6WPdcMx7dQCoPxmoGWRZcOq3cG2ddICoa','Cmo6d8oTWRy','WRRdQCky','vmofDmoBprS','W65IW5tdJSo9jCkTW5zTifu','WOHyW7qUemoeW5NcHWzmW5ZdVr47aSkwW5pcRrzvybtdRSoQWPdcTSkoW4KfvYZcJNHFn8kpWRNdUGhcQa','WQ1qpwbIWOz7fSoZAG'].concat((function(){return['W61lWPXgWQW','WO/dLCk6WRddNW','cK8SrSkkWRDaWPlcGq','oSk1rG','sSowamkSx0K','WRZcRaRcPJH1W4bIWRyyWQldR8kI','W47dKSkIW7bZWPldNG','W43dICo0W7a','WOhcLubftSojkLCNk8ofqCkSW5XzyaiTWQmqBKWKW4CRW4CyWQu','4PY1g+AEU+IVJEwwOUwqKEwfMUAWNowlR+IIQUwLSEI1VK7cKmoEWRK','ASkECZ9ZiCocWRu','W5uIbg0LWQ9LWR5vW7hcGHFcLW','o8kMamoBWR8YW6RcTq','smkH5y2p5ysm5zE/5zcW5Ps36jAa5OUF5yUD','r8osr1q','W4iECmoHWP8','5yYG5y+h5yAg','W7j/WOzTWQqh','WQldPCkgWQldRG','5y2B5yAj5zwk5zcZ5Pw56jAu5OQm5yMs','W4jMWQtcKmoy','WOOCWQf5CKOLW7n6surO','WQuCWQG','WOddIHpdTMldUW','WQySWOG','WRtdIbNdRxG','5y+56yw66k6S5PI2gSoeW73cQY9SW6tcOgZcUa','vxzMiv8','C8osFCoPirfHz2tdLq','WOFdN3C','W49nW7KuBsO','4P2sW5hOHj3MNBlOV4/OOkpPG7dLI6JKU6hPLjFORz3dKa','WPJcT3H6wa','jH8yWQqAW5q','C8kuDc1+cmos','oSkfW4RcKmoaW4RdSa','fmoJeCkvbq','b8ogW40hW4S','vXqRw8knWRXAW5VcQSkNiJ4cW57cV8or','4P+eWRZMN53ORBdLUPZPKRNLHOpMS5ZLI7BOOipLP6tOTOBdUmk/saS','W5CfqSo3WRS','WRVcVslcIZC','WOVcKJTpW4Oz','Fmk5WRuIqq','WQb8W7WpWRS','pmoYW6mzW6S','WQuZWPpcS8kE','WPKLegj2','W7TFkmoo','WQLXAhC','WQWbWR1azem','vSoeySotlHa','WRNdKL3dHLm','WR/dQmkmWOhdLCoD','aaqsWQyDW5erWPG','sCk7AsHX','W7TIWRpcOmoM','WOShd31N','tuJdT1FdG8k4WOf0','jSkpW5/cLCojW7BdTGu','WPFdI8onCMZdJG/cM8oDW5hcN3tdTmkqW5hcSW','W7D+WPi','WRqUWPBcH8k6umolWQXsktxcTmolbdVcQCoXWQTGWRRcLNKeWOidAmkvW6hdL8ocWOWUWPxcOg7cSCkFWPP7DCkaWROr','q8oBqvddMci','rSoqlhasWORcTa','WPxdRSoMrKa','d8kAmLXKWPBcR8o9EZq','W7ldG8kfW4z1','xXrLWPNcHh0','xvjQ','W61bW5WvwG','W7uvnxjqW642q8kT','rb9tWR58b8oiW4buE8owWRa','gSoUW74','W4zAW6u+AIu','W7PIWOzHWReD','wHvX','WPFcLCk9WRRdMZZcQdJcQmkDW6NcSa','W49hW7a','WQ5kBMHnW54JqG','WR/dJwldKLZcGsu1','WPOmiq','gLqWsCknWRC','WOFdS8kAWPBdNSo6x1SvWOHdW4axW5qJWQfQvmkvWPO','4P27WPFMN7tORzJLLi/LKR/LHAlMS4NLIjlOO4VLPPhOTiKovc0O','aCkkhHNcPhuzwCkQutW+','W5yBv8ocWO8','a8kvW47cHSoCW6VdQWFcTSklWPCzWPnOW4NdT2mcsCob','ySkCWR0qqa','WQqwWRX+DKm0','WQFcTGJcQLLWkgtcTH0','WPnyW7i3dCkzWP/dJGG','W4LREbZdOG','W4pdNSo/W6ZcNa','ys49','CCo9AgpdUq','lCoJiCkk','cw0RW4ef','WRSEsYxcUg1C','sG1Of8oDW6vNWOpcRSkmlb4','5lQN5BMT6zo2','W77cLNNcLGG','W4K7x8on','WQhcSL5Dzq','p8kYFh/dUq','W6xdOmkxW6Ta','pH8bWQ08eq','cbBcUWxcNCoeW4X0wSoZEmkAWPy','tftdPNFdN8kgWQb1Eq','W7fIWPPMWQyWWO7dHdm','W5xdHmoIW7pcP2S','W5rIWOrlWRK','WOyBWQFcGSkn','E8k9DITh','rSoxixjc','WQzkDq'];}()));}()));}());Iii11l=function(){return ii1iiI;};return Iii11l();};async function sendRequest(l1lIi1){const i11il1=llllI,iIli1l={'aTPxE':'没有收藏的商品','GlCsJ':'取关店铺关注失败','jTYvk':function(iIII11,IiI1i){return iIII11(IiI1i);},'YSETx':i11il1(0x2c2,'EhT^'),'dwVZM':i11il1(0x221,'EgOw'),'vrURz':'0123456789','JaRyO':'Mozilla/5.0\x20(Windows\x20NT\x2010.0;\x20Win64;\x20x64)\x20AppleWebKit/537.36\x20(KHTML,\x20like\x20Gecko)\x20Chrome/111.0.0.0\x20Safari/537.36','DleeR':i11il1(0x219,'EgOw'),'JDFxq':'ajax','kCokw':'delFollowProduct','hXxLN':i11il1(0x291,'nS]Q'),'IuCwE':i11il1(0x232,'Ojo^'),'RbjbE':i11il1(0x209,'&IRm'),'EmfQM':'DelShopFav','Bthut':i11il1(0x2c0,'lUsE'),'DdjrA':i11il1(0x2a0,'fUey'),'uOaab':i11il1(0x23e,'&P59'),'WJnvn':i11il1(0x231,'C5qw'),'nzeTB':'jsonpCBKF','SPNFU':function(llll1,lil11l){return llll1===lil11l;},'DjZEv':i11il1(0x2a3,'pZ!R'),'FWFhR':i11il1(0x2ae,'p560'),'NZePR':'zh-CN,zh;q=0.9,en;q=0.8,en-GB;q=0.7,en-US;q=0.6','hwrlv':i11il1(0x28d,'VjCz'),'tGION':'https://wqs.jd.com/','MVbRm':'empty','YEdUM':i11il1(0x1d5,'Ojo^'),'zEmCk':i11il1(0x2cc,'0BpQ'),'YDeuI':i11il1(0x1a9,'q^x)'),'tCrIv':function(i1i1Il,I1lIl1){return i1i1Il<I1lIl1;},'SlZfA':i11il1(0x1fb,'r)jG'),'FaPZk':'fdZcy','lJbEG':function(lil11i,IlIIl){return lil11i>IlIIl;},'kjpaI':'Wvqmf','ObAGr':i11il1(0x19a,'VjCz'),'ULcVz':function(lI1liI,i1i1Ii,lllii){return lI1liI(i1i1Ii,lllii);},'aoeNz':function(iI11Ii,iIII1l){return iI11Ii>=iIII1l;},'wnOQC':function(lllil,iI11Il){return lllil!==iI11Il;},'qGTxr':'DRzNh','bBEtd':i11il1(0x2b6,'n5(i')};if($[i11il1(0x18e,'QjFN')]||$[i11il1(0x1e9,'Qq8r')])return;let i1i1II='',liiIIl=null,iil1iI=null,IlIllI=i11il1(0x284,'q^x)'),il1i1I={},lI1li1={};switch(l1lIi1){case iIli1l[i11il1(0x1e0,'nS]Q')]:lI1li1={'appId':'c420a','functionId':i11il1(0x2c4,'fUey'),'appid':iIli1l[i11il1(0x2c6,'350T')],'body':{'cp':0x1,'pageSize':0x1e,'category':'','promote':0x0,'cutPrice':0x0,'coupon':0x0,'stock':0x0,'area':'1_72_'+common['genRandomString'](0x4,iIli1l[i11il1(0x1c3,'u@w8')])+'_0','tenantCode':i11il1(0x206,'(hd['),'bizModelCode':'6','bizModeClientType':'M','externalLoginType':'1'},'version':'4.3','ua':iIli1l[i11il1(0x2d9,'r)jG')]},il1i1I=await H5st[i11il1(0x273,'r)jG')](lI1li1),i1i1II=iIli1l[i11il1(0x1a3,'Qq8r')],iil1iI=Object[i11il1(0x25d,'EhT^')]({},il1i1I[i11il1(0x2df,'r)jG')],{'sceneval':'2','g_login_type':'1','g_ty':iIli1l[i11il1(0x2b3,'n]XW')],'appCode':i11il1(0x1ed,'Qq8r')});break;case iIli1l[i11il1(0x203,'EgOw')]:i1i1II=iIli1l[i11il1(0x262,'q^x)')],liiIIl={'commId':$['commId'],'tenantCode':iIli1l[i11il1(0x1a1,'@ueS')],'bizModelCode':'6','bizModeClientType':'M','externalLoginType':'1'},iil1iI={'appid':iIli1l[i11il1(0x194,'pZ!R')],'functionId':iIli1l[i11il1(0x1f5,'EhT^')],'body':JSON[i11il1(0x20e,'gU6g')](liiIIl),'loginType':'2','sceneval':'2','g_login_type':'1','g_ty':'ajax','appCode':iIli1l[i11il1(0x2b2,'!EmB')]};break;case i11il1(0x1f7,'lUsE'):i1i1II=i11il1(0x271,'pZ!R'),iil1iI={'cp':'1','pageSize':'10','_':Date[i11il1(0x1c2,'0BpQ')](),'sceneval':'2','g_login_type':'1','appCode':iIli1l[i11il1(0x257,'Gc$B')],'callback':iIli1l[i11il1(0x1bd,'lUsE')],'g_ty':'ls'};break;case iIli1l[i11il1(0x1da,'nS]Q')]:i1i1II=iIli1l[i11il1(0x1c6,'TzGw')],iil1iI={'shopId':$['shopId'],'_':Date[i11il1(0x19d,'Gku!')](),'sceneval':'2','g_login_type':'1','appCode':i11il1(0x1bf,'NdLN'),'callback':iIli1l['DdjrA'],'g_ty':'ls'};break;case iIli1l[i11il1(0x289,'oSP]')]:i1i1II=iIli1l[i11il1(0x26a,'Jsue')],iil1iI={'shopId':$[i11il1(0x2d0,'lUsE')],'_':Date[i11il1(0x186,'pZ!R')](),'sceneval':'2','g_login_type':'1','appCode':i11il1(0x232,'Ojo^'),'callback':iIli1l[i11il1(0x1ac,'gU6g')],'g_ty':'ls'};break;default:console[i11il1(0x270,'fUey')](i11il1(0x1d6,'GcLY')+l1lIi1);return;}const iI11II={};liiIIl&&Object[i11il1(0x1d0,'QjFN')](liiIIl,iI11II);iil1iI&&(iIli1l[i11il1(0x1e3,'EgOw')](iIli1l['DjZEv'],iIli1l[i11il1(0x1db,'gU6g')])?Object[i11il1(0x266,'j[H#')](iil1iI,iI11II):(I1l1Ii['outFlag']=!![],I1i11i[i11il1(0x28c,')!oh')]&&llIlil[i11il1(0x1bc,'WySh')]['fix'](IIlil)));const iIII1I={'url':i1i1II,'method':IlIllI,'headers':{'Accept':[iIli1l['YSETx'],iIli1l['kCokw']][i11il1(0x1d3,'350T')](l1lIi1)?i11il1(0x1df,'X44C'):'*/*','Accept-Encoding':iIli1l[i11il1(0x29c,'p560')],'Accept-Language':iIli1l['NZePR'],'Connection':iIli1l['hwrlv'],'Content-Type':'application/x-www-form-urlencoded','Cookie':cookie,'Origin':'https://wqs.jd.com','Referer':iIli1l[i11il1(0x294,'u@w8')],'Sec-Fetch-Dest':iIli1l[i11il1(0x1b1,'RaCu')],'Sec-Fetch-Mode':iIli1l[i11il1(0x1c5,'Sa8y')],'Sec-Fetch-Site':iIli1l['zEmCk'],'User-Agent':i11il1(0x1a8,'n]XW')},'params':iil1iI,'data':liiIIl,'timeout':0x7530,'httpsTlsOptions':[iIli1l[i11il1(0x234,'KXJs')]]['includes'](l1lIi1)?common[i11il1(0x29f,'&IRm')]():null};IlIllI==='GET'&&(delete iIII1I['data'],delete iIII1I[i11il1(0x256,'@ueS')][iIli1l['YDeuI']]);const ilil1i=0x1;let IlIIi=0x0,IiI1l=null,illlII=![];while(iIli1l[i11il1(0x2b8,'RaCu')](IlIIi,ilil1i)){if(iIli1l[i11il1(0x21a,'WySh')](iIli1l[i11il1(0x267,'gU6g')],iIli1l['FaPZk']))II11Ii[i11il1(0x249,')!oh')](iIli1l['aTPxE']),II11Il['message']['insert'](iIli1l['aTPxE']);else{iIli1l['lJbEG'](IlIIi,0x0)&&(iIli1l[i11il1(0x247,'*hzp')](iIli1l['kjpaI'],iIli1l['kjpaI'])?await $['wait'](0x3e8):(i1ilii[i11il1(0x1e5,'*hzp')](i11il1(0x2b9,'2$fI')+(iIIII1?.[i11il1(0x265,')!oh')]||i1l1ll[i11il1(0x2de,'!EmB')](I1iIiI))),li1I1['message'][i11il1(0x1f2,'p560')](i11il1(0x1f9,'GcLY'))));const il1i11=await common[i11il1(0x1b9,'fUey')](iIII1I);if(!il1i11['success']){IiI1l='🚫\x20'+l1lIi1+i11il1(0x1b8,'j[H#')+il1i11[i11il1(0x290,'3E3J')],IlIIi++;continue;}if(!il1i11[i11il1(0x2b5,'350T')]){if(iIli1l[i11il1(0x274,'2$fI')](i11il1(0x185,'n]XW'),iIli1l['ObAGr'])){IiI1l=i11il1(0x1d1,'XqcK')+l1lIi1+i11il1(0x2d2,'2$fI'),IlIIi++;continue;}else Iil1I1['log'](i11il1(0x1d4,'l&kk')+(Ii1iII?.['errMsg']||l1i11I[i11il1(0x28e,'C5qw')](II11II))),Ii1iI1['message'][i11il1(0x212,')!oh')](iIli1l['GlCsJ']);}await iIli1l['ULcVz'](handleResponse,l1lIi1,il1i11[i11il1(0x1a4,'EhT^')]),illlII=![];break;}}iIli1l[i11il1(0x20a,'oSP]')](IlIIi,ilil1i)&&(iIli1l[i11il1(0x2c7,'gU6g')](iIli1l[i11il1(0x258,'Fi)x')],iIli1l['qGTxr'])?I1iIl1[i11il1(0x2da,'n]XW')](i11il1(0x252,'Jsue')+i1il):(console[i11il1(0x27c,'Fi)x')](IiI1l),illlII&&($[i11il1(0x1ba,'GcLY')]=!![],$['message']&&(iIli1l[i11il1(0x25c,'VjCz')](iIli1l['bBEtd'],i11il1(0x233,'fUey'))?(iliIII['QueryShopFavListData']=iIIl1i[i11il1(0x263,'I7ih')]||[],I1lllI[i11il1(0x23d,'Jsue')]=iIli1l[i11il1(0x26b,'*hzp')](ill111,Iliil1?.[i11il1(0x1b0,'RaCu')]||0x0)):$[i11il1(0x2ac,'&P59')][i11il1(0x2a6,'Ojo^')](IiI1l)))));}var version_ = 'jsjiami.com.v7';
// prettier-ignore
function Env(t, e) { "undefined" != typeof process && JSON.stringify(process.env).indexOf("GITHUB") > -1 && process.exit(0); class s { constructor(t) { this.env = t } send(t, e = "GET") { t = "string" == typeof t ? { url: t } : t; let s = this.get; return "POST" === e && (s = this.post), new Promise((e, i) => { s.call(this, t, (t, s, r) => { t ? i(t) : e(s) }) }) } get(t) { return this.send.call(this.env, t) } post(t) { return this.send.call(this.env, t, "POST") } } return new class { constructor(t, e) { this.name = t, this.http = new s(this), this.data = null, this.dataFile = "box.dat", this.logs = [], this.isMute = !1, this.isNeedRewrite = !1, this.logSeparator = "\n", this.startTime = (new Date).getTime(), Object.assign(this, e), this.log("", `🔔${this.name}, 开始!`) } isNode() { return "undefined" != typeof module && !!module.exports } isQuanX() { return "undefined" != typeof $task } isSurge() { return "undefined" != typeof $httpClient && "undefined" == typeof $loon } isLoon() { return "undefined" != typeof $loon } toObj(t, e = null) { try { return JSON.parse(t) } catch { return e } } toStr(t, e = null) { try { return JSON.stringify(t) } catch { return e } } getjson(t, e) { let s = e; const i = this.getdata(t); if (i) try { s = JSON.parse(this.getdata(t)) } catch { } return s } setjson(t, e) { try { return this.setdata(JSON.stringify(t), e) } catch { return !1 } } getScript(t) { return new Promise(e => { this.get({ url: t }, (t, s, i) => e(i)) }) } runScript(t, e) { return new Promise(s => { let i = this.getdata("@chavy_boxjs_userCfgs.httpapi"); i = i ? i.replace(/\n/g, "").trim() : i; let r = this.getdata("@chavy_boxjs_userCfgs.httpapi_timeout"); r = r ? 1 * r : 20, r = e && e.timeout ? e.timeout : r; const [o, h] = i.split("@"), n = { url: `http://${h}/v1/scripting/evaluate`, body: { script_text: t, mock_type: "cron", timeout: r }, headers: { "X-Key": o, Accept: "*/*" } }; this.post(n, (t, e, i) => s(i)) }).catch(t => this.logErr(t)) } loaddata() { if (!this.isNode()) return {}; { this.fs = this.fs ? this.fs : require("fs"), this.path = this.path ? this.path : require("path"); const t = this.path.resolve(this.dataFile), e = this.path.resolve(process.cwd(), this.dataFile), s = this.fs.existsSync(t), i = !s && this.fs.existsSync(e); if (!s && !i) return {}; { const i = s ? t : e; try { return JSON.parse(this.fs.readFileSync(i)) } catch (t) { return {} } } } } writedata() { if (this.isNode()) { this.fs = this.fs ? this.fs : require("fs"), this.path = this.path ? this.path : require("path"); const t = this.path.resolve(this.dataFile), e = this.path.resolve(process.cwd(), this.dataFile), s = this.fs.existsSync(t), i = !s && this.fs.existsSync(e), r = JSON.stringify(this.data); s ? this.fs.writeFileSync(t, r) : i ? this.fs.writeFileSync(e, r) : this.fs.writeFileSync(t, r) } } lodash_get(t, e, s) { const i = e.replace(/\[(\d+)\]/g, ".$1").split("."); let r = t; for (const t of i) if (r = Object(r)[t], void 0 === r) return s; return r } lodash_set(t, e, s) { return Object(t) !== t ? t : (Array.isArray(e) || (e = e.toString().match(/[^.[\]]+/g) || []), e.slice(0, -1).reduce((t, s, i) => Object(t[s]) === t[s] ? t[s] : t[s] = Math.abs(e[i + 1]) >> 0 == +e[i + 1] ? [] : {}, t)[e[e.length - 1]] = s, t) } getdata(t) { let e = this.getval(t); if (/^@/.test(t)) { const [, s, i] = /^@(.*?)\.(.*?)$/.exec(t), r = s ? this.getval(s) : ""; if (r) try { const t = JSON.parse(r); e = t ? this.lodash_get(t, i, "") : e } catch (t) { e = "" } } return e } setdata(t, e) { let s = !1; if (/^@/.test(e)) { const [, i, r] = /^@(.*?)\.(.*?)$/.exec(e), o = this.getval(i), h = i ? "null" === o ? null : o || "{}" : "{}"; try { const e = JSON.parse(h); this.lodash_set(e, r, t), s = this.setval(JSON.stringify(e), i) } catch (e) { const o = {}; this.lodash_set(o, r, t), s = this.setval(JSON.stringify(o), i) } } else s = this.setval(t, e); return s } getval(t) { return this.isSurge() || this.isLoon() ? $persistentStore.read(t) : this.isQuanX() ? $prefs.valueForKey(t) : this.isNode() ? (this.data = this.loaddata(), this.data[t]) : this.data && this.data[t] || null } setval(t, e) { return this.isSurge() || this.isLoon() ? $persistentStore.write(t, e) : this.isQuanX() ? $prefs.setValueForKey(t, e) : this.isNode() ? (this.data = this.loaddata(), this.data[e] = t, this.writedata(), !0) : this.data && this.data[e] || null } initGotEnv(t) { this.got = this.got ? this.got : require("got"), this.cktough = this.cktough ? this.cktough : require("tough-cookie"), this.ckjar = this.ckjar ? this.ckjar : new this.cktough.CookieJar, t && (t.headers = t.headers ? t.headers : {}, void 0 === t.headers.Cookie && void 0 === t.cookieJar && (t.cookieJar = this.ckjar)) } get(t, e = (() => { })) { t.headers && (delete t.headers["Content-Type"], delete t.headers["Content-Length"]), this.isSurge() || this.isLoon() ? (this.isSurge() && this.isNeedRewrite && (t.headers = t.headers || {}, Object.assign(t.headers, { "X-Surge-Skip-Scripting": !1 })), $httpClient.get(t, (t, s, i) => { !t && s && (s.body = i, s.statusCode = s.status), e(t, s, i) })) : this.isQuanX() ? (this.isNeedRewrite && (t.opts = t.opts || {}, Object.assign(t.opts, { hints: !1 })), $task.fetch(t).then(t => { const { statusCode: s, statusCode: i, headers: r, body: o } = t; e(null, { status: s, statusCode: i, headers: r, body: o }, o) }, t => e(t))) : this.isNode() && (this.initGotEnv(t), this.got(t).on("redirect", (t, e) => { try { if (t.headers["set-cookie"]) { const s = t.headers["set-cookie"].map(this.cktough.Cookie.parse).toString(); s && this.ckjar.setCookieSync(s, null), e.cookieJar = this.ckjar } } catch (t) { this.logErr(t) } }).then(t => { const { statusCode: s, statusCode: i, headers: r, body: o } = t; e(null, { status: s, statusCode: i, headers: r, body: o }, o) }, t => { const { message: s, response: i } = t; e(s, i, i && i.body) })) } post(t, e = (() => { })) { if (t.body && t.headers && !t.headers["Content-Type"] && (t.headers["Content-Type"] = "application/x-www-form-urlencoded"), t.headers && delete t.headers["Content-Length"], this.isSurge() || this.isLoon()) this.isSurge() && this.isNeedRewrite && (t.headers = t.headers || {}, Object.assign(t.headers, { "X-Surge-Skip-Scripting": !1 })), $httpClient.post(t, (t, s, i) => { !t && s && (s.body = i, s.statusCode = s.status), e(t, s, i) }); else if (this.isQuanX()) t.method = "POST", this.isNeedRewrite && (t.opts = t.opts || {}, Object.assign(t.opts, { hints: !1 })), $task.fetch(t).then(t => { const { statusCode: s, statusCode: i, headers: r, body: o } = t; e(null, { status: s, statusCode: i, headers: r, body: o }, o) }, t => e(t)); else if (this.isNode()) { this.initGotEnv(t); const { url: s, ...i } = t; this.got.post(s, i).then(t => { const { statusCode: s, statusCode: i, headers: r, body: o } = t; e(null, { status: s, statusCode: i, headers: r, body: o }, o) }, t => { const { message: s, response: i } = t; e(s, i, i && i.body) }) } } time(t, e = null) { const s = e ? new Date(e) : new Date; let i = { "M+": s.getMonth() + 1, "d+": s.getDate(), "H+": s.getHours(), "m+": s.getMinutes(), "s+": s.getSeconds(), "q+": Math.floor((s.getMonth() + 3) / 3), S: s.getMilliseconds() }; /(y+)/.test(t) && (t = t.replace(RegExp.$1, (s.getFullYear() + "").substr(4 - RegExp.$1.length))); for (let e in i) new RegExp("(" + e + ")").test(t) && (t = t.replace(RegExp.$1, 1 == RegExp.$1.length ? i[e] : ("00" + i[e]).substr(("" + i[e]).length))); return t } msg(e = t, s = "", i = "", r) { const o = t => { if (!t) return t; if ("string" == typeof t) return this.isLoon() ? t : this.isQuanX() ? { "open-url": t } : this.isSurge() ? { url: t } : void 0; if ("object" == typeof t) { if (this.isLoon()) { let e = t.openUrl || t.url || t["open-url"], s = t.mediaUrl || t["media-url"]; return { openUrl: e, mediaUrl: s } } if (this.isQuanX()) { let e = t["open-url"] || t.url || t.openUrl, s = t["media-url"] || t.mediaUrl; return { "open-url": e, "media-url": s } } if (this.isSurge()) { let e = t.url || t.openUrl || t["open-url"]; return { url: e } } } }; if (this.isMute || (this.isSurge() || this.isLoon() ? $notification.post(e, s, i, o(r)) : this.isQuanX() && $notify(e, s, i, o(r))), !this.isMuteLog) { let t = ["", "==============📣系统通知📣=============="]; t.push(e), s && t.push(s), i && t.push(i), console.log(t.join("\n")), this.logs = this.logs.concat(t) } } log(...t) { t.length > 0 && (this.logs = [...this.logs, ...t]), console.log(t.join(this.logSeparator)) } logErr(t, e) { const s = !this.isSurge() && !this.isQuanX() && !this.isLoon(); s ? this.log("", `❗️${this.name}, 错误!`, t.stack) : this.log("", `❗️${this.name}, 错误!`, t) } wait(t) { return new Promise(e => setTimeout(e, t)) } done(t = {}) { const e = (new Date).getTime(), s = (e - this.startTime) / 1e3; this.log("", `🔔${this.name}, 结束! 🕛 ${s} 秒`), this.log(), (this.isSurge() || this.isQuanX() || this.isLoon()) && $done(t) } }(t, e) }
